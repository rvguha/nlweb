2025-02-09 15:01:10,314 [MainThread] INFO [httpx._send_single_request:1025] HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-09 15:01:24,059 [MainThread] INFO [root.__init__:60] ThreadedHTTPServer initialized
2025-02-09 15:01:54,674 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:88] [req_1739142114674] Received GET request for path: /favicon.ico
2025-02-09 15:02:03,757 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:88] [req_1739142123757] Received GET request for path: /?query=fun%20asian%20movies%20about%20food%20and%20arts&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-09 15:02:03,759 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:109] [req_1739142123757] Received parameters: {'query': ['fun asian movies about food and arts'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-09 15:02:03,761 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:129] [req_1739142123757] Processing query with handler: BaseNLWebHandler
2025-02-09 15:02:03,762 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:167] [query_1739142123762] Starting query handling for site: imdb, query_id: 
2025-02-09 15:02:04,040 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1025] HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-09 15:02:05,906 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,063 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,070 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,139 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,143 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,155 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,159 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,177 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,180 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,221 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,225 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,264 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,283 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,284 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,289 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,303 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,339 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,351 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,362 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,406 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,411 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,415 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,418 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,419 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,427 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,441 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,447 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,457 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,468 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,511 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,516 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,524 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,532 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,640 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,694 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,704 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,749 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,819 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,827 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,875 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,877 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:06,922 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:07,098 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:07,209 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:07,228 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:07,381 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:07,388 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:07,392 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:07,506 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:08,569 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:02:08,576 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:180] [query_1739142123762] Query handling completed successfully
2025-02-09 15:02:08,584 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:71] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-09 15:04:30,702 [MainThread] INFO [httpx._send_single_request:1025] HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-09 15:04:40,519 [MainThread] INFO [root.__init__:61] ThreadedHTTPServer initialized
2025-02-09 15:29:10,561 [MainThread] INFO [httpx._send_single_request:1025] HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-09 15:29:20,023 [MainThread] INFO [root.__init__:60] ThreadedHTTPServer initialized
2025-02-09 15:29:52,036 [MainThread] INFO [httpx._send_single_request:1025] HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-09 15:30:01,969 [MainThread] INFO [root.__init__:60] ThreadedHTTPServer initialized
2025-02-09 15:30:11,341 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:88] [req_1739143811341] Received GET request for path: /?query=healthy%20peruvian%20breakfast&site=latam_recipes&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-09 15:30:11,343 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:109] [req_1739143811341] Received parameters: {'query': ['healthy peruvian breakfast'], 'site': ['latam_recipes'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-09 15:30:11,345 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:129] [req_1739143811341] Processing query with handler: LatamHandler
2025-02-09 15:30:11,345 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:167] [query_1739143811345] Starting query handling for site: latam_recipes, query_id: 
2025-02-09 15:30:12,211 [Thread-5 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:13,167 [Thread-5 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:13,170 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:182] [query_1739143811345] Error in handle_query: 'LatamHandler' object has no attribute 'logger'
2025-02-09 15:30:13,175 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:183] [query_1739143811345] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 176, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 153, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/latam.py", line 33, in analyzeQuery
    self.logger.info(f"item_type in latam: {self.item_type}")
    ^^^^^^^^^^^
AttributeError: 'LatamHandler' object has no attribute 'logger'

2025-02-09 15:30:13,176 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:138] [req_1739143811341] Error handling request: 'LatamHandler' object has no attribute 'logger'
2025-02-09 15:30:13,179 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:139] [req_1739143811341] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 130, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 176, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 153, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/latam.py", line 33, in analyzeQuery
    self.logger.info(f"item_type in latam: {self.item_type}")
    ^^^^^^^^^^^
AttributeError: 'LatamHandler' object has no attribute 'logger'

2025-02-09 15:30:13,180 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:71] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-09 15:30:16,187 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:88] [req_1739143816187] Received GET request for path: /?query=healthy%20peruvian%20breakfast&site=latam_recipes&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-09 15:30:16,187 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:109] [req_1739143816187] Received parameters: {'query': ['healthy peruvian breakfast'], 'site': ['latam_recipes'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-09 15:30:16,188 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:129] [req_1739143816187] Processing query with handler: LatamHandler
2025-02-09 15:30:16,188 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:167] [query_1739143816188] Starting query handling for site: latam_recipes, query_id: 
2025-02-09 15:30:16,204 [Thread-6 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.397268 seconds
2025-02-09 15:30:16,205 [Thread-6 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.460018 seconds
2025-02-09 15:30:17,366 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:17,916 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:17,923 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:182] [query_1739143816188] Error in handle_query: 'LatamHandler' object has no attribute 'logger'
2025-02-09 15:30:17,925 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:183] [query_1739143816188] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 176, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 153, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/latam.py", line 33, in analyzeQuery
    self.logger.info(f"item_type in latam: {self.item_type}")
    ^^^^^^^^^^^
AttributeError: 'LatamHandler' object has no attribute 'logger'

2025-02-09 15:30:17,925 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:138] [req_1739143816187] Error handling request: 'LatamHandler' object has no attribute 'logger'
2025-02-09 15:30:17,927 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:139] [req_1739143816187] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 130, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 176, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 153, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/latam.py", line 33, in analyzeQuery
    self.logger.info(f"item_type in latam: {self.item_type}")
    ^^^^^^^^^^^
AttributeError: 'LatamHandler' object has no attribute 'logger'

2025-02-09 15:30:17,928 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:71] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-09 15:30:20,935 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:88] [req_1739143820935] Received GET request for path: /?query=healthy%20peruvian%20breakfast&site=latam_recipes&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-09 15:30:20,935 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:109] [req_1739143820935] Received parameters: {'query': ['healthy peruvian breakfast'], 'site': ['latam_recipes'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-09 15:30:20,936 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:129] [req_1739143820935] Processing query with handler: LatamHandler
2025-02-09 15:30:20,936 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:167] [query_1739143820936] Starting query handling for site: latam_recipes, query_id: 
2025-02-09 15:30:20,952 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.498738 seconds
2025-02-09 15:30:20,953 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.459724 seconds
2025-02-09 15:30:21,888 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:22,292 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:22,300 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:182] [query_1739143820936] Error in handle_query: 'LatamHandler' object has no attribute 'logger'
2025-02-09 15:30:22,301 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:183] [query_1739143820936] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 176, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 153, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/latam.py", line 33, in analyzeQuery
    self.logger.info(f"item_type in latam: {self.item_type}")
    ^^^^^^^^^^^
AttributeError: 'LatamHandler' object has no attribute 'logger'

2025-02-09 15:30:22,302 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:138] [req_1739143820935] Error handling request: 'LatamHandler' object has no attribute 'logger'
2025-02-09 15:30:22,304 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:139] [req_1739143820935] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 130, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 176, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 153, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/latam.py", line 33, in analyzeQuery
    self.logger.info(f"item_type in latam: {self.item_type}")
    ^^^^^^^^^^^
AttributeError: 'LatamHandler' object has no attribute 'logger'

2025-02-09 15:30:22,304 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:71] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-09 15:30:25,311 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:88] [req_1739143825311] Received GET request for path: /?query=healthy%20peruvian%20breakfast&site=latam_recipes&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-09 15:30:25,311 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:109] [req_1739143825311] Received parameters: {'query': ['healthy peruvian breakfast'], 'site': ['latam_recipes'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-09 15:30:25,312 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:129] [req_1739143825311] Processing query with handler: LatamHandler
2025-02-09 15:30:25,312 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:167] [query_1739143825312] Starting query handling for site: latam_recipes, query_id: 
2025-02-09 15:30:25,324 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.380599 seconds
2025-02-09 15:30:25,325 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.386673 seconds
2025-02-09 15:30:26,381 [Thread-8 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:26,902 [Thread-8 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:26,905 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:182] [query_1739143825312] Error in handle_query: 'LatamHandler' object has no attribute 'logger'
2025-02-09 15:30:26,907 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:183] [query_1739143825312] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 176, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 153, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/latam.py", line 33, in analyzeQuery
    self.hlogger.info(f"item_type in latam: {self.item_type}")
    ^^^^^^^^^^^
AttributeError: 'LatamHandler' object has no attribute 'logger'

2025-02-09 15:30:26,907 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:138] [req_1739143825311] Error handling request: 'LatamHandler' object has no attribute 'logger'
2025-02-09 15:30:26,909 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:139] [req_1739143825311] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 130, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 176, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 153, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/latam.py", line 33, in analyzeQuery
    self.hlogger.info(f"item_type in latam: {self.item_type}")
    ^^^^^^^^^^^
AttributeError: 'LatamHandler' object has no attribute 'logger'

2025-02-09 15:30:26,909 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:71] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-09 15:30:32,716 [MainThread] INFO [httpx._send_single_request:1025] HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-09 15:30:42,171 [MainThread] INFO [root.__init__:60] ThreadedHTTPServer initialized
2025-02-09 15:30:44,019 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:88] [req_1739143844019] Received GET request for path: /html/str_chat.html
2025-02-09 15:30:44,065 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:88] [req_1739143844065] Received GET request for path: /favicon.ico
2025-02-09 15:30:51,321 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:88] [req_1739143851321] Received GET request for path: /?query=healthy%20texmex%20breakfast&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-09 15:30:51,323 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:109] [req_1739143851321] Received parameters: {'query': ['healthy texmex breakfast'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-09 15:30:51,325 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:129] [req_1739143851321] Processing query with handler: BaseNLWebHandler
2025-02-09 15:30:51,326 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:167] [query_1739143851326] Starting query handling for site: imdb, query_id: 
2025-02-09 15:30:51,520 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1025] HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-09 15:30:53,213 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,215 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,239 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,240 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,268 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,270 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,273 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,301 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,347 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,357 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,372 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,374 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,387 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,389 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,401 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,415 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,430 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,431 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,449 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,474 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,479 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,487 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,489 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,517 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,545 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,552 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,560 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,569 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,581 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,591 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,650 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,669 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,683 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,716 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,722 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,763 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,803 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,827 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,867 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,916 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,924 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,926 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,933 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,950 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:53,998 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:54,033 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:54,134 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:54,191 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:54,292 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:55,376 [Thread-6 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:30:55,387 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:180] [query_1739143851326] Query handling completed successfully
2025-02-09 15:30:55,391 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:71] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-09 15:32:24,993 [MainThread] INFO [httpx._send_single_request:1025] HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-09 15:32:33,573 [MainThread] INFO [root.__init__:60] ThreadedHTTPServer initialized
2025-02-09 15:32:34,208 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:88] [req_1739143954208] Received GET request for path: /html/str_chat.html
2025-02-09 15:32:34,248 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:88] [req_1739143954248] Received GET request for path: /favicon.ico
2025-02-09 15:32:40,623 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:88] [req_1739143960623] Received GET request for path: /?query=healthy%20texmex%20breakfast&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-09 15:32:40,623 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:109] [req_1739143960623] Received parameters: {'query': ['healthy texmex breakfast'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-09 15:32:40,626 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:129] [req_1739143960623] Processing query with handler: BaseNLWebHandler
2025-02-09 15:32:40,626 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:167] [query_1739143960626] Starting query handling for site: imdb, query_id: 
2025-02-09 15:32:40,923 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1025] HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-02-09 15:32:42,411 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,551 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,562 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,589 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,604 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,629 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,641 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,656 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,669 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,680 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,688 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,711 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,723 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,725 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,738 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,763 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,776 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,783 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,806 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,831 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,833 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,842 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,849 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,850 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,858 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,860 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,882 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,896 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,914 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,937 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,953 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,962 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,973 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,983 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,989 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:42,990 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,023 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,043 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,095 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,126 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,136 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,181 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,200 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,251 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,293 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,305 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,388 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,427 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:43,588 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:46,973 [Thread-7 (process_request_thread)] INFO [httpx._send_single_request:1740] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-09 15:32:46,981 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:180] [query_1739143960626] Query handling completed successfully
2025-02-09 15:32:46,984 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:71] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-09 15:34:10,424 [MainThread] INFO [root.__init__:65] ThreadedHTTPServer initialized
2025-02-09 15:34:11,284 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739144051284] Received GET request for path: /html/str_chat.html
2025-02-09 15:34:11,326 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739144051326] Received GET request for path: /favicon.ico
2025-02-09 15:34:20,085 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739144060085] Received GET request for path: /?query=healthy%20peruvian%20breakfast&site=latam_recipes&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-09 15:34:20,087 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:114] [req_1739144060085] Received parameters: {'query': ['healthy peruvian breakfast'], 'site': ['latam_recipes'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-09 15:34:20,089 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:134] [req_1739144060085] Processing query with handler: LatamHandler
2025-02-09 15:34:20,090 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:172] [query_1739144060090] Starting query handling for site: latam_recipes, query_id: 
2025-02-09 15:34:20,995 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:33] item_type in latam: Recipe
2025-02-09 15:34:28,458 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:185] [query_1739144060090] Query handling completed successfully
2025-02-09 15:34:28,475 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-09 15:34:37,389 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739144077389] Received GET request for path: /?query=are%20there%20restaurants%20in%20Mountain%20view%20wher%20I%20can%20get%20these%3F&site=latam_recipes&model=gpt-4o-mini&prev=%5B%22healthy%20peruvian%20breakfast%22%5D&item_to_remember=
2025-02-09 15:34:37,390 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:114] [req_1739144077389] Received parameters: {'query': ['are there restaurants in Mountain view wher I can get these?'], 'site': ['latam_recipes'], 'model': ['gpt-4o-mini'], 'prev': ['["healthy peruvian breakfast"]']}
2025-02-09 15:34:37,390 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:134] [req_1739144077389] Processing query with handler: LatamHandler
2025-02-09 15:34:37,390 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:172] [query_1739144077390] Starting query handling for site: latam_recipes, query_id: 
2025-02-09 15:34:37,398 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.465223 seconds
2025-02-09 15:34:38,968 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:33] item_type in latam: Restaurant
2025-02-09 15:34:45,874 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:185] [query_1739144077390] Query handling completed successfully
2025-02-09 15:34:45,887 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:51:35,210 [MainThread] INFO [root.__init__:65] ThreadedHTTPServer initialized
2025-02-12 13:51:40,326 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397100326] Received GET request for path: /html/str_chat.html
2025-02-12 13:51:40,382 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397100382] Received GET request for path: /html/streaming.js
2025-02-12 13:51:40,401 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397100401] Received GET request for path: /favicon.ico
2025-02-12 13:51:41,129 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:52:04,532 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397124532] Received GET request for path: /html/clear.jpg
2025-02-12 13:52:04,533 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:52:04,557 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397124557] Received GET request for path: /favicon.ico
2025-02-12 13:52:10,112 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397130112] Received GET request for path: /html/clear.jpeg
2025-02-12 13:52:10,113 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:52:10,119 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:52:10,127 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397130127] Received GET request for path: /favicon.ico
2025-02-12 13:53:58,963 [MainThread] INFO [root.__init__:65] ThreadedHTTPServer initialized
2025-02-12 13:53:59,895 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397239895] Received GET request for path: /html/clear.jpeg
2025-02-12 13:53:59,920 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397239920] Received GET request for path: /favicon.ico
2025-02-12 13:54:01,729 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:54:01,740 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397241740] Received GET request for path: /favicon.ico
2025-02-12 13:54:02,499 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:54:05,958 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397245958] Received GET request for path: /html/str_chat.html
2025-02-12 13:54:05,971 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397245971] Received GET request for path: /html/streaming.js
2025-02-12 13:54:05,978 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397245978] Received GET request for path: /favicon.ico
2025-02-12 13:54:07,961 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397247961] Received GET request for path: /html/str_chat.html
2025-02-12 13:54:07,969 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:54:07,983 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397247983] Received GET request for path: /favicon.ico
2025-02-12 13:55:45,533 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397345533] Received GET request for path: /html/str_chat.html
2025-02-12 13:55:45,542 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:55:45,552 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397345552] Received GET request for path: /html/streaming.js
2025-02-12 13:55:45,561 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397345561] Received GET request for path: /favicon.ico
2025-02-12 13:55:54,298 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397354298] Received GET request for path: /html/str_chat.html
2025-02-12 13:55:54,304 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:55:54,310 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397354310] Received GET request for path: /html/streaming.js
2025-02-12 13:55:54,318 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397354318] Received GET request for path: /favicon.ico
2025-02-12 13:56:46,389 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397406389] Received GET request for path: /html/str_chat.html
2025-02-12 13:56:46,400 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:56:46,409 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397406409] Received GET request for path: /html/streaming.js
2025-02-12 13:56:46,419 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397406419] Received GET request for path: /favicon.ico
2025-02-12 13:56:47,575 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397407575] Received GET request for path: /html/str_chat.html
2025-02-12 13:56:47,579 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:56:47,592 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397407592] Received GET request for path: /favicon.ico
2025-02-12 13:57:53,851 [MainThread] INFO [root.__init__:65] ThreadedHTTPServer initialized
2025-02-12 13:57:57,275 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397477275] Received GET request for path: /html/str_chat.html
2025-02-12 13:57:57,333 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397477333] Received GET request for path: /favicon.ico
2025-02-12 13:58:04,231 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397484231] Received GET request for path: /html/str_chat.html
2025-02-12 13:58:04,237 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 13:58:04,250 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397484250] Received GET request for path: /favicon.ico
2025-02-12 14:00:44,730 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397644730] Received GET request for path: /html/str_chat.html
2025-02-12 14:00:44,736 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:00:44,746 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397644746] Received GET request for path: /html/streaming.js
2025-02-12 14:00:44,758 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397644758] Received GET request for path: /favicon.ico
2025-02-12 14:00:46,345 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397646345] Received GET request for path: /html/str_chat.html
2025-02-12 14:00:46,350 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:00:46,360 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397646360] Received GET request for path: /html/streaming.js
2025-02-12 14:00:46,368 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397646368] Received GET request for path: /favicon.ico
2025-02-12 14:01:14,730 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397674730] Received GET request for path: /html/str_chat.html
2025-02-12 14:01:14,738 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:01:14,746 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397674746] Received GET request for path: /html/streaming.js
2025-02-12 14:01:14,765 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397674765] Received GET request for path: /favicon.ico
2025-02-12 14:02:33,184 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397753184] Received GET request for path: /html/str_chat.html
2025-02-12 14:02:33,192 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:02:33,202 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397753202] Received GET request for path: /html/streaming.js
2025-02-12 14:02:33,211 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397753211] Received GET request for path: /favicon.ico
2025-02-12 14:03:07,451 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397787450] Received GET request for path: /html/str_chat.html
2025-02-12 14:03:07,457 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:03:07,465 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397787465] Received GET request for path: /html/streaming.js
2025-02-12 14:03:07,473 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397787473] Received GET request for path: /html/clear.jpeg
2025-02-12 14:03:07,477 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397787477] Received GET request for path: /favicon.ico
2025-02-12 14:03:40,324 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397820323] Received GET request for path: /?query=curd%20rice%20variations&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-12 14:03:40,326 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:114] [req_1739397820323] Received parameters: {'query': ['curd rice variations'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-12 14:03:40,330 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:134] [req_1739397820323] Processing query with handler: RecipeHandler
2025-02-12 14:03:40,331 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:172] [query_1739397820331] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-12 14:03:44,746 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739397824746] Received GET request for path: /html/info.png
2025-02-12 14:03:45,787 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:03:49,960 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:185] [query_1739397820331] Query handling completed successfully
2025-02-12 14:03:49,974 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:19:58,936 [MainThread] INFO [root.__init__:65] ThreadedHTTPServer initialized
2025-02-12 14:20:05,313 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739398805313] Received GET request for path: /html/chat_interface.html
2025-02-12 14:20:05,314 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:20:05,341 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739398805341] Received GET request for path: /favicon.ico
2025-02-12 14:20:46,453 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739398846452] Received GET request for path: /html/chat-interface.html
2025-02-12 14:20:46,459 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:20:46,470 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739398846470] Received GET request for path: /html/streaming.js
2025-02-12 14:20:46,477 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739398846477] Received GET request for path: /html/clear.jpeg
2025-02-12 14:20:46,498 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739398846498] Received GET request for path: /favicon.ico
2025-02-12 14:21:00,321 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739398860321] Received GET request for path: /?query=asian%20food%20movies&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-12 14:21:00,323 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:114] [req_1739398860321] Received parameters: {'query': ['asian food movies'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-12 14:21:00,325 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:134] [req_1739398860321] Processing query with handler: BaseNLWebHandler
2025-02-12 14:21:00,326 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:172] [query_1739398860326] Starting query handling for site: imdb, query_id: 
2025-02-12 14:21:08,998 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:185] [query_1739398860326] Query handling completed successfully
2025-02-12 14:21:09,008 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:23:38,431 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:28:52,763 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399332763] Received GET request for path: /favicon.ico
2025-02-12 14:28:55,355 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:28:56,257 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399336257] Received GET request for path: /html/chat-interface.html
2025-02-12 14:28:56,263 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:28:56,270 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399336270] Received GET request for path: /html/streaming.js
2025-02-12 14:28:56,274 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399336274] Received GET request for path: /html/clear.jpeg
2025-02-12 14:28:56,277 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399336277] Received GET request for path: /favicon.ico
2025-02-12 14:29:00,076 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399340076] Received GET request for path: /html/chat-interface.html
2025-02-12 14:29:00,079 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:29:00,082 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399340082] Received GET request for path: /html/streaming.js
2025-02-12 14:29:00,086 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399340086] Received GET request for path: /html/clear.jpeg
2025-02-12 14:29:00,088 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399340088] Received GET request for path: /favicon.ico
2025-02-12 14:31:05,101 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399465101] Received GET request for path: /html/chat-interface.html
2025-02-12 14:31:05,106 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:31:05,114 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399465114] Received GET request for path: /html/streaming-js.js
2025-02-12 14:31:05,117 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399465117] Received GET request for path: /favicon.ico
2025-02-12 14:31:49,317 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399509317] Received GET request for path: /html/streaming-js.js
2025-02-12 14:31:49,339 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399509339] Received GET request for path: /favicon.ico
2025-02-12 14:32:49,338 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:39:10,815 [MainThread] INFO [root.__init__:65] ThreadedHTTPServer initialized
2025-02-12 14:39:15,603 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399955603] Received GET request for path: /html/str-chat.html
2025-02-12 14:39:15,604 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:39:15,629 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739399955629] Received GET request for path: /favicon.ico
2025-02-12 14:43:53,793 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739400233793] Received GET request for path: /html/str_chat.html
2025-02-12 14:43:53,803 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 14:43:53,815 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739400233815] Received GET request for path: /html/streaming.js
2025-02-12 14:43:53,823 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739400233823] Received GET request for path: /html/clear.jpeg
2025-02-12 14:43:53,841 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739400233841] Received GET request for path: /favicon.ico
2025-02-12 14:44:05,285 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:93] [req_1739400245285] Received GET request for path: /?query=indian%20fight%20movies&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-12 14:44:05,287 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:114] [req_1739400245285] Received parameters: {'query': ['indian fight movies'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-12 14:44:05,290 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:134] [req_1739400245285] Processing query with handler: BaseNLWebHandler
2025-02-12 14:44:05,291 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:172] [query_1739400245291] Starting query handling for site: imdb, query_id: 
2025-02-12 14:44:10,594 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:185] [query_1739400245291] Query handling completed successfully
2025-02-12 14:44:10,607 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-12 15:20:21,259 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:76] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 16:55:02,149 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 16:55:02,485 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494502484] Received GET request for path: /html/str_chat.html
2025-02-13 16:55:02,496 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494502496] Received GET request for path: /html/events.js
2025-02-13 16:55:02,496 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 16:55:02,497 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494502497] Received GET request for path: /html/streaming.js
2025-02-13 16:55:02,499 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494502499] Received GET request for path: /html/clear.jpeg
2025-02-13 16:55:02,527 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494502527] Received GET request for path: /favicon.ico
2025-02-13 16:56:46,927 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494606927] Received GET request for path: /html/str_chat.html
2025-02-13 16:56:46,938 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 16:56:46,949 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494606949] Received GET request for path: /html/streaming.js
2025-02-13 16:56:46,955 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494606955] Received GET request for path: /html/clear.jpeg
2025-02-13 16:56:46,958 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494606958] Received GET request for path: /favicon.ico
2025-02-13 16:57:11,212 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494631212] Received GET request for path: /?query=eat%20drink%20man%20woman&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 16:57:11,215 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739494631212] Received parameters: {'query': ['eat drink man woman'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 16:57:11,218 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739494631212] Processing query with handler: Imdb2Handler
2025-02-13 16:57:11,219 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739494631219] Starting query handling for site: imdb2, query_id: 
2025-02-13 16:57:11,230 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739494631219] Error in handle_query: 'Imdb2Handler' object has no attribute 'movie_details_query'
2025-02-13 16:57:11,236 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739494631219] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 54, in getRankedAnswers
    if (self.movie_details_query):
        ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Imdb2Handler' object has no attribute 'movie_details_query'. Did you mean: 'isMovieDetailsQuery'?

2025-02-13 16:57:11,236 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739494631212] Error handling request: 'Imdb2Handler' object has no attribute 'movie_details_query'
2025-02-13 16:57:11,239 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739494631212] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 54, in getRankedAnswers
    if (self.movie_details_query):
        ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Imdb2Handler' object has no attribute 'movie_details_query'. Did you mean: 'isMovieDetailsQuery'?

2025-02-13 16:57:11,239 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 16:57:14,246 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494634246] Received GET request for path: /?query=eat%20drink%20man%20woman&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 16:57:14,246 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739494634246] Received parameters: {'query': ['eat drink man woman'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 16:57:14,247 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739494634246] Processing query with handler: Imdb2Handler
2025-02-13 16:57:14,247 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739494634247] Starting query handling for site: imdb2, query_id: 
2025-02-13 16:57:14,248 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739494634247] Error in handle_query: 'Imdb2Handler' object has no attribute 'movie_details_query'
2025-02-13 16:57:14,249 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739494634247] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 54, in getRankedAnswers
    if (self.movie_details_query):
        ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Imdb2Handler' object has no attribute 'movie_details_query'. Did you mean: 'isMovieDetailsQuery'?

2025-02-13 16:57:14,249 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739494634246] Error handling request: 'Imdb2Handler' object has no attribute 'movie_details_query'
2025-02-13 16:57:14,250 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739494634246] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 54, in getRankedAnswers
    if (self.movie_details_query):
        ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Imdb2Handler' object has no attribute 'movie_details_query'. Did you mean: 'isMovieDetailsQuery'?

2025-02-13 16:57:14,251 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 16:57:17,258 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494637258] Received GET request for path: /?query=eat%20drink%20man%20woman&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 16:57:17,258 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739494637258] Received parameters: {'query': ['eat drink man woman'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 16:57:17,259 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739494637258] Processing query with handler: Imdb2Handler
2025-02-13 16:57:17,259 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739494637259] Starting query handling for site: imdb2, query_id: 
2025-02-13 16:57:17,259 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739494637259] Error in handle_query: 'Imdb2Handler' object has no attribute 'movie_details_query'
2025-02-13 16:57:17,260 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739494637259] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 54, in getRankedAnswers
    if (self.movie_details_query):
        ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Imdb2Handler' object has no attribute 'movie_details_query'. Did you mean: 'isMovieDetailsQuery'?

2025-02-13 16:57:17,261 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739494637258] Error handling request: 'Imdb2Handler' object has no attribute 'movie_details_query'
2025-02-13 16:57:17,262 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739494637258] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 54, in getRankedAnswers
    if (self.movie_details_query):
        ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Imdb2Handler' object has no attribute 'movie_details_query'. Did you mean: 'isMovieDetailsQuery'?

2025-02-13 16:57:17,263 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 16:59:41,233 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 16:59:43,567 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494783566] Received GET request for path: /html/str_chat.html
2025-02-13 16:59:43,588 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494783588] Received GET request for path: /html/streaming.js
2025-02-13 16:59:43,618 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494783618] Received GET request for path: /favicon.ico
2025-02-13 16:59:50,589 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494790589] Received GET request for path: /?query=eat%20drink%20man%20woman&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 16:59:50,590 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739494790589] Received parameters: {'query': ['eat drink man woman'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 16:59:50,592 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739494790589] Processing query with handler: BaseNLWebHandler
2025-02-13 16:59:50,593 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739494790593] Starting query handling for site: imdb, query_id: 
2025-02-13 16:59:53,529 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739494793529] Received GET request for path: /html/info.png
2025-02-13 16:59:55,643 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739494790593] Query handling completed successfully
2025-02-13 16:59:55,649 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:02:14,673 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:04:12,641 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 17:07:54,197 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 17:07:55,667 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495275667] Received GET request for path: /html/str_chat.html
2025-02-13 17:07:55,685 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495275685] Received GET request for path: /html/streaming.js
2025-02-13 17:07:55,715 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495275715] Received GET request for path: /favicon.ico
2025-02-13 17:08:01,375 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495281375] Received GET request for path: /?query=eat%20drink%20man%20woman&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 17:08:01,376 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739495281375] Received parameters: {'query': ['eat drink man woman'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 17:08:01,378 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739495281375] Processing query with handler: BaseNLWebHandler
2025-02-13 17:08:01,379 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739495281379] Starting query handling for site: imdb, query_id: 
2025-02-13 17:08:07,232 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739495281379] Query handling completed successfully
2025-02-13 17:08:07,233 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:08:23,428 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495303428] Received GET request for path: /?query=eat%20drink%20man%20woman&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 17:08:23,429 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739495303428] Received parameters: {'query': ['eat drink man woman'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 17:08:23,430 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739495303428] Processing query with handler: BaseNLWebHandler
2025-02-13 17:08:23,430 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739495303430] Starting query handling for site: imdb, query_id: 
2025-02-13 17:08:24,247 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.459089 seconds
2025-02-13 17:08:30,188 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739495303430] Query handling completed successfully
2025-02-13 17:08:30,193 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:10:38,728 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 17:10:39,832 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495439832] Received GET request for path: /html/str_chat.html
2025-02-13 17:10:39,867 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495439867] Received GET request for path: /html/streaming.js
2025-02-13 17:10:39,883 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495439883] Received GET request for path: /favicon.ico
2025-02-13 17:10:47,360 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495447360] Received GET request for path: /?query=eat%20drink%20man%20woman&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 17:10:47,361 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739495447360] Received parameters: {'query': ['eat drink man woman'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 17:10:47,362 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739495447360] Processing query with handler: BaseNLWebHandler
2025-02-13 17:10:47,363 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739495447362] Starting query handling for site: imdb, query_id: 
2025-02-13 17:10:52,841 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739495447362] Query handling completed successfully
2025-02-13 17:10:52,846 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:11:50,239 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 17:12:04,360 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495524359] Received GET request for path: /?query=eat%20drink%20man%20woman&site=imdb&model=gpt-4o-mini&prev=%5B%22eat%20drink%20man%20woman%22%5D&item_to_remember=
2025-02-13 17:12:04,361 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739495524359] Received parameters: {'query': ['eat drink man woman'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['["eat drink man woman"]']}
2025-02-13 17:12:04,364 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739495524359] Processing query with handler: BaseNLWebHandler
2025-02-13 17:12:04,364 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739495524364] Starting query handling for site: imdb, query_id: 
2025-02-13 17:12:13,130 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739495524364] Query handling completed successfully
2025-02-13 17:12:13,144 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:12:15,804 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495535804] Received GET request for path: /html/str_chat.html
2025-02-13 17:12:15,830 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495535829] Received GET request for path: /html/streaming.js
2025-02-13 17:12:15,836 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495535836] Received GET request for path: /html/clear.jpeg
2025-02-13 17:12:15,852 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495535852] Received GET request for path: /favicon.ico
2025-02-13 17:12:20,138 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495540138] Received GET request for path: /?query=eat%20drink%20man%20woman&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 17:12:20,139 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739495540138] Received parameters: {'query': ['eat drink man woman'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 17:12:20,140 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739495540138] Processing query with handler: BaseNLWebHandler
2025-02-13 17:12:20,140 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739495540140] Starting query handling for site: imdb, query_id: 
2025-02-13 17:12:20,714 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.385361 seconds
2025-02-13 17:12:24,421 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739495540140] Query handling completed successfully
2025-02-13 17:12:24,426 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:13:25,937 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495605936] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20set%20in%20a%20family%20context%2C%20preferably%20asian%20food&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 17:13:25,938 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739495605936] Received parameters: {'query': ['movies about food, eating and cooking, set in a family context, preferably asian food'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 17:13:25,939 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739495605936] Processing query with handler: BaseNLWebHandler
2025-02-13 17:13:25,939 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739495605939] Starting query handling for site: imdb, query_id: 
2025-02-13 17:13:26,939 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.433414 seconds
2025-02-13 17:13:33,283 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739495605939] Query handling completed successfully
2025-02-13 17:13:33,285 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:14:13,834 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495653833] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context&site=imdb&model=gpt-4o&prev=%5B%5D&item_to_remember=
2025-02-13 17:14:13,835 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739495653833] Received parameters: {'query': ['movies about food, eating and cooking, asian food, preferably in a family context'], 'site': ['imdb'], 'model': ['gpt-4o'], 'prev': ['[]']}
2025-02-13 17:14:13,836 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739495653833] Processing query with handler: BaseNLWebHandler
2025-02-13 17:14:13,837 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739495653837] Starting query handling for site: imdb, query_id: 
2025-02-13 17:14:14,732 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.481326 seconds
2025-02-13 17:14:20,385 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739495653837] Query handling completed successfully
2025-02-13 17:14:20,391 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:16:16,372 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 17:16:17,874 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495777874] Received GET request for path: /html/str_chat.html
2025-02-13 17:16:17,888 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495777888] Received GET request for path: /html/streaming.js
2025-02-13 17:16:17,914 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495777914] Received GET request for path: /favicon.ico
2025-02-13 17:16:21,952 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495781952] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 17:16:21,953 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739495781952] Received parameters: {'query': ['movies about food, eating and cooking, asian food, preferably in a family context'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 17:16:21,955 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739495781952] Processing query with handler: BaseNLWebHandler
2025-02-13 17:16:21,956 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739495781956] Starting query handling for site: imdb, query_id: 
2025-02-13 17:16:31,665 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739495781956] Query handling completed successfully
2025-02-13 17:16:31,670 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:18:41,830 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 17:18:42,979 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495922979] Received GET request for path: /html/str_chat.html
2025-02-13 17:18:43,048 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495923048] Received GET request for path: /favicon.ico
2025-02-13 17:18:45,651 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739495925651] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 17:18:45,652 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739495925651] Received parameters: {'query': ['movies about food, eating and cooking, asian food, preferably in a family context'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 17:18:45,655 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739495925651] Processing query with handler: BaseNLWebHandler
2025-02-13 17:18:45,656 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739495925656] Starting query handling for site: imdb, query_id: 
2025-02-13 17:18:50,024 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739495925656] Query handling completed successfully
2025-02-13 17:18:50,030 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:23:24,481 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 17:23:25,265 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739496205265] Received GET request for path: /html/str_chat.html
2025-02-13 17:23:25,282 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739496205282] Received GET request for path: /html/streaming.js
2025-02-13 17:23:25,300 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739496205300] Received GET request for path: /favicon.ico
2025-02-13 17:23:34,158 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739496214158] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 17:23:34,160 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739496214158] Received parameters: {'query': ['movies about food, eating and cooking, asian food, preferably in a family context'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 17:23:34,162 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739496214158] Processing query with handler: BaseNLWebHandler
2025-02-13 17:23:34,163 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739496214163] Starting query handling for site: imdb, query_id: 
2025-02-13 17:23:42,056 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739496214163] Query handling completed successfully
2025-02-13 17:23:42,069 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:33:47,857 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 17:33:49,867 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739496829867] Received GET request for path: /html/str_chat.html
2025-02-13 17:33:49,883 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739496829883] Received GET request for path: /html/streaming.js
2025-02-13 17:33:49,914 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739496829914] Received GET request for path: /favicon.ico
2025-02-13 17:33:54,187 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739496834187] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 17:33:54,188 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739496834187] Received parameters: {'query': ['movies about food, eating and cooking, asian food, preferably in a family context'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 17:33:54,190 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739496834187] Processing query with handler: BaseNLWebHandler
2025-02-13 17:33:54,191 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739496834191] Starting query handling for site: imdb, query_id: 
2025-02-13 17:34:00,038 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739496834191] Query handling completed successfully
2025-02-13 17:34:00,043 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:34:51,294 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 17:46:56,790 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739497616790] Received GET request for path: /html/str_chat.html
2025-02-13 17:46:56,814 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739497616814] Received GET request for path: /html/streaming.js
2025-02-13 17:46:56,822 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739497616822] Received GET request for path: /favicon.ico
2025-02-13 17:46:58,020 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 17:46:59,477 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739497619477] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 17:46:59,478 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739497619477] Received parameters: {'query': ['movies about food, eating and cooking, asian food, preferably in a family context'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 17:46:59,480 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739497619477] Processing query with handler: BaseNLWebHandler
2025-02-13 17:46:59,481 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739497619481] Starting query handling for site: imdb, query_id: 
2025-02-13 17:47:07,612 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739497619481] Query handling completed successfully
2025-02-13 17:47:07,618 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 19:53:33,036 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 19:53:39,792 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505219792] Received GET request for path: /html/str_chat.html
2025-02-13 19:53:39,822 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505219821] Received GET request for path: /html/streaming.js
2025-02-13 19:53:39,843 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505219843] Received GET request for path: /favicon.ico
2025-02-13 19:53:42,659 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505222659] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 19:53:42,660 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739505222659] Received parameters: {'query': ['movies about food, eating and cooking, asian food, preferably in a family context'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 19:53:42,662 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739505222659] Processing query with handler: BaseNLWebHandler
2025-02-13 19:53:42,662 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739505222662] Starting query handling for site: imdb, query_id: 
2025-02-13 19:53:45,524 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505225524] Received GET request for path: /html/info.png
2025-02-13 19:53:50,736 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739505222662] Query handling completed successfully
2025-02-13 19:53:50,748 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 19:55:20,632 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 19:56:35,326 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505395325] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context&site=imdb&model=gpt-4o-mini&prev=%5B%22movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context%22%5D&item_to_remember=
2025-02-13 19:56:35,328 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739505395325] Received parameters: {'query': ['movies about food, eating and cooking, asian food, preferably in a family context'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['["movies about food, eating and cooking, asian food, preferably in a family context"]']}
2025-02-13 19:56:35,331 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739505395325] Processing query with handler: BaseNLWebHandler
2025-02-13 19:56:35,331 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739505395331] Starting query handling for site: imdb, query_id: 
2025-02-13 19:56:40,029 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739505395331] Query handling completed successfully
2025-02-13 19:56:40,036 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 19:57:02,230 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505422230] Received GET request for path: /?query=eat%20drink%20man%20woman&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 19:57:02,231 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739505422230] Received parameters: {'query': ['eat drink man woman'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 19:57:02,232 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739505422230] Processing query with handler: Imdb2Handler
2025-02-13 19:57:02,232 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739505422232] Starting query handling for site: imdb2, query_id: 
2025-02-13 19:57:02,237 [Thread-6 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.442718 seconds
2025-02-13 19:57:03,165 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:47] item_type in imdb2: Movie
2025-02-13 19:57:03,982 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:47] item_type in imdb2: Movie
2025-02-13 19:57:04,480 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739505422232] Query handling completed successfully
2025-02-13 19:57:04,482 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 19:58:23,430 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 19:59:49,661 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505589661] Received GET request for path: /?query=eat%20drink%20man%20woman&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 19:59:49,664 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739505589661] Received parameters: {'query': ['eat drink man woman'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 19:59:49,666 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739505589661] Processing query with handler: Imdb2Handler
2025-02-13 19:59:49,666 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739505589666] Starting query handling for site: imdb2, query_id: 
2025-02-13 19:59:50,231 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:47] item_type in imdb2: Movie
2025-02-13 19:59:51,026 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:47] item_type in imdb2: Movie
2025-02-13 19:59:51,925 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739505589666] Query handling completed successfully
2025-02-13 19:59:51,929 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:01:05,932 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 20:01:09,525 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505669525] Received GET request for path: /html/str_chat.html
2025-02-13 20:01:09,551 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505669551] Received GET request for path: /html/clear.jpeg
2025-02-13 20:01:09,576 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505669576] Received GET request for path: /favicon.ico
2025-02-13 20:02:22,179 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:02:22,180 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505742180] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 20:02:22,181 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739505742180] Received parameters: {'query': ['movies about food, eating and cooking, asian food, preferably in a family context'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 20:02:22,183 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739505742180] Processing query with handler: Imdb2Handler
2025-02-13 20:02:22,183 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739505742183] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:02:23,169 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:02:24,135 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:02:25,495 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739505742183] Query handling completed successfully
2025-02-13 20:02:25,501 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:03:42,441 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 20:03:42,935 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505822935] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context&site=imdb2&model=gpt-4o-mini&prev=%5B%22movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context%22%5D&item_to_remember=
2025-02-13 20:03:42,937 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739505822935] Received parameters: {'query': ['movies about food, eating and cooking, asian food, preferably in a family context'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['["movies about food, eating and cooking, asian food, preferably in a family context"]']}
2025-02-13 20:03:42,939 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739505822935] Processing query with handler: Imdb2Handler
2025-02-13 20:03:42,940 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739505822940] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:03:43,862 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:03:44,770 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:03:53,245 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739505822940] Error in handle_query: 'dict' object has no attribute 'score'
2025-02-13 20:03:53,250 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739505822940] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 57, in getRankedAnswers
    await self.getMovieDetails()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 62, in getMovieDetails
    if (item.score > 85):
        ^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'score'

2025-02-13 20:03:53,251 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739505822935] Error handling request: 'dict' object has no attribute 'score'
2025-02-13 20:03:53,254 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739505822935] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 57, in getRankedAnswers
    await self.getMovieDetails()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 62, in getMovieDetails
    if (item.score > 85):
        ^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'score'

2025-02-13 20:03:53,255 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:03:56,262 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505836262] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context&site=imdb2&model=gpt-4o-mini&prev=%5B%22movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context%22%5D&item_to_remember=
2025-02-13 20:03:56,262 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739505836262] Received parameters: {'query': ['movies about food, eating and cooking, asian food, preferably in a family context'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['["movies about food, eating and cooking, asian food, preferably in a family context"]']}
2025-02-13 20:03:56,263 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739505836262] Processing query with handler: Imdb2Handler
2025-02-13 20:03:56,263 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739505836263] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:03:56,275 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.377586 seconds
2025-02-13 20:03:56,287 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.453579 seconds
2025-02-13 20:03:56,288 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.458033 seconds
2025-02-13 20:03:56,657 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.967072 seconds
2025-02-13 20:03:56,745 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.750250 seconds
2025-02-13 20:03:56,750 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.988984 seconds
2025-02-13 20:03:57,499 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739505836263] Error in handle_query: Error getting completion: Connection error.
2025-02-13 20:03:57,525 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739505836263] Traceback: Traceback (most recent call last):
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1576, in _request
    response = await self._client.send(
               ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 345, in _close_connections
    await connection.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection.py", line 173, in aclose
    await self._connection.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anyio/streams/tls.py", line 201, in aclose
    await self.transport_stream.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 1349, in aclose
    self._transport.close()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/selector_events.py", line 1202, in close
    super().close()
    ~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 829, in call_soon
    self._check_closed()
    ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 552, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 196, in get_structured_completion_async
    response = await client.chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/resources/chat/completions.py", line 1661, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<41 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1843, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1537, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1600, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1670, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1600, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1670, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1610, in _request
    raise APIConnectionError(request=request) from err
openai.APIConnectionError: Connection error.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 54, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 47, in analyzeQuery
    await asyncio.gather(*task_set)
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 38, in analyzeQueryForItemType
    response = await mllm.get_structured_completion_async(prompt, ans_struc, "gpt-4o")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Connection error.

2025-02-13 20:03:57,527 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739505836262] Error handling request: Error getting completion: Connection error.
2025-02-13 20:03:57,546 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739505836262] Traceback: Traceback (most recent call last):
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1576, in _request
    response = await self._client.send(
               ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 345, in _close_connections
    await connection.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection.py", line 173, in aclose
    await self._connection.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anyio/streams/tls.py", line 201, in aclose
    await self.transport_stream.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 1349, in aclose
    self._transport.close()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/selector_events.py", line 1202, in close
    super().close()
    ~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 829, in call_soon
    self._check_closed()
    ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 552, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 196, in get_structured_completion_async
    response = await client.chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/resources/chat/completions.py", line 1661, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<41 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1843, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1537, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1600, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1670, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1600, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1670, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1610, in _request
    raise APIConnectionError(request=request) from err
openai.APIConnectionError: Connection error.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 54, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 47, in analyzeQuery
    await asyncio.gather(*task_set)
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 38, in analyzeQueryForItemType
    response = await mllm.get_structured_completion_async(prompt, ans_struc, "gpt-4o")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Connection error.

2025-02-13 20:03:57,547 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:04:00,554 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505840554] Received GET request for path: /?query=movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context&site=imdb2&model=gpt-4o-mini&prev=%5B%22movies%20about%20food%2C%20eating%20and%20cooking%2C%20asian%20food%2C%20preferably%20in%20a%20family%20context%22%5D&item_to_remember=
2025-02-13 20:04:00,554 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739505840554] Received parameters: {'query': ['movies about food, eating and cooking, asian food, preferably in a family context'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['["movies about food, eating and cooking, asian food, preferably in a family context"]']}
2025-02-13 20:04:00,555 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739505840554] Processing query with handler: Imdb2Handler
2025-02-13 20:04:00,555 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739505840555] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:04:00,560 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.428618 seconds
2025-02-13 20:04:01,851 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:04:01,871 [Thread-8 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-59' coro=<Imdb2Handler.isMovieDetailsQuery() done, defined at /Users/guha/nlweb/code/strv2/imdb2.py:27> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-13 20:04:01,871 [Thread-8 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-61' coro=<BaseNLWebHandler.decontextualizeQuery() done, defined at /Users/guha/nlweb/code/strv2/baseHandler.py:63> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-13 20:04:02,714 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:04:42,257 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 20:04:46,126 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505886126] Received GET request for path: /html/str_chat.html
2025-02-13 20:04:46,170 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505886170] Received GET request for path: /favicon.ico
2025-02-13 20:04:58,703 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505898703] Received GET request for path: /?query=actors%20in%20the%20movie%20%22Blade%20runner%22&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 20:04:58,704 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739505898703] Received parameters: {'query': ['actors in the movie "Blade runner"'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 20:04:58,708 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739505898703] Processing query with handler: BaseNLWebHandler
2025-02-13 20:04:58,709 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739505898709] Starting query handling for site: imdb, query_id: 
2025-02-13 20:05:06,461 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739505898709] Query handling completed successfully
2025-02-13 20:05:06,465 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:06:32,604 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505992604] Received GET request for path: /html/str_chat.html
2025-02-13 20:06:32,614 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:06:32,626 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739505992626] Received GET request for path: /favicon.ico
2025-02-13 20:06:43,437 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506003437] Received GET request for path: /?query=actors%20in%20the%20movie%20blade%20runner&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 20:06:43,438 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739506003437] Received parameters: {'query': ['actors in the movie blade runner'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 20:06:43,440 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739506003437] Processing query with handler: Imdb2Handler
2025-02-13 20:06:43,441 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739506003441] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:06:43,455 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.452675 seconds
2025-02-13 20:06:44,569 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:06:45,167 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:06:48,518 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739506003441] Error in handle_query: 'score'
2025-02-13 20:06:48,523 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739506003441] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 57, in getRankedAnswers
    await self.getMovieDetails()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 62, in getMovieDetails
    if (item["score"] > 80):
        ~~~~^^^^^^^^^
KeyError: 'score'

2025-02-13 20:06:48,524 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739506003437] Error handling request: 'score'
2025-02-13 20:06:48,528 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739506003437] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 57, in getRankedAnswers
    await self.getMovieDetails()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 62, in getMovieDetails
    if (item["score"] > 80):
        ~~~~^^^^^^^^^
KeyError: 'score'

2025-02-13 20:06:48,529 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:06:51,535 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506011535] Received GET request for path: /?query=actors%20in%20the%20movie%20blade%20runner&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 20:06:51,536 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739506011535] Received parameters: {'query': ['actors in the movie blade runner'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 20:06:51,536 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739506011535] Processing query with handler: Imdb2Handler
2025-02-13 20:06:51,537 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739506011537] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:06:51,559 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.475847 seconds
2025-02-13 20:06:51,561 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.428553 seconds
2025-02-13 20:06:52,001 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.763935 seconds
2025-02-13 20:06:52,046 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.804924 seconds
2025-02-13 20:06:52,771 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739506011537] Error in handle_query: Error getting completion: Connection error.
2025-02-13 20:06:52,791 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739506011537] Traceback: Traceback (most recent call last):
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1576, in _request
    response = await self._client.send(
               ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 345, in _close_connections
    await connection.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection.py", line 173, in aclose
    await self._connection.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anyio/streams/tls.py", line 201, in aclose
    await self.transport_stream.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 1349, in aclose
    self._transport.close()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/selector_events.py", line 1202, in close
    super().close()
    ~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 829, in call_soon
    self._check_closed()
    ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 552, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 196, in get_structured_completion_async
    response = await client.chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/resources/chat/completions.py", line 1661, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<41 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1843, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1537, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1600, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1670, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1600, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1670, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1610, in _request
    raise APIConnectionError(request=request) from err
openai.APIConnectionError: Connection error.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 54, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 47, in analyzeQuery
    await asyncio.gather(*task_set)
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 38, in analyzeQueryForItemType
    response = await mllm.get_structured_completion_async(prompt, ans_struc, "gpt-4o")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Connection error.

2025-02-13 20:06:52,791 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739506011535] Error handling request: Error getting completion: Connection error.
2025-02-13 20:06:52,796 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739506011535] Traceback: Traceback (most recent call last):
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1576, in _request
    response = await self._client.send(
               ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 345, in _close_connections
    await connection.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/connection.py", line 173, in aclose
    await self._connection.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anyio/streams/tls.py", line 201, in aclose
    await self.transport_stream.aclose()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 1349, in aclose
    self._transport.close()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/selector_events.py", line 1202, in close
    super().close()
    ~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 829, in call_soon
    self._check_closed()
    ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 552, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 196, in get_structured_completion_async
    response = await client.chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/resources/chat/completions.py", line 1661, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<41 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1843, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1537, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1600, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1670, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1600, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1670, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/openai/_base_client.py", line 1610, in _request
    raise APIConnectionError(request=request) from err
openai.APIConnectionError: Connection error.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 54, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 47, in analyzeQuery
    await asyncio.gather(*task_set)
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 38, in analyzeQueryForItemType
    response = await mllm.get_structured_completion_async(prompt, ans_struc, "gpt-4o")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Connection error.

2025-02-13 20:06:52,796 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:06:55,803 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506015803] Received GET request for path: /?query=actors%20in%20the%20movie%20blade%20runner&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 20:06:55,803 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739506015803] Received parameters: {'query': ['actors in the movie blade runner'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 20:06:55,804 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739506015803] Processing query with handler: Imdb2Handler
2025-02-13 20:06:55,804 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739506015804] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:06:55,809 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.419477 seconds
2025-02-13 20:06:56,829 [Thread-10 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:06:56,926 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-111' coro=<Imdb2Handler.isMovieDetailsQuery() done, defined at /Users/guha/nlweb/code/strv2/imdb2.py:27> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-13 20:08:10,601 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 20:08:10,838 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506090838] Received GET request for path: /html/str_chat.html
2025-02-13 20:08:10,877 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506090877] Received GET request for path: /favicon.ico
2025-02-13 20:08:24,699 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506104699] Received GET request for path: /?query=actors%20in%20the%20movie%20%22blade%20runner%22&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 20:08:24,700 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739506104699] Received parameters: {'query': ['actors in the movie "blade runner"'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 20:08:24,703 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739506104699] Processing query with handler: Imdb2Handler
2025-02-13 20:08:24,704 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739506104704] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:08:25,437 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:08:25,942 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:08:31,324 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739506104704] Query handling completed successfully
2025-02-13 20:08:31,332 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:08:40,174 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506120174] Received GET request for path: /html/str_chat.html
2025-02-13 20:08:40,181 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:08:40,193 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506120193] Received GET request for path: /favicon.ico
2025-02-13 20:08:53,498 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506133498] Received GET request for path: /?query=actors%20in%20the%20movie%20eat%20drink%20man%20woman&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 20:08:53,500 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739506133498] Received parameters: {'query': ['actors in the movie eat drink man woman'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 20:08:53,501 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739506133498] Processing query with handler: Imdb2Handler
2025-02-13 20:08:53,501 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739506133501] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:08:53,511 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.429931 seconds
2025-02-13 20:08:54,619 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:08:56,141 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:09:01,936 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739506133501] Error in handle_query: 'dict' object has no attribute 'schema_object'
2025-02-13 20:09:01,941 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739506133501] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 57, in getRankedAnswers
    await self.getMovieDetails()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 72, in getMovieDetails
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 77, in returnMovieDetails
    prompt = prompt_str.format(self=self, item=item)
AttributeError: 'dict' object has no attribute 'schema_object'

2025-02-13 20:09:01,942 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739506133498] Error handling request: 'dict' object has no attribute 'schema_object'
2025-02-13 20:09:01,947 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739506133498] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 57, in getRankedAnswers
    await self.getMovieDetails()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 72, in getMovieDetails
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 77, in returnMovieDetails
    prompt = prompt_str.format(self=self, item=item)
AttributeError: 'dict' object has no attribute 'schema_object'

2025-02-13 20:09:01,947 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:09:04,952 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506144952] Received GET request for path: /?query=actors%20in%20the%20movie%20eat%20drink%20man%20woman&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 20:09:04,952 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739506144952] Received parameters: {'query': ['actors in the movie eat drink man woman'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 20:09:04,953 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739506144952] Processing query with handler: Imdb2Handler
2025-02-13 20:09:04,953 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739506144953] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:09:04,963 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.458887 seconds
2025-02-13 20:09:04,970 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.427684 seconds
2025-02-13 20:09:06,074 [Thread-9 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:09:06,676 [Thread-9 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:09:11,728 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739506144953] Error in handle_query: 'dict' object has no attribute 'schema_object'
2025-02-13 20:09:11,731 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739506144953] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 57, in getRankedAnswers
    await self.getMovieDetails()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 72, in getMovieDetails
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 77, in returnMovieDetails
    prompt = prompt_str.format(self=self, item=item)
AttributeError: 'dict' object has no attribute 'schema_object'

2025-02-13 20:09:11,732 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739506144952] Error handling request: 'dict' object has no attribute 'schema_object'
2025-02-13 20:09:11,733 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739506144952] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 57, in getRankedAnswers
    await self.getMovieDetails()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 72, in getMovieDetails
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 77, in returnMovieDetails
    prompt = prompt_str.format(self=self, item=item)
AttributeError: 'dict' object has no attribute 'schema_object'

2025-02-13 20:09:11,733 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:11:13,410 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 20:11:18,025 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506278025] Received GET request for path: /html/str_chat.html
2025-02-13 20:11:18,064 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506278063] Received GET request for path: /favicon.ico
2025-02-13 20:11:28,045 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506288045] Received GET request for path: /?query=actors%20in%20the%20movie%20eat%20drink%20man%20woman&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 20:11:28,046 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739506288045] Received parameters: {'query': ['actors in the movie eat drink man woman'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 20:11:28,049 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739506288045] Processing query with handler: Imdb2Handler
2025-02-13 20:11:28,049 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739506288049] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:11:28,730 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:11:29,381 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:11:36,954 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739506288049] Query handling completed successfully
2025-02-13 20:11:36,959 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:16:29,979 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506589979] Received GET request for path: /html/str_chat.html
2025-02-13 20:16:29,988 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:16:29,998 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506589998] Received GET request for path: /html/streaming.js
2025-02-13 20:16:30,009 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506590009] Received GET request for path: /favicon.ico
2025-02-13 20:16:43,379 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506603379] Received GET request for path: /?query=who%20are%20the%20actors%20in%20star%20wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 20:16:43,380 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739506603379] Received parameters: {'query': ['who are the actors in star wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 20:16:43,382 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739506603379] Processing query with handler: Imdb2Handler
2025-02-13 20:16:43,382 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739506603382] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:16:43,396 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.428549 seconds
2025-02-13 20:16:44,634 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:16:45,201 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:16:53,461 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739506603382] Query handling completed successfully
2025-02-13 20:16:53,466 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:17:57,779 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 20:18:03,331 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506683331] Received GET request for path: /html/str_chat.html
2025-02-13 20:18:03,355 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506683355] Received GET request for path: /html/streaming.js
2025-02-13 20:18:03,362 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506683362] Received GET request for path: /html/clear.jpeg
2025-02-13 20:18:03,367 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506683367] Received GET request for path: /favicon.ico
2025-02-13 20:18:14,179 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506694179] Received GET request for path: /?query=who%20are%20the%20actors%20in%20star%20wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 20:18:14,181 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739506694179] Received parameters: {'query': ['who are the actors in star wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 20:18:14,183 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739506694179] Processing query with handler: Imdb2Handler
2025-02-13 20:18:14,183 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739506694183] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:18:15,572 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:18:16,075 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:18:21,926 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739506694183] Query handling completed successfully
2025-02-13 20:18:21,930 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:19:42,675 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-13 20:19:46,386 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506786386] Received GET request for path: /html/str_chat.html
2025-02-13 20:19:46,429 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506786429] Received GET request for path: /favicon.ico
2025-02-13 20:19:59,388 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739506799388] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-13 20:19:59,391 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739506799388] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-13 20:19:59,393 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739506799388] Processing query with handler: Imdb2Handler
2025-02-13 20:19:59,393 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739506799393] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:20:00,028 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:20:00,657 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:20:09,949 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739506799393] Query handling completed successfully
2025-02-13 20:20:09,957 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:26:31,615 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739507191614] Received GET request for path: /?query=Who%20is%20the%20director%20of%20Eat%20Drink%20Man%20Woman&site=imdb2&model=gpt-4o-mini&prev=%5B%22who%20are%20the%20actors%20in%20Star%20Wars%22%5D&item_to_remember=
2025-02-13 20:26:31,618 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739507191614] Received parameters: {'query': ['Who is the director of Eat Drink Man Woman'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['["who are the actors in Star Wars"]']}
2025-02-13 20:26:31,620 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739507191614] Processing query with handler: Imdb2Handler
2025-02-13 20:26:31,621 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739507191621] Starting query handling for site: imdb2, query_id: 
2025-02-13 20:26:31,634 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.400796 seconds
2025-02-13 20:26:33,030 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:26:33,713 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:48] item_type in imdb2: Movie
2025-02-13 20:26:41,020 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739507191621] Query handling completed successfully
2025-02-13 20:26:41,023 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-13 20:27:10,481 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-14 10:40:01,473 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-14 10:43:11,415 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739558591415] Received GET request for path: /html/str_chat.html
2025-02-14 10:43:11,435 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739558591435] Received GET request for path: /html/streaming.js
2025-02-14 10:43:11,439 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739558591439] Received GET request for path: /html/clear.jpeg
2025-02-14 10:43:11,448 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739558591448] Received GET request for path: /favicon.ico
2025-02-14 10:43:44,801 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739558624801] Received GET request for path: /?query=asian%20food%20movies&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 10:43:44,803 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739558624801] Received parameters: {'query': ['asian food movies'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 10:43:44,806 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739558624801] Processing query with handler: BaseNLWebHandler
2025-02-14 10:43:44,806 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739558624806] Starting query handling for site: imdb, query_id: 
2025-02-14 10:43:47,309 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739558627309] Received GET request for path: /html/info.png
2025-02-14 10:43:48,910 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739558624806] Query handling completed successfully
2025-02-14 10:43:48,913 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 10:47:13,996 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 10:50:17,605 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-14 10:50:18,769 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559018769] Received GET request for path: /html/str_chat.html
2025-02-14 10:50:18,812 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559018812] Received GET request for path: /favicon.ico
2025-02-14 10:50:35,468 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559035468] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 10:50:35,469 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739559035468] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 10:50:35,471 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739559035468] Processing query with handler: Imdb2Handler
2025-02-14 10:50:35,472 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739559035472] Starting query handling for site: imdb2, query_id: 
2025-02-14 10:50:36,178 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:55] item_type in imdb2: Movie
2025-02-14 10:50:36,178 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739559035472] Error in handle_query: name 'retriever' is not defined
2025-02-14 10:50:36,182 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739559035472] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 63, in getRankedAnswers
    top_embeddings = retriever.search_db(item_name, self.site)
                     ^^^^^^^^^
NameError: name 'retriever' is not defined

2025-02-14 10:50:36,182 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739559035468] Error handling request: name 'retriever' is not defined
2025-02-14 10:50:36,185 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739559035468] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 63, in getRankedAnswers
    top_embeddings = retriever.search_db(item_name, self.site)
                     ^^^^^^^^^
NameError: name 'retriever' is not defined

2025-02-14 10:50:36,185 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 10:50:39,192 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559039192] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 10:50:39,192 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739559039192] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 10:50:39,193 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739559039192] Processing query with handler: Imdb2Handler
2025-02-14 10:50:39,193 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739559039193] Starting query handling for site: imdb2, query_id: 
2025-02-14 10:50:39,210 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.474174 seconds
2025-02-14 10:50:39,211 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.425241 seconds
2025-02-14 10:50:40,494 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:55] item_type in imdb2: Movie
2025-02-14 10:50:40,495 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739559039193] Error in handle_query: name 'retriever' is not defined
2025-02-14 10:50:40,496 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739559039193] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 63, in getRankedAnswers
    top_embeddings = retriever.search_db(item_name, self.site)
                     ^^^^^^^^^
NameError: name 'retriever' is not defined

2025-02-14 10:50:40,496 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739559039192] Error handling request: name 'retriever' is not defined
2025-02-14 10:50:40,498 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739559039192] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 63, in getRankedAnswers
    top_embeddings = retriever.search_db(item_name, self.site)
                     ^^^^^^^^^
NameError: name 'retriever' is not defined

2025-02-14 10:50:40,499 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 10:50:43,506 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559043506] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 10:50:43,508 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739559043506] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 10:50:43,509 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739559043506] Processing query with handler: Imdb2Handler
2025-02-14 10:50:43,509 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739559043509] Starting query handling for site: imdb2, query_id: 
2025-02-14 10:50:43,522 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.421800 seconds
2025-02-14 10:50:43,523 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.399685 seconds
2025-02-14 10:50:44,764 [Thread-9 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:55] item_type in imdb2: Movie
2025-02-14 10:50:44,765 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739559043509] Error in handle_query: name 'retriever' is not defined
2025-02-14 10:50:44,766 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739559043509] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 63, in getRankedAnswers
    top_embeddings = retriever.search_db(item_name, self.site)
                     ^^^^^^^^^
NameError: name 'retriever' is not defined

2025-02-14 10:50:44,767 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739559043506] Error handling request: name 'retriever' is not defined
2025-02-14 10:50:44,768 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739559043506] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 63, in getRankedAnswers
    top_embeddings = retriever.search_db(item_name, self.site)
                     ^^^^^^^^^
NameError: name 'retriever' is not defined

2025-02-14 10:50:44,769 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 10:50:47,775 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559047775] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 10:50:47,775 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739559047775] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 10:50:47,776 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739559047775] Processing query with handler: Imdb2Handler
2025-02-14 10:50:47,776 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739559047776] Starting query handling for site: imdb2, query_id: 
2025-02-14 10:50:47,792 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.414987 seconds
2025-02-14 10:50:47,792 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.379239 seconds
2025-02-14 10:50:48,829 [Thread-10 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:55] item_type in imdb2: Movie
2025-02-14 10:50:48,830 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739559047776] Error in handle_query: name 'retriever' is not defined
2025-02-14 10:50:48,831 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739559047776] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 63, in getRankedAnswers
    item_name = self.movie_title
                     ^^^^^^^^^
NameError: name 'retriever' is not defined

2025-02-14 10:50:48,831 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739559047775] Error handling request: name 'retriever' is not defined
2025-02-14 10:50:48,832 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739559047775] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 63, in getRankedAnswers
    item_name = self.movie_title
                     ^^^^^^^^^
NameError: name 'retriever' is not defined

2025-02-14 10:50:48,832 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 10:50:51,838 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559051838] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 10:50:51,838 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739559051838] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 10:50:51,839 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739559051838] Processing query with handler: Imdb2Handler
2025-02-14 10:50:51,839 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739559051839] Starting query handling for site: imdb2, query_id: 
2025-02-14 10:50:51,852 [Thread-11 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.434328 seconds
2025-02-14 10:50:51,853 [Thread-11 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.499337 seconds
2025-02-14 10:50:52,963 [Thread-11 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:55] item_type in imdb2: Movie
2025-02-14 10:50:52,963 [Thread-11 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739559051839] Error in handle_query: name 'retriever' is not defined
2025-02-14 10:50:52,965 [Thread-11 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739559051839] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 63, in getRankedAnswers
    item_name = self.movie_title
                     ^^^^^^^^^
NameError: name 'retriever' is not defined

2025-02-14 10:50:52,966 [Thread-11 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739559051838] Error handling request: name 'retriever' is not defined
2025-02-14 10:50:52,967 [Thread-11 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739559051838] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 63, in getRankedAnswers
    item_name = self.movie_title
                     ^^^^^^^^^
NameError: name 'retriever' is not defined

2025-02-14 10:50:52,968 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 10:50:55,974 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559055974] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 10:50:55,975 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739559055974] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 10:50:55,976 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739559055974] Processing query with handler: Imdb2Handler
2025-02-14 10:50:55,976 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739559055976] Starting query handling for site: imdb2, query_id: 
2025-02-14 10:51:28,026 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-14 10:51:29,134 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559089134] Received GET request for path: /html/str_chat.html
2025-02-14 10:51:29,183 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559089183] Received GET request for path: /favicon.ico
2025-02-14 10:51:38,582 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559098582] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 10:51:38,583 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739559098582] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 10:51:38,586 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739559098582] Processing query with handler: Imdb2Handler
2025-02-14 10:51:38,586 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739559098586] Starting query handling for site: imdb2, query_id: 
2025-02-14 10:51:39,759 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:57] item_type in imdb2: Movie
2025-02-14 10:51:41,806 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:191] [query_1739559098586] Error in handle_query: name 'FIND_ITEM_THRESHOLD' is not defined
2025-02-14 10:51:41,812 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:192] [query_1739559098586] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 69, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 82, in findItem
    if (ranking["score"] > FIND_ITEM_THRESHOLD):
                           ^^^^^^^^^^^^^^^^^^^
NameError: name 'FIND_ITEM_THRESHOLD' is not defined

2025-02-14 10:51:41,813 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:147] [req_1739559098582] Error handling request: name 'FIND_ITEM_THRESHOLD' is not defined
2025-02-14 10:51:41,816 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:148] [req_1739559098582] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 139, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 185, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 69, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/imdb2.py", line 82, in findItem
    if (ranking["score"] > FIND_ITEM_THRESHOLD):
                           ^^^^^^^^^^^^^^^^^^^
NameError: name 'FIND_ITEM_THRESHOLD' is not defined

2025-02-14 10:51:41,817 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 10:51:44,823 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559104823] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 10:51:44,824 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739559104823] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 10:51:44,826 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739559104823] Processing query with handler: Imdb2Handler
2025-02-14 10:51:44,826 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739559104826] Starting query handling for site: imdb2, query_id: 
2025-02-14 10:51:44,848 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.483753 seconds
2025-02-14 10:51:46,604 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:57] item_type in imdb2: Movie
2025-02-14 10:52:14,311 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-14 10:52:17,154 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739559137154] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 10:52:17,155 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739559137154] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 10:52:17,157 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739559137154] Processing query with handler: Imdb2Handler
2025-02-14 10:52:17,158 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739559137158] Starting query handling for site: imdb2, query_id: 
2025-02-14 10:52:18,246 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:59] item_type in imdb2: Movie
2025-02-14 10:52:23,675 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739559137158] Query handling completed successfully
2025-02-14 10:52:23,679 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:14:53,978 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739560493978] Received GET request for path: /?query=give%20me%20some%20movies%20about%20food%2C%20eating%20and%20cooking.%20Preferably%20asian%20food%2C%20set%20in%20a%20family%20context&site=imdb2&model=gpt-4o-mini&prev=%5B%22who%20are%20the%20actors%20in%20Star%20Wars%22%5D&item_to_remember=
2025-02-14 11:14:53,980 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739560493978] Received parameters: {'query': ['give me some movies about food, eating and cooking. Preferably asian food, set in a family context'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['["who are the actors in Star Wars"]']}
2025-02-14 11:14:53,982 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739560493978] Processing query with handler: Imdb2Handler
2025-02-14 11:14:53,984 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739560493984] Starting query handling for site: imdb2, query_id: 
2025-02-14 11:14:54,002 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.461258 seconds
2025-02-14 11:14:55,530 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:59] item_type in imdb2: Movie
2025-02-14 11:15:03,428 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739560493984] Query handling completed successfully
2025-02-14 11:15:03,431 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:19:31,172 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-14 11:20:05,135 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739560805135] Received GET request for path: /html/str_chat.html
2025-02-14 11:20:05,168 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739560805168] Received GET request for path: /favicon.ico
2025-02-14 11:20:16,484 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739560816484] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 11:20:16,485 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739560816484] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 11:20:16,487 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739560816484] Processing query with handler: Imdb2Handler
2025-02-14 11:20:16,488 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739560816488] Starting query handling for site: imdb2, query_id: 
2025-02-14 11:20:17,482 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 11:20:23,875 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739560816488] Query handling completed successfully
2025-02-14 11:20:23,877 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:21:07,961 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739560867961] Received GET request for path: /html/str_chat.html
2025-02-14 11:21:07,965 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:21:07,980 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739560867980] Received GET request for path: /favicon.ico
2025-02-14 11:21:17,501 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739560877501] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 11:21:17,502 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739560877501] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 11:21:17,504 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739560877501] Processing query with handler: Imdb2Handler
2025-02-14 11:21:17,505 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739560877505] Starting query handling for site: imdb2, query_id: 
2025-02-14 11:21:17,516 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.423438 seconds
2025-02-14 11:21:22,995 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 11:21:29,706 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739560877505] Query handling completed successfully
2025-02-14 11:21:29,709 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:22:48,050 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739560968045] Received GET request for path: /html/str_chat.html
2025-02-14 11:22:48,069 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:22:48,081 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739560968081] Received GET request for path: /html/streaming.js
2025-02-14 11:22:48,090 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739560968090] Received GET request for path: /html/clear.jpeg
2025-02-14 11:22:48,094 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739560968094] Received GET request for path: /favicon.ico
2025-02-14 11:23:02,449 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739560982449] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 11:23:02,451 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739560982449] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 11:23:02,453 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739560982449] Processing query with handler: Imdb2Handler
2025-02-14 11:23:02,454 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739560982454] Starting query handling for site: imdb2, query_id: 
2025-02-14 11:23:02,468 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.430625 seconds
2025-02-14 11:23:03,527 [Thread-10 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 11:23:11,817 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739560982454] Query handling completed successfully
2025-02-14 11:23:11,819 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:25:50,671 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561150670] Received GET request for path: /html/str_chat.html
2025-02-14 11:25:50,677 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:25:50,692 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561150692] Received GET request for path: /html/streaming.js
2025-02-14 11:25:50,699 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561150699] Received GET request for path: /html/clear.jpeg
2025-02-14 11:25:50,704 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561150704] Received GET request for path: /favicon.ico
2025-02-14 11:26:00,975 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561160975] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 11:26:00,976 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739561160975] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 11:26:00,979 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739561160975] Processing query with handler: Imdb2Handler
2025-02-14 11:26:00,979 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739561160979] Starting query handling for site: imdb2, query_id: 
2025-02-14 11:26:00,991 [Thread-12 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.376364 seconds
2025-02-14 11:26:02,640 [Thread-12 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 11:26:07,786 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739561160979] Query handling completed successfully
2025-02-14 11:26:07,796 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:26:49,382 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561209381] Received GET request for path: /html/str_chat.html
2025-02-14 11:26:49,393 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:26:49,409 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561209409] Received GET request for path: /html/streaming.js
2025-02-14 11:26:49,416 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561209416] Received GET request for path: /html/clear.jpeg
2025-02-14 11:26:49,423 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561209423] Received GET request for path: /favicon.ico
2025-02-14 11:26:56,564 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561216564] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 11:26:56,566 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739561216564] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 11:26:56,567 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739561216564] Processing query with handler: BaseNLWebHandler
2025-02-14 11:26:56,568 [Thread-14 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739561216568] Starting query handling for site: imdb, query_id: 
2025-02-14 11:26:57,299 [Thread-14 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.388926 seconds
2025-02-14 11:27:05,066 [Thread-14 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739561216568] Query handling completed successfully
2025-02-14 11:27:05,073 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:27:15,990 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561235990] Received GET request for path: /?query=Who%20are%20the%20actors%20in%20Star%20Wars&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 11:27:15,992 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739561235990] Received parameters: {'query': ['Who are the actors in Star Wars'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 11:27:15,992 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739561235990] Processing query with handler: Imdb2Handler
2025-02-14 11:27:15,993 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739561235993] Starting query handling for site: imdb2, query_id: 
2025-02-14 11:27:16,000 [Thread-15 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.463337 seconds
2025-02-14 11:27:17,130 [Thread-15 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 11:27:22,037 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739561235993] Query handling completed successfully
2025-02-14 11:27:22,040 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:28:32,085 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561312085] Received GET request for path: /?query=give%20me%20some%20movies%20about%20food%2C%20eating%20and%20cooking.%20Preferably%20asian%2C%20set%20in%20a%20family%20context&site=imdb2&model=gpt-4o-mini&prev=%5B%22Who%20are%20the%20actors%20in%20Star%20Wars%22%5D&item_to_remember=
2025-02-14 11:28:32,088 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739561312085] Received parameters: {'query': ['give me some movies about food, eating and cooking. Preferably asian, set in a family context'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['["Who are the actors in Star Wars"]']}
2025-02-14 11:28:32,093 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739561312085] Processing query with handler: Imdb2Handler
2025-02-14 11:28:32,094 [Thread-16 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739561312094] Starting query handling for site: imdb2, query_id: 
2025-02-14 11:28:32,106 [Thread-16 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.399469 seconds
2025-02-14 11:28:33,652 [Thread-16 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 11:28:34,983 [Thread-16 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 11:28:40,829 [Thread-16 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739561312094] Query handling completed successfully
2025-02-14 11:28:40,836 [Thread-16 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:28:51,276 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739561331276] Received GET request for path: /?query=Who%20are%20the%20actors%20in%20Yin%20Shi%20nan%20nu&site=imdb2&model=gpt-4o-mini&prev=%5B%22Who%20are%20the%20actors%20in%20Star%20Wars%22%2C%22give%20me%20some%20movies%20about%20food%2C%20eating%20and%20cooking.%20Preferably%20asian%2C%20set%20in%20a%20family%20context%22%5D&item_to_remember=
2025-02-14 11:28:51,277 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739561331276] Received parameters: {'query': ['Who are the actors in Yin Shi nan nu'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['["Who are the actors in Star Wars","give me some movies about food, eating and cooking. Preferably asian, set in a family context"]']}
2025-02-14 11:28:51,277 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739561331276] Processing query with handler: Imdb2Handler
2025-02-14 11:28:51,278 [Thread-17 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739561331278] Starting query handling for site: imdb2, query_id: 
2025-02-14 11:28:51,287 [Thread-17 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.414674 seconds
2025-02-14 11:28:53,109 [Thread-17 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 11:29:00,415 [Thread-17 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739561331278] Query handling completed successfully
2025-02-14 11:29:00,417 [Thread-17 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:45:38,555 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-14 11:45:39,576 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739562339576] Received GET request for path: /html/str_chat.html
2025-02-14 11:45:39,591 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739562339591] Received GET request for path: /html/streaming.js
2025-02-14 11:45:39,611 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739562339611] Received GET request for path: /favicon.ico
2025-02-14 11:45:44,870 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739562344870] Received GET request for path: /?query=Who%20are%20the%20actors%20in%20Yin%20Shi%20nan%20nu&site=imdb2&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 11:45:44,870 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739562344870] Received parameters: {'query': ['Who are the actors in Yin Shi nan nu'], 'site': ['imdb2'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 11:45:44,872 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739562344870] Processing query with handler: Imdb2Handler
2025-02-14 11:45:44,873 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739562344873] Starting query handling for site: imdb2, query_id: 
2025-02-14 11:45:46,048 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 11:45:53,842 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739562344873] Query handling completed successfully
2025-02-14 11:45:53,845 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:47:11,202 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739562431202] Received GET request for path: /html/serious_eats.html
2025-02-14 11:47:11,954 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739562431954] Received GET request for path: /static/6.85.0/static/cache/eNqdlttu2zAMhl9oQbC-QbalRYEFK3q6l0XGZSOLAkW58Z5-THa42oWpK8sCP1H-Jf70tmpQituJoSWs26FluDzf67YIDgQ2AKr6520TWfDTdi0kCodrzHokQGFwhKfEH7uoNJMSVgeodZdDWiy47iAURVkPR84Vsx5CDiNONlqPHhPCiLcsd8VBRSFFvoenpSpO6znAoY0j5dGBHMsOnlBmlFcC5PXkCEX2-cgSnZpQqI8KD8KzJXQcg0VnJV2-Uz75tUk0431WW8LPlhAKecJJOpJc334fxRcC9y0tQhFvE7M46qK-BUHwb7YR3HRQmY7Ula6iKeoo91Iynlvt0ZHOXeq3YbpE9rDSBjKP6UFVoQsTKgkTHbWH5oK5S6T41vLJ2VSioAXOuBHMZhcoG5suKSyO_Q7vGPWuBfFcof52MRWHixZ9UUqOko1NTIq4eLGr9k4nq_QTnXnMGT7vCXzEjY9g0eErZzNKX40OdX-2DlDJGrqjRfIUKP-wbGIt6JkfmfXbdW79GidcPlg83_jXwnqO2WMEIVfr4dNDkDC5kwXFkWV5vqySjOF8sH27fkCapP9n_Re5P2Nsl7V_Adq4HRY.js
2025-02-14 11:47:12,059 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739562432059] Received GET request for path: /static/6.85.0/cache/eNqdU1FugzAMvdAiDrHfXcIkJvFmki4xpfT0M9B1jALqJiHFdt4zz3lJVQSEbNVCFMbqljHVpXrX77PDPLxUv0G60QkxCWExdUcspicJZhfdamDOEIkZTLE5Ma9RNrWnFDFKqSgK5ghcOWwwj_wpyOgOSNA0qggEDVP8MBn7TDKzFdVitriHOeiKl1kKXWfOdCgPxZ8GyXWME4jhOhg4UtyT86hrQPJBXgNEj29UBKPK3ireey2aeE61nlRAcBNrXLZwEc7ktZjijWK0sgi3OE3KrTKxL4yiI5tCPnanx8rBkH9hb8utO5EUR41GzWrX-T-Fj_T9339bk5GphNHOOTI26d2M8oSra-q-Tj96qy4UhGzDKt26WuPzgR6Gh71F6xrK9PIaxgvVjMdXkVrwE9xT88RsFnLqCvI9OOA48pSCccgwoFulX72uuxk.min.js
2025-02-14 11:47:16,783 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739562436783] Received GET request for path: /?query=spicy%20protein%20rich%20snacks&site=seriouseats&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 11:47:16,784 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739562436783] Received parameters: {'query': ['spicy protein rich snacks'], 'site': ['seriouseats'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 11:47:16,786 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739562436783] Processing query with handler: RecipeHandler
2025-02-14 11:47:16,787 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739562436787] Starting query handling for site: seriouseats, query_id: 
2025-02-14 11:47:16,798 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.493056 seconds
2025-02-14 11:47:23,976 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739562436787] Query handling completed successfully
2025-02-14 11:47:23,988 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:47:30,571 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739562450571] Received GET request for path: /?query=I%20am%20vegetarian&site=seriouseats&model=gpt-4o-mini&prev=%5B%22spicy%20protein%20rich%20snacks%22%5D&item_to_remember=
2025-02-14 11:47:30,572 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739562450571] Received parameters: {'query': ['I am vegetarian'], 'site': ['seriouseats'], 'model': ['gpt-4o-mini'], 'prev': ['["spicy protein rich snacks"]']}
2025-02-14 11:47:30,572 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739562450571] Processing query with handler: RecipeHandler
2025-02-14 11:47:30,573 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739562450573] Starting query handling for site: seriouseats, query_id: 
2025-02-14 11:47:30,580 [Thread-11 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.405274 seconds
2025-02-14 11:47:31,726 [Thread-11 (process_request_thread)] INFO [StreamingHandler.isDietaryRestriction:47] I'll remember that vegetarian
2025-02-14 11:47:38,018 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739562450573] Query handling completed successfully
2025-02-14 11:47:38,025 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 11:48:11,945 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 12:07:30,169 [MainThread] INFO [root.__init__:66] ThreadedHTTPServer initialized
2025-02-14 14:56:44,356 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739573804356] Received GET request for path: /html/serious_eats.html
2025-02-14 14:56:44,398 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739573804397] Received GET request for path: /html/streaming.js
2025-02-14 14:56:44,525 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739573804525] Received GET request for path: /static/6.85.0/static/cache/eNqdlttu2zAMhl9oQbC-QbalRYEFK3q6l0XGZSOLAkW58Z5-THa42oWpK8sCP1H-Jf70tmpQituJoSWs26FluDzf67YIDgQ2AKr6520TWfDTdi0kCodrzHokQGFwhKfEH7uoNJMSVgeodZdDWiy47iAURVkPR84Vsx5CDiNONlqPHhPCiLcsd8VBRSFFvoenpSpO6znAoY0j5dGBHMsOnlBmlFcC5PXkCEX2-cgSnZpQqI8KD8KzJXQcg0VnJV2-Uz75tUk0431WW8LPlhAKecJJOpJc334fxRcC9y0tQhFvE7M46qK-BUHwb7YR3HRQmY7Ula6iKeoo91Iynlvt0ZHOXeq3YbpE9rDSBjKP6UFVoQsTKgkTHbWH5oK5S6T41vLJ2VSioAXOuBHMZhcoG5suKSyO_Q7vGPWuBfFcof52MRWHixZ9UUqOko1NTIq4eLGr9k4nq_QTnXnMGT7vCXzEjY9g0eErZzNKX40OdX-2DlDJGrqjRfIUKP-wbGIt6JkfmfXbdW79GidcPlg83_jXwnqO2WMEIVfr4dNDkDC5kwXFkWV5vqySjOF8sH27fkCapP9n_Re5P2Nsl7V_Adq4HRY.js
2025-02-14 14:56:44,618 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739573804618] Received GET request for path: /static/6.85.0/cache/eNqdU1FugzAMvdAiDrHfXcIkJvFmki4xpfT0M9B1jALqJiHFdt4zz3lJVQSEbNVCFMbqljHVpXrX77PDPLxUv0G60QkxCWExdUcspicJZhfdamDOEIkZTLE5Ma9RNrWnFDFKqSgK5ghcOWwwj_wpyOgOSNA0qggEDVP8MBn7TDKzFdVitriHOeiKl1kKXWfOdCgPxZ8GyXWME4jhOhg4UtyT86hrQPJBXgNEj29UBKPK3ireey2aeE61nlRAcBNrXLZwEc7ktZjijWK0sgi3OE3KrTKxL4yiI5tCPnanx8rBkH9hb8utO5EUR41GzWrX-T-Fj_T9339bk5GphNHOOTI26d2M8oSra-q-Tj96qy4UhGzDKt26WuPzgR6Gh71F6xrK9PIaxgvVjMdXkVrwE9xT88RsFnLqCvI9OOA48pSCccgwoFulX72uuxk.min.js
2025-02-14 14:56:50,379 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739573810379] Received GET request for path: /?query=spicy%20protein%20rich%20snacks&site=seriouseats&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 14:56:50,381 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739573810379] Received parameters: {'query': ['spicy protein rich snacks'], 'site': ['seriouseats'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 14:56:50,383 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739573810379] Processing query with handler: RecipeHandler
2025-02-14 14:56:50,384 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739573810384] Starting query handling for site: seriouseats, query_id: 
2025-02-14 14:57:00,767 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739573810384] Query handling completed successfully
2025-02-14 14:57:00,776 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 15:12:44,187 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 15:12:44,196 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 15:12:44,219 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739574764219] Received GET request for path: /favicon.ico
2025-02-14 18:33:09,574 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586789574] Received GET request for path: /html/str_chat.html
2025-02-14 18:33:09,609 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586789609] Received GET request for path: /html/streaming.js
2025-02-14 18:33:09,616 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586789616] Received GET request for path: /html/debug.png
2025-02-14 18:33:09,617 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586789617] Received GET request for path: /html/clear.jpeg
2025-02-14 18:33:10,131 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586790131] Received GET request for path: /favicon.ico
2025-02-14 18:33:14,019 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:33:32,096 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586812096] Received GET request for path: /?query=asian%20movies%20about%20cooking%2C%20set%20in%20a%20restaurant%20context&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 18:33:32,099 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739586812096] Received parameters: {'query': ['asian movies about cooking, set in a restaurant context'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 18:33:32,102 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739586812096] Processing query with handler: Imdb2Handler
2025-02-14 18:33:32,103 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739586812103] Starting query handling for site: imdb, query_id: 
2025-02-14 18:33:32,117 [Thread-11 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.439060 seconds
2025-02-14 18:33:33,685 [Thread-11 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:33:34,503 [Thread-11 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:33:37,698 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586817698] Received GET request for path: /html/info.png
2025-02-14 18:33:39,024 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:33:41,828 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739586812103] Query handling completed successfully
2025-02-14 18:33:41,840 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:34:33,321 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586873321] Received GET request for path: /html/str_chat.html
2025-02-14 18:34:33,330 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:34:33,345 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586873345] Received GET request for path: /html/streaming.js
2025-02-14 18:34:33,354 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586873354] Received GET request for path: /html/clear.jpeg
2025-02-14 18:34:33,355 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586873355] Received GET request for path: /html/debug.png
2025-02-14 18:34:33,361 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586873361] Received GET request for path: /favicon.ico
2025-02-14 18:34:44,865 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739586884865] Received GET request for path: /?query=asian%20movies%20set%20in%20a%20restaurant%20context&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 18:34:44,866 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739586884865] Received parameters: {'query': ['asian movies set in a restaurant context'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 18:34:44,868 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739586884865] Processing query with handler: Imdb2Handler
2025-02-14 18:34:44,869 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739586884869] Starting query handling for site: imdb, query_id: 
2025-02-14 18:34:44,885 [Thread-13 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.438347 seconds
2025-02-14 18:34:46,135 [Thread-13 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:34:46,951 [Thread-13 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:34:51,521 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739586884869] Query handling completed successfully
2025-02-14 18:34:51,538 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:36:46,470 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587006469] Received GET request for path: /html/str_chat.html
2025-02-14 18:36:46,480 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:36:46,494 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587006494] Received GET request for path: /html/streaming.js
2025-02-14 18:36:46,502 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587006502] Received GET request for path: /html/clear.jpeg
2025-02-14 18:36:46,502 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587006502] Received GET request for path: /html/debug.png
2025-02-14 18:36:46,507 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587006507] Received GET request for path: /favicon.ico
2025-02-14 18:37:02,894 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587022894] Received GET request for path: /?query=movies%20like%20blade%20runner&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 18:37:02,895 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739587022894] Received parameters: {'query': ['movies like blade runner'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 18:37:02,898 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739587022894] Processing query with handler: Imdb2Handler
2025-02-14 18:37:02,899 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739587022899] Starting query handling for site: imdb, query_id: 
2025-02-14 18:37:02,914 [Thread-15 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.459871 seconds
2025-02-14 18:37:04,212 [Thread-15 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:37:05,022 [Thread-15 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:37:18,489 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739587022899] Query handling completed successfully
2025-02-14 18:37:18,494 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:38:43,463 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587123463] Received GET request for path: /html/str_chat.html
2025-02-14 18:38:43,499 [Thread-16 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:38:43,544 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587123544] Received GET request for path: /html/streaming.js
2025-02-14 18:38:43,576 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587123576] Received GET request for path: /html/debug.png
2025-02-14 18:38:43,584 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587123584] Received GET request for path: /favicon.ico
2025-02-14 18:38:58,148 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587138148] Received GET request for path: /?query=movies%20like%20blackhawk%20down&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 18:38:58,149 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739587138148] Received parameters: {'query': ['movies like blackhawk down'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 18:38:58,150 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739587138148] Processing query with handler: Imdb2Handler
2025-02-14 18:38:58,151 [Thread-18 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739587138151] Starting query handling for site: imdb, query_id: 
2025-02-14 18:38:58,164 [Thread-18 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.397347 seconds
2025-02-14 18:38:59,167 [Thread-18 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:39:00,146 [Thread-18 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:39:04,923 [Thread-18 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739587138151] Query handling completed successfully
2025-02-14 18:39:04,928 [Thread-18 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:40:11,291 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587211291] Received GET request for path: /html/str_chat.html
2025-02-14 18:40:11,299 [Thread-17 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:40:11,312 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587211312] Received GET request for path: /html/streaming.js
2025-02-14 18:40:11,319 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587211319] Received GET request for path: /html/clear.jpeg
2025-02-14 18:40:11,320 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587211320] Received GET request for path: /html/debug.png
2025-02-14 18:40:11,325 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587211325] Received GET request for path: /favicon.ico
2025-02-14 18:40:29,336 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587229336] Received GET request for path: /?query=movies%20like%20fire%20which%20featured%20shabana%20azmi&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 18:40:29,338 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739587229336] Received parameters: {'query': ['movies like fire which featured shabana azmi'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 18:40:29,340 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739587229336] Processing query with handler: Imdb2Handler
2025-02-14 18:40:29,341 [Thread-20 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739587229340] Starting query handling for site: imdb, query_id: 
2025-02-14 18:40:29,351 [Thread-20 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.488199 seconds
2025-02-14 18:40:30,687 [Thread-20 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:40:31,559 [Thread-20 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:40:35,600 [Thread-20 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739587229340] Query handling completed successfully
2025-02-14 18:40:35,607 [Thread-20 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:42:01,861 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587321861] Received GET request for path: /html/str_chat.html
2025-02-14 18:42:01,872 [Thread-19 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:42:01,887 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587321887] Received GET request for path: /html/streaming.js
2025-02-14 18:42:01,898 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587321898] Received GET request for path: /html/clear.jpeg
2025-02-14 18:42:01,899 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587321899] Received GET request for path: /html/debug.png
2025-02-14 18:42:01,906 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587321906] Received GET request for path: /favicon.ico
2025-02-14 18:42:10,875 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587330874] Received GET request for path: /?query=which%20movies%20did%20harrison%20ford%20act%20in&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 18:42:10,875 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739587330874] Received parameters: {'query': ['which movies did harrison ford act in'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 18:42:10,878 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739587330874] Processing query with handler: Imdb2Handler
2025-02-14 18:42:10,878 [Thread-22 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739587330878] Starting query handling for site: imdb, query_id: 
2025-02-14 18:42:10,892 [Thread-22 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.396890 seconds
2025-02-14 18:42:11,885 [Thread-22 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:42:12,518 [Thread-22 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:42:19,064 [Thread-22 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739587330878] Query handling completed successfully
2025-02-14 18:42:29,081 [Thread-22 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:42:32,088 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587352088] Received GET request for path: /?query=which%20movies%20did%20harrison%20ford%20act%20in&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 18:42:32,089 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739587352088] Received parameters: {'query': ['which movies did harrison ford act in'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 18:42:32,089 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739587352088] Processing query with handler: Imdb2Handler
2025-02-14 18:42:32,090 [Thread-23 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739587352090] Starting query handling for site: imdb, query_id: 
2025-02-14 18:42:32,099 [Thread-23 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.479972 seconds
2025-02-14 18:42:33,306 [Thread-23 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:42:33,949 [Thread-23 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:42:40,944 [Thread-23 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739587352090] Query handling completed successfully
2025-02-14 18:42:45,118 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587365118] Received GET request for path: /html/str_chat.html
2025-02-14 18:42:45,144 [Thread-23 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:42:45,146 [Thread-21 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:42:45,157 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587365157] Received GET request for path: /html/streaming.js
2025-02-14 18:42:45,179 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587365179] Received GET request for path: /html/clear.jpeg
2025-02-14 18:42:45,183 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587365183] Received GET request for path: /html/debug.png
2025-02-14 18:42:45,192 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587365192] Received GET request for path: /favicon.ico
2025-02-14 18:43:09,540 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587389540] Received GET request for path: /?query=which%20movies%20did%20harrison%20ford%20and%20mark%20hamill%20act%20together%20in&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 18:43:09,541 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739587389540] Received parameters: {'query': ['which movies did harrison ford and mark hamill act together in'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 18:43:09,542 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739587389540] Processing query with handler: Imdb2Handler
2025-02-14 18:43:09,543 [Thread-24 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739587389543] Starting query handling for site: imdb, query_id: 
2025-02-14 18:43:09,557 [Thread-24 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.420396 seconds
2025-02-14 18:43:10,868 [Thread-24 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:43:11,630 [Thread-24 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:43:19,365 [Thread-24 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739587389543] Query handling completed successfully
2025-02-14 18:43:19,381 [Thread-24 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:45:03,076 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587503076] Received GET request for path: /html/str_chat.html
2025-02-14 18:45:03,087 [Thread-25 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:45:03,108 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587503108] Received GET request for path: /html/streaming.js
2025-02-14 18:45:03,124 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587503124] Received GET request for path: /html/clear.jpeg
2025-02-14 18:45:03,126 [Thread-27 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587503126] Received GET request for path: /html/debug.png
2025-02-14 18:45:03,176 [Thread-27 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587503176] Received GET request for path: /favicon.ico
2025-02-14 18:45:23,983 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587523983] Received GET request for path: /?query=movies%20in%20which%20Adele%20provided%20the%20music&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 18:45:23,985 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739587523983] Received parameters: {'query': ['movies in which Adele provided the music'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 18:45:23,988 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739587523983] Processing query with handler: Imdb2Handler
2025-02-14 18:45:23,988 [Thread-26 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739587523988] Starting query handling for site: imdb, query_id: 
2025-02-14 18:45:24,007 [Thread-26 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.455257 seconds
2025-02-14 18:45:25,264 [Thread-26 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:45:25,961 [Thread-26 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:45:30,235 [Thread-26 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739587523988] Query handling completed successfully
2025-02-14 18:45:30,240 [Thread-26 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:50:42,585 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587842585] Received GET request for path: /html/str_chat.html
2025-02-14 18:50:42,594 [Thread-27 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:50:42,610 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587842610] Received GET request for path: /html/streaming.js
2025-02-14 18:50:42,618 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587842618] Received GET request for path: /html/clear.jpeg
2025-02-14 18:50:42,619 [Thread-29 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587842619] Received GET request for path: /html/debug.png
2025-02-14 18:50:42,627 [Thread-29 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587842627] Received GET request for path: /favicon.ico
2025-02-14 18:50:45,539 [Thread-28 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:51:00,232 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739587860232] Received GET request for path: /?query=movies%20with%20the%20most%20oscar%20awards&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-14 18:51:00,233 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739587860232] Received parameters: {'query': ['movies with the most oscar awards'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-14 18:51:00,235 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739587860232] Processing query with handler: Imdb2Handler
2025-02-14 18:51:00,235 [Thread-30 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739587860235] Starting query handling for site: imdb, query_id: 
2025-02-14 18:51:00,249 [Thread-30 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.449318 seconds
2025-02-14 18:51:01,477 [Thread-30 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:51:02,251 [Thread-30 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:51:08,796 [Thread-30 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739587860235] Query handling completed successfully
2025-02-14 18:51:08,807 [Thread-30 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-14 18:53:34,742 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:97] [req_1739588014742] Received GET request for path: /?query=who%20are%20the%20actors%20in%20slumdog%20millionaire&site=imdb&model=gpt-4o-mini&prev=%5B%22movies%20with%20the%20most%20oscar%20awards%22%5D&item_to_remember=
2025-02-14 18:53:34,742 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:118] [req_1739588014742] Received parameters: {'query': ['who are the actors in slumdog millionaire'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['["movies with the most oscar awards"]']}
2025-02-14 18:53:34,743 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:138] [req_1739588014742] Processing query with handler: Imdb2Handler
2025-02-14 18:53:34,743 [Thread-31 (process_request_thread)] INFO [StreamingHandler.handle_query:176] [query_1739588014743] Starting query handling for site: imdb, query_id: 
2025-02-14 18:53:34,749 [Thread-31 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.489615 seconds
2025-02-14 18:53:35,925 [Thread-31 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-14 18:53:42,691 [Thread-31 (process_request_thread)] INFO [StreamingHandler.handle_query:189] [query_1739588014743] Query handling completed successfully
2025-02-14 18:53:42,696 [Thread-31 (process_request_thread)] INFO [StreamingHandler.__init__:77] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 12:11:58,821 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 12:18:38,657 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:101] [req_1739650718657] Received GET request for path: /html/str_chat.html
2025-02-15 12:18:38,705 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:101] [req_1739650718705] Received GET request for path: /html/streaming.js
2025-02-15 12:18:38,711 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:101] [req_1739650718711] Received GET request for path: /html/clear.jpeg
2025-02-15 12:18:38,711 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:101] [req_1739650718711] Received GET request for path: /html/debug.png
2025-02-15 12:18:38,720 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:101] [req_1739650718720] Received GET request for path: /favicon.ico
2025-02-15 12:18:39,929 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 12:18:52,102 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:101] [req_1739650732102] Received GET request for path: /?query=homes%20in%20cupertino%20that%20have%20a%20pool%20and%20yard&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 12:18:52,104 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:122] [req_1739650732102] Received parameters: {'query': ['homes in cupertino that have a pool and yard'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 12:18:52,107 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:142] [req_1739650732102] Processing query with handler: ZillowHandler
2025-02-15 12:18:52,107 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:180] [query_1739650732107] Starting query handling for site: zillow, query_id: 
2025-02-15 12:18:53,019 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-15 12:18:53,718 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-15 12:18:56,326 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:101] [req_1739650736326] Received GET request for path: /html/info.png
2025-02-15 12:18:59,662 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:193] [query_1739650732107] Query handling completed successfully
2025-02-15 12:18:59,676 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 12:18:59,968 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:101] [req_1739650739968] Received GET request for path: /html/str_chat.html
2025-02-15 12:18:59,978 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 12:18:59,986 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:101] [req_1739650739986] Received GET request for path: /favicon.ico
2025-02-15 12:19:15,802 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:101] [req_1739650755802] Received GET request for path: /?query=homes%20that%20have%20a%20pool%20and%20yard%2C%20cost%20less%20than%203%20million&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 12:19:15,803 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:122] [req_1739650755802] Received parameters: {'query': ['homes that have a pool and yard, cost less than 3 million'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 12:19:15,804 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:142] [req_1739650755802] Processing query with handler: ZillowHandler
2025-02-15 12:19:15,804 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:180] [query_1739650755804] Starting query handling for site: zillow, query_id: 
2025-02-15 12:19:15,814 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.407378 seconds
2025-02-15 12:19:16,803 [Thread-10 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: False
2025-02-15 12:19:16,804 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:193] [query_1739650755804] Query handling completed successfully
2025-02-15 12:19:16,808 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 12:19:20,483 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:101] [req_1739650760483] Received GET request for path: /?query=Cupertino&site=zillow&model=gpt-4o-mini&prev=%5B%22homes%20that%20have%20a%20pool%20and%20yard%2C%20cost%20less%20than%203%20million%22%5D&item_to_remember=
2025-02-15 12:19:20,484 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:122] [req_1739650760483] Received parameters: {'query': ['Cupertino'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['["homes that have a pool and yard, cost less than 3 million"]']}
2025-02-15 12:19:20,485 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:142] [req_1739650760483] Processing query with handler: ZillowHandler
2025-02-15 12:19:20,485 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:180] [query_1739650760485] Starting query handling for site: zillow, query_id: 
2025-02-15 12:19:20,498 [Thread-11 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.492717 seconds
2025-02-15 12:19:21,636 [Thread-11 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-15 12:19:22,394 [Thread-11 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-15 12:19:27,718 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:193] [query_1739650760485] Query handling completed successfully
2025-02-15 12:19:27,731 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:45:54,849 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 14:47:57,461 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739659677461] Received GET request for path: /html/str_chat.html?query=similar+jackets+from+patagonia+with+hood&site=bc_product&context_url=https://www.backcountry.com/mountain-hardwear-firefall-2-jacket-womens
2025-02-15 14:47:57,482 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739659677482] Received GET request for path: /html/streaming.js
2025-02-15 14:47:57,501 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739659677501] Received GET request for path: /html/debug.png
2025-02-15 14:47:57,502 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739659677502] Received GET request for path: /?query=similar%20jackets%20from%20patagonia%20with%20hood&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:47:57,504 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739659677502] Received parameters: {'query': ['similar jackets from patagonia with hood'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:47:57,505 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739659677502] Processing query with handler: Imdb2Handler
2025-02-15 14:47:57,506 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739659677506] Starting query handling for site: imdb, query_id: 
2025-02-15 14:47:57,506 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739659677506] Received GET request for path: /favicon.ico
2025-02-15 14:47:58,386 [Thread-5 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Outdoor Gear
2025-02-15 14:47:58,985 [Thread-5 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Outdoor Gear
2025-02-15 14:48:06,208 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739659677506] Query handling completed successfully
2025-02-15 14:48:06,211 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:55:08,821 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660108821] Received GET request for path: /html/str_chat.html?query=similar+jackets+from+patagonia+with+hood&site=bc_product&context_url=https://www.backcountry.com/mountain-hardwear-firefall-2-jacket-womens
2025-02-15 14:55:08,826 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:55:08,835 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660108835] Received GET request for path: /html/streaming.js
2025-02-15 14:55:08,841 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660108841] Received GET request for path: /favicon.ico
2025-02-15 14:55:43,140 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660143140] Received GET request for path: /html/str_chat.html?query=similar+jackets+from+patagonia+with+hood&site=bc_product&context_url=https://www.backcountry.com/mountain-hardwear-firefall-2-jacket-womens
2025-02-15 14:55:43,149 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:55:43,155 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660143155] Received GET request for path: /html/streaming.js
2025-02-15 14:55:43,160 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660143160] Received GET request for path: /?query=similar%20jackets%20from%20patagonia%20with%20hood&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:55:43,161 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660143160] Received parameters: {'query': ['similar jackets from patagonia with hood'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:55:43,161 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660143160] Processing query with handler: Imdb2Handler
2025-02-15 14:55:43,162 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660143162] Starting query handling for site: imdb, query_id: 
2025-02-15 14:55:43,163 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660143163] Received GET request for path: /html/clear.jpeg
2025-02-15 14:55:43,170 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660143170] Received GET request for path: /html/debug.png
2025-02-15 14:55:43,174 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.416112 seconds
2025-02-15 14:55:43,180 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660143180] Received GET request for path: /favicon.ico
2025-02-15 14:55:44,236 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Outdoor Gear
2025-02-15 14:55:44,749 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Outdoor Gear
2025-02-15 14:55:45,579 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:55:50,226 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739660143162] Query handling completed successfully
2025-02-15 14:55:50,230 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:56:00,986 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660160986] Received GET request for path: /html/streaming.js
2025-02-15 14:56:00,997 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660160997] Received GET request for path: /favicon.ico
2025-02-15 14:57:00,989 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:57:24,147 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660244147] Received GET request for path: /html/str_chat.html
2025-02-15 14:57:24,155 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:57:24,162 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660244162] Received GET request for path: /html/streaming.js
2025-02-15 14:57:24,169 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660244169] Received GET request for path: /favicon.ico
2025-02-15 14:58:01,375 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660281375] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:01,375 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660281375] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:01,377 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660281375] Processing query with handler: BCProductHandler
2025-02-15 14:58:01,378 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660281378] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:01,378 [Thread-13 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660281378] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:01,386 [Thread-13 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660281378] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:01,386 [Thread-13 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660281375] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:01,390 [Thread-13 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660281375] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:01,390 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:04,395 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660284395] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:04,395 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660284395] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:04,396 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660284395] Processing query with handler: BCProductHandler
2025-02-15 14:58:04,396 [Thread-14 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660284396] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:04,396 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660284396] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:04,398 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660284396] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:04,398 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660284395] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:04,400 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660284395] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:04,400 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:07,405 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660287405] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:07,406 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660287405] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:07,406 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660287405] Processing query with handler: BCProductHandler
2025-02-15 14:58:07,407 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660287407] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:07,407 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660287407] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:07,408 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660287407] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:07,409 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660287405] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:07,410 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660287405] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:07,411 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:10,417 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660290417] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:10,418 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660290417] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:10,419 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660290417] Processing query with handler: BCProductHandler
2025-02-15 14:58:10,419 [Thread-16 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660290419] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:10,419 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660290419] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:10,420 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660290419] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:10,421 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660290417] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:10,422 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660290417] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:10,422 [Thread-16 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:13,428 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660293428] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:13,429 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660293428] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:13,429 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660293428] Processing query with handler: BCProductHandler
2025-02-15 14:58:13,430 [Thread-17 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660293430] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:13,430 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660293430] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:13,431 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660293430] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:13,431 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660293428] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:13,432 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660293428] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:13,433 [Thread-17 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:16,439 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660296439] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:16,439 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660296439] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:16,440 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660296439] Processing query with handler: BCProductHandler
2025-02-15 14:58:16,440 [Thread-18 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660296440] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:16,440 [Thread-18 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660296440] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:16,441 [Thread-18 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660296440] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:16,441 [Thread-18 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660296439] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:16,442 [Thread-18 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660296439] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:16,443 [Thread-18 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:19,448 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660299448] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:19,448 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660299448] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:19,449 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660299448] Processing query with handler: BCProductHandler
2025-02-15 14:58:19,449 [Thread-19 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660299449] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:19,450 [Thread-19 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660299449] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:19,451 [Thread-19 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660299449] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:19,451 [Thread-19 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660299448] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:19,452 [Thread-19 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660299448] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:19,452 [Thread-19 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:22,457 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660302457] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:22,458 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660302457] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:22,460 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660302457] Processing query with handler: BCProductHandler
2025-02-15 14:58:22,461 [Thread-20 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660302461] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:22,461 [Thread-20 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660302461] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:22,461 [Thread-20 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660302461] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:22,462 [Thread-20 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660302457] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:22,462 [Thread-20 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660302457] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:22,463 [Thread-20 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:25,469 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660305469] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:25,471 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660305469] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:25,472 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660305469] Processing query with handler: BCProductHandler
2025-02-15 14:58:25,472 [Thread-21 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660305472] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:25,472 [Thread-21 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660305472] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:25,473 [Thread-21 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660305472] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:25,474 [Thread-21 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660305469] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:25,478 [Thread-21 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660305469] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:25,478 [Thread-21 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:28,484 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660308484] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:28,484 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660308484] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:28,485 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660308484] Processing query with handler: BCProductHandler
2025-02-15 14:58:28,485 [Thread-22 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660308485] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:28,485 [Thread-22 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660308485] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:28,486 [Thread-22 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660308485] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:28,486 [Thread-22 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660308484] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:28,488 [Thread-22 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660308484] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:28,489 [Thread-22 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:31,494 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660311494] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:31,494 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660311494] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:31,495 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660311494] Processing query with handler: BCProductHandler
2025-02-15 14:58:31,496 [Thread-23 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660311496] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:31,496 [Thread-23 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660311496] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:31,497 [Thread-23 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660311496] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:31,497 [Thread-23 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660311494] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:31,499 [Thread-23 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660311494] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:31,500 [Thread-23 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:34,505 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660314505] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:34,505 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660314505] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:34,506 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660314505] Processing query with handler: BCProductHandler
2025-02-15 14:58:34,506 [Thread-24 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660314506] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:34,506 [Thread-24 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660314506] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:34,507 [Thread-24 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660314506] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:34,508 [Thread-24 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660314505] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:34,509 [Thread-24 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660314505] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:34,510 [Thread-24 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:37,517 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660317517] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:37,517 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660317517] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:37,518 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660317517] Processing query with handler: BCProductHandler
2025-02-15 14:58:37,518 [Thread-25 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660317518] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:37,519 [Thread-25 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660317518] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:37,520 [Thread-25 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660317518] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:37,520 [Thread-25 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660317517] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:37,521 [Thread-25 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660317517] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    data=[embedding],
          ^^^^^^^^^
NameError: name 'embedding' is not defined

2025-02-15 14:58:37,522 [Thread-25 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:40,529 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660320529] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:40,531 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660320529] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:40,532 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660320529] Processing query with handler: BCProductHandler
2025-02-15 14:58:40,533 [Thread-26 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660320533] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:40,533 [Thread-26 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660320533] Error in handle_query: name 'embedding' is not defined
2025-02-15 14:58:40,536 [Thread-26 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660320533] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    #    data=[embedding],
NameError: name 'embedding' is not defined

2025-02-15 14:58:40,537 [Thread-26 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660320529] Error handling request: name 'embedding' is not defined
2025-02-15 14:58:40,538 [Thread-26 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660320529] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 20, in __init__
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in getDescriptionContext
    self.getDescriptionContext()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 48, in retrieve_item_with_url
    #    data=[embedding],
NameError: name 'embedding' is not defined

2025-02-15 14:58:40,539 [Thread-26 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:58:58,134 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 14:58:58,575 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660338575] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:58:58,576 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660338575] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:58:58,578 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660338575] Processing query with handler: BCProductHandler
2025-02-15 14:58:58,578 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660338578] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:58:58,579 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660338578] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:58:58,584 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660338578] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:58:58,585 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660338575] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:58:58,588 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660338575] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:58:58,589 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:01,593 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660341593] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:01,594 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660341593] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:01,594 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660341593] Processing query with handler: BCProductHandler
2025-02-15 14:59:01,595 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660341595] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:01,595 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660341595] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:01,599 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660341595] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:01,599 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660341593] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:01,601 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660341593] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:01,602 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:04,608 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660344608] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:04,608 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660344608] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:04,609 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660344608] Processing query with handler: BCProductHandler
2025-02-15 14:59:04,609 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660344609] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:04,610 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660344609] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:04,611 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660344609] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:04,611 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660344608] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:04,613 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660344608] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:04,613 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:07,619 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660347619] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:07,620 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660347619] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:07,620 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660347619] Processing query with handler: BCProductHandler
2025-02-15 14:59:07,621 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660347621] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:07,621 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660347621] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:07,622 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660347621] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:07,623 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660347619] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:07,624 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660347619] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:07,625 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:10,629 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660350629] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:10,630 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660350629] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:10,631 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660350629] Processing query with handler: BCProductHandler
2025-02-15 14:59:10,631 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660350631] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:10,631 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660350631] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:10,632 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660350631] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:10,633 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660350629] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:10,635 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660350629] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:10,635 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:13,641 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660353641] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:13,642 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660353641] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:13,643 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660353641] Processing query with handler: BCProductHandler
2025-02-15 14:59:13,643 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660353643] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:13,643 [Thread-11 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660353643] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:13,645 [Thread-11 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660353643] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:13,646 [Thread-11 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660353641] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:13,647 [Thread-11 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660353641] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:13,648 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:16,654 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660356654] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:16,655 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660356654] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:16,655 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660356654] Processing query with handler: BCProductHandler
2025-02-15 14:59:16,656 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660356656] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:16,656 [Thread-12 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660356656] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:16,657 [Thread-12 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660356656] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:16,658 [Thread-12 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660356654] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:16,659 [Thread-12 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660356654] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:16,660 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:19,665 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660359665] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:19,666 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660359665] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:19,666 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660359665] Processing query with handler: BCProductHandler
2025-02-15 14:59:19,666 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660359666] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:19,667 [Thread-13 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660359666] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:19,668 [Thread-13 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660359666] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:19,668 [Thread-13 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660359665] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:19,670 [Thread-13 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660359665] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:19,671 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:22,678 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660362678] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:22,680 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660362678] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:22,681 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660362678] Processing query with handler: BCProductHandler
2025-02-15 14:59:22,681 [Thread-14 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660362681] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:22,681 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660362681] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:22,683 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660362681] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:22,684 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660362678] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:22,686 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660362678] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:22,686 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:25,693 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660365693] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:25,693 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660365693] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:25,694 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660365693] Processing query with handler: BCProductHandler
2025-02-15 14:59:25,694 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660365694] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:25,694 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660365694] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:25,696 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660365694] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:25,696 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660365693] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:25,698 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660365693] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:25,699 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:28,706 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660368706] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:28,706 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660368706] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:28,707 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660368706] Processing query with handler: BCProductHandler
2025-02-15 14:59:28,707 [Thread-16 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660368707] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:28,708 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660368707] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:28,709 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660368707] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:28,709 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660368706] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:28,711 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660368706] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:28,711 [Thread-16 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:31,718 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660371718] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:31,719 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660371718] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:31,720 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660371718] Processing query with handler: BCProductHandler
2025-02-15 14:59:31,720 [Thread-17 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660371720] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:31,721 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660371720] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:31,722 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660371720] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:31,723 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660371718] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:31,725 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660371718] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:31,725 [Thread-17 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:34,732 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660374732] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:34,732 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660374732] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:34,733 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660374732] Processing query with handler: BCProductHandler
2025-02-15 14:59:34,734 [Thread-18 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660374734] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:34,734 [Thread-18 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660374734] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:34,736 [Thread-18 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660374734] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:34,736 [Thread-18 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660374732] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:34,739 [Thread-18 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660374732] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:34,739 [Thread-18 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:37,744 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660377744] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:37,745 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660377744] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:37,745 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660377744] Processing query with handler: BCProductHandler
2025-02-15 14:59:37,745 [Thread-19 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660377745] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:37,746 [Thread-19 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660377745] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:37,747 [Thread-19 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660377745] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:37,747 [Thread-19 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660377744] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:37,749 [Thread-19 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660377744] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:37,749 [Thread-19 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:40,756 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660380756] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:40,758 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660380756] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:40,758 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660380756] Processing query with handler: BCProductHandler
2025-02-15 14:59:40,759 [Thread-20 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660380759] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:40,759 [Thread-20 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660380759] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:40,760 [Thread-20 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660380759] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:40,761 [Thread-20 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660380756] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:40,762 [Thread-20 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660380756] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:40,763 [Thread-20 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:43,769 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660383769] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:43,769 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660383769] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:43,770 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660383769] Processing query with handler: BCProductHandler
2025-02-15 14:59:43,771 [Thread-21 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660383771] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:43,771 [Thread-21 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660383771] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:43,773 [Thread-21 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660383771] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:43,773 [Thread-21 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660383769] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:43,774 [Thread-21 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660383769] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:43,775 [Thread-21 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:46,779 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660386779] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:46,780 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660386779] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:46,781 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660386779] Processing query with handler: BCProductHandler
2025-02-15 14:59:46,783 [Thread-22 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660386783] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:46,783 [Thread-22 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660386783] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:46,784 [Thread-22 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660386783] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:46,784 [Thread-22 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660386779] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:46,786 [Thread-22 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660386779] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:46,786 [Thread-22 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:49,790 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660389790] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:49,790 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660389790] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:49,791 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660389790] Processing query with handler: BCProductHandler
2025-02-15 14:59:49,791 [Thread-23 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660389791] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:49,791 [Thread-23 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660389791] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:49,792 [Thread-23 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660389791] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:49,792 [Thread-23 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660389790] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:49,794 [Thread-23 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660389790] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:49,794 [Thread-23 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:52,797 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660392797] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:52,798 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660392797] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:52,798 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660392797] Processing query with handler: BCProductHandler
2025-02-15 14:59:52,799 [Thread-24 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660392799] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:52,799 [Thread-24 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660392799] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:52,800 [Thread-24 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660392799] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:52,801 [Thread-24 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660392797] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:52,803 [Thread-24 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660392797] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:52,803 [Thread-24 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:55,807 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660395807] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:55,807 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660395807] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:55,808 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660395807] Processing query with handler: BCProductHandler
2025-02-15 14:59:55,808 [Thread-25 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660395808] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:55,808 [Thread-25 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660395808] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:55,809 [Thread-25 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660395808] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:55,809 [Thread-25 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660395807] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:55,810 [Thread-25 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660395807] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:55,810 [Thread-25 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 14:59:58,813 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660398813] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 14:59:58,814 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660398813] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 14:59:58,815 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660398813] Processing query with handler: BCProductHandler
2025-02-15 14:59:58,815 [Thread-26 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660398815] Starting query handling for site: bc_product, query_id: 
2025-02-15 14:59:58,815 [Thread-26 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660398815] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:58,816 [Thread-26 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660398815] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:58,816 [Thread-26 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660398813] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 14:59:58,818 [Thread-26 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660398813] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 14:59:58,818 [Thread-26 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:01,821 [Thread-27 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660401821] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:01,822 [Thread-27 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660401821] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:01,822 [Thread-27 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660401821] Processing query with handler: BCProductHandler
2025-02-15 15:00:01,822 [Thread-27 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660401822] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:01,822 [Thread-27 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660401822] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:01,824 [Thread-27 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660401822] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:01,825 [Thread-27 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660401821] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:01,826 [Thread-27 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660401821] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:01,826 [Thread-27 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:04,831 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660404831] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:04,831 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660404831] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:04,832 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660404831] Processing query with handler: BCProductHandler
2025-02-15 15:00:04,832 [Thread-28 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660404832] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:04,833 [Thread-28 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660404832] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:04,834 [Thread-28 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660404832] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:04,834 [Thread-28 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660404831] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:04,836 [Thread-28 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660404831] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:04,837 [Thread-28 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:07,843 [Thread-29 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660407843] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:07,845 [Thread-29 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660407843] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:07,845 [Thread-29 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660407843] Processing query with handler: BCProductHandler
2025-02-15 15:00:07,846 [Thread-29 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660407846] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:07,846 [Thread-29 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660407846] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:07,848 [Thread-29 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660407846] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:07,848 [Thread-29 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660407843] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:07,850 [Thread-29 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660407843] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:07,851 [Thread-29 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:10,857 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660410857] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:10,858 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660410857] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:10,858 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660410857] Processing query with handler: BCProductHandler
2025-02-15 15:00:10,859 [Thread-30 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660410859] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:10,859 [Thread-30 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660410859] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:10,860 [Thread-30 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660410859] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:10,860 [Thread-30 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660410857] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:10,862 [Thread-30 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660410857] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:10,862 [Thread-30 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:13,870 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660413870] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:13,870 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660413870] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:13,872 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660413870] Processing query with handler: BCProductHandler
2025-02-15 15:00:13,872 [Thread-31 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660413872] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:13,872 [Thread-31 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660413872] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:13,875 [Thread-31 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660413872] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:13,878 [Thread-31 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660413870] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:13,880 [Thread-31 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660413870] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:13,880 [Thread-31 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:16,886 [Thread-32 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660416886] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:16,887 [Thread-32 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660416886] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:16,888 [Thread-32 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660416886] Processing query with handler: BCProductHandler
2025-02-15 15:00:16,889 [Thread-32 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660416889] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:16,889 [Thread-32 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660416889] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:16,891 [Thread-32 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660416889] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:16,891 [Thread-32 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660416886] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:16,892 [Thread-32 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660416886] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:16,892 [Thread-32 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:19,897 [Thread-33 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660419897] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:19,898 [Thread-33 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660419897] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:19,899 [Thread-33 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660419897] Processing query with handler: BCProductHandler
2025-02-15 15:00:19,899 [Thread-33 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660419899] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:19,899 [Thread-33 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660419899] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:19,901 [Thread-33 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660419899] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:19,901 [Thread-33 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660419897] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:19,903 [Thread-33 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660419897] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:19,904 [Thread-33 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:22,910 [Thread-34 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660422910] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:22,910 [Thread-34 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660422910] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:22,911 [Thread-34 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660422910] Processing query with handler: BCProductHandler
2025-02-15 15:00:22,911 [Thread-34 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660422911] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:22,912 [Thread-34 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660422911] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:22,913 [Thread-34 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660422911] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:22,913 [Thread-34 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660422910] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:22,914 [Thread-34 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660422910] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:22,914 [Thread-34 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:25,920 [Thread-35 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660425920] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:25,921 [Thread-35 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660425920] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:25,922 [Thread-35 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660425920] Processing query with handler: BCProductHandler
2025-02-15 15:00:25,922 [Thread-35 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660425922] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:25,922 [Thread-35 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660425922] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:25,924 [Thread-35 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660425922] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:25,925 [Thread-35 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660425920] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:25,927 [Thread-35 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660425920] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:25,927 [Thread-35 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:28,932 [Thread-36 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660428932] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:28,933 [Thread-36 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660428932] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:28,933 [Thread-36 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660428932] Processing query with handler: BCProductHandler
2025-02-15 15:00:28,934 [Thread-36 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660428934] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:28,934 [Thread-36 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660428934] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:28,935 [Thread-36 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660428934] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:28,935 [Thread-36 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660428932] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:28,937 [Thread-36 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660428932] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:28,938 [Thread-36 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:31,943 [Thread-37 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660431943] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:31,944 [Thread-37 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660431943] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:31,945 [Thread-37 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660431943] Processing query with handler: BCProductHandler
2025-02-15 15:00:31,945 [Thread-37 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660431945] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:31,945 [Thread-37 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660431945] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:31,946 [Thread-37 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660431945] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:31,947 [Thread-37 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660431943] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:31,949 [Thread-37 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660431943] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:31,950 [Thread-37 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:34,956 [Thread-38 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660434956] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:34,956 [Thread-38 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660434956] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:34,957 [Thread-38 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660434956] Processing query with handler: BCProductHandler
2025-02-15 15:00:34,957 [Thread-38 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660434957] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:34,957 [Thread-38 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660434957] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:34,959 [Thread-38 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660434957] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:34,959 [Thread-38 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660434956] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:34,961 [Thread-38 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660434956] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:34,962 [Thread-38 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:37,967 [Thread-39 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660437967] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:37,967 [Thread-39 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660437967] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:37,968 [Thread-39 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660437967] Processing query with handler: BCProductHandler
2025-02-15 15:00:37,968 [Thread-39 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660437968] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:37,968 [Thread-39 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660437968] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:37,970 [Thread-39 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660437968] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:37,970 [Thread-39 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660437967] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:37,972 [Thread-39 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660437967] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:37,972 [Thread-39 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:40,979 [Thread-40 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660440979] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:40,980 [Thread-40 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660440979] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:40,981 [Thread-40 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660440979] Processing query with handler: BCProductHandler
2025-02-15 15:00:40,981 [Thread-40 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660440981] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:40,982 [Thread-40 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660440981] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:40,983 [Thread-40 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660440981] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:40,984 [Thread-40 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660440979] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:40,986 [Thread-40 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660440979] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:40,986 [Thread-40 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:43,992 [Thread-41 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660443992] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:43,993 [Thread-41 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660443992] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:43,993 [Thread-41 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660443992] Processing query with handler: BCProductHandler
2025-02-15 15:00:43,993 [Thread-41 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660443993] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:43,994 [Thread-41 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660443993] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:43,996 [Thread-41 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660443993] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:43,996 [Thread-41 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660443992] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:43,998 [Thread-41 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660443992] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:43,998 [Thread-41 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:47,005 [Thread-42 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660447005] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:47,005 [Thread-42 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660447005] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:47,006 [Thread-42 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660447005] Processing query with handler: BCProductHandler
2025-02-15 15:00:47,006 [Thread-42 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660447006] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:47,006 [Thread-42 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660447006] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:47,008 [Thread-42 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660447006] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:47,008 [Thread-42 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660447005] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:47,010 [Thread-42 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660447005] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:47,011 [Thread-42 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:50,016 [Thread-43 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660450016] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:50,017 [Thread-43 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660450016] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:50,017 [Thread-43 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660450016] Processing query with handler: BCProductHandler
2025-02-15 15:00:50,018 [Thread-43 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660450018] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:50,018 [Thread-43 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660450018] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:50,019 [Thread-43 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660450018] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:50,019 [Thread-43 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660450016] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:50,020 [Thread-43 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660450016] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:50,021 [Thread-43 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:53,026 [Thread-44 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660453026] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:53,027 [Thread-44 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660453026] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:53,028 [Thread-44 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660453026] Processing query with handler: BCProductHandler
2025-02-15 15:00:53,028 [Thread-44 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660453028] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:53,029 [Thread-44 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660453028] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:53,030 [Thread-44 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660453028] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:53,031 [Thread-44 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660453026] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:53,033 [Thread-44 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660453026] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:53,034 [Thread-44 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:56,039 [Thread-45 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660456039] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:56,039 [Thread-45 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660456039] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:56,040 [Thread-45 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660456039] Processing query with handler: BCProductHandler
2025-02-15 15:00:56,040 [Thread-45 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660456040] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:56,040 [Thread-45 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660456040] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:56,041 [Thread-45 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660456040] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:56,041 [Thread-45 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660456039] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:56,042 [Thread-45 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660456039] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:56,043 [Thread-45 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:00:59,048 [Thread-46 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660459048] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:00:59,049 [Thread-46 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660459048] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:00:59,049 [Thread-46 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660459048] Processing query with handler: BCProductHandler
2025-02-15 15:00:59,050 [Thread-46 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660459050] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:00:59,050 [Thread-46 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660459050] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:59,051 [Thread-46 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660459050] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:59,052 [Thread-46 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660459048] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:00:59,054 [Thread-46 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660459048] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:00:59,055 [Thread-46 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:02,061 [Thread-47 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660462061] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:02,061 [Thread-47 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660462061] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:02,062 [Thread-47 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660462061] Processing query with handler: BCProductHandler
2025-02-15 15:01:02,062 [Thread-47 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660462062] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:02,063 [Thread-47 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660462062] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:02,065 [Thread-47 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660462062] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:02,065 [Thread-47 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660462061] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:02,067 [Thread-47 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660462061] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:02,068 [Thread-47 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:05,074 [Thread-48 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660465074] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:05,075 [Thread-48 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660465074] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:05,075 [Thread-48 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660465074] Processing query with handler: BCProductHandler
2025-02-15 15:01:05,076 [Thread-48 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660465076] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:05,076 [Thread-48 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660465076] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:05,078 [Thread-48 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660465076] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:05,078 [Thread-48 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660465074] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:05,080 [Thread-48 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660465074] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:05,081 [Thread-48 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:08,085 [Thread-49 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660468085] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:08,086 [Thread-49 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660468085] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:08,086 [Thread-49 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660468085] Processing query with handler: BCProductHandler
2025-02-15 15:01:08,087 [Thread-49 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660468087] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:08,087 [Thread-49 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660468087] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:08,088 [Thread-49 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660468087] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:08,088 [Thread-49 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660468085] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:08,090 [Thread-49 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660468085] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:08,091 [Thread-49 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:11,096 [Thread-50 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660471096] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:11,097 [Thread-50 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660471096] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:11,098 [Thread-50 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660471096] Processing query with handler: BCProductHandler
2025-02-15 15:01:11,099 [Thread-50 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660471099] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:11,099 [Thread-50 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660471099] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:11,100 [Thread-50 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660471099] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:11,100 [Thread-50 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660471096] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:11,102 [Thread-50 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660471096] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:11,102 [Thread-50 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:14,108 [Thread-51 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660474108] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:14,109 [Thread-51 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660474108] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:14,109 [Thread-51 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660474108] Processing query with handler: BCProductHandler
2025-02-15 15:01:14,112 [Thread-51 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660474110] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:14,112 [Thread-51 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660474110] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:14,114 [Thread-51 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660474110] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:14,114 [Thread-51 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660474108] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:14,117 [Thread-51 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660474108] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:14,117 [Thread-51 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:17,123 [Thread-52 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660477123] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:17,123 [Thread-52 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660477123] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:17,124 [Thread-52 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660477123] Processing query with handler: BCProductHandler
2025-02-15 15:01:17,124 [Thread-52 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660477124] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:17,124 [Thread-52 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660477124] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:17,126 [Thread-52 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660477124] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:17,126 [Thread-52 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660477123] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:17,128 [Thread-52 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660477123] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:17,128 [Thread-52 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:20,133 [Thread-53 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660480133] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:20,133 [Thread-53 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660480133] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:20,133 [Thread-53 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660480133] Processing query with handler: BCProductHandler
2025-02-15 15:01:20,133 [Thread-53 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660480133] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:20,134 [Thread-53 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660480133] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:20,134 [Thread-53 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660480133] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:20,135 [Thread-53 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660480133] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:20,136 [Thread-53 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660480133] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:20,136 [Thread-53 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:23,142 [Thread-54 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660483142] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:23,143 [Thread-54 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660483142] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:23,144 [Thread-54 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660483142] Processing query with handler: BCProductHandler
2025-02-15 15:01:23,144 [Thread-54 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660483144] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:23,144 [Thread-54 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660483144] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:23,146 [Thread-54 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660483144] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:23,146 [Thread-54 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660483142] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:23,148 [Thread-54 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660483142] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:23,149 [Thread-54 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:26,153 [Thread-55 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660486153] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:26,153 [Thread-55 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660486153] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:26,154 [Thread-55 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660486153] Processing query with handler: BCProductHandler
2025-02-15 15:01:26,154 [Thread-55 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660486154] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:26,154 [Thread-55 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660486154] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:26,156 [Thread-55 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660486154] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:26,156 [Thread-55 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660486153] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:26,158 [Thread-55 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660486153] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:26,158 [Thread-55 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:29,161 [Thread-56 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660489161] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:29,161 [Thread-56 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660489161] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:29,162 [Thread-56 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660489161] Processing query with handler: BCProductHandler
2025-02-15 15:01:29,162 [Thread-56 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660489162] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:29,163 [Thread-56 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660489162] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:29,164 [Thread-56 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660489162] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:29,165 [Thread-56 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660489161] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:29,166 [Thread-56 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660489161] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:29,167 [Thread-56 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:32,170 [Thread-57 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660492170] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:32,170 [Thread-57 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660492170] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:32,171 [Thread-57 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660492170] Processing query with handler: BCProductHandler
2025-02-15 15:01:32,171 [Thread-57 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660492171] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:32,172 [Thread-57 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660492171] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:32,173 [Thread-57 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660492171] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:32,173 [Thread-57 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660492170] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:32,174 [Thread-57 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660492170] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:32,175 [Thread-57 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:35,180 [Thread-58 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660495180] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:35,181 [Thread-58 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660495180] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:35,181 [Thread-58 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660495180] Processing query with handler: BCProductHandler
2025-02-15 15:01:35,182 [Thread-58 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660495182] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:35,182 [Thread-58 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660495182] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:35,184 [Thread-58 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660495182] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:35,184 [Thread-58 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660495180] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:35,186 [Thread-58 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660495180] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:35,187 [Thread-58 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:38,193 [Thread-59 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660498193] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:38,194 [Thread-59 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660498193] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:38,195 [Thread-59 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660498193] Processing query with handler: BCProductHandler
2025-02-15 15:01:38,195 [Thread-59 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660498195] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:38,196 [Thread-59 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660498195] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:38,198 [Thread-59 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660498195] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:38,198 [Thread-59 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660498193] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:38,200 [Thread-59 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660498193] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:38,201 [Thread-59 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:41,206 [Thread-60 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660501206] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:41,207 [Thread-60 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660501206] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:41,207 [Thread-60 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660501206] Processing query with handler: BCProductHandler
2025-02-15 15:01:41,208 [Thread-60 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660501208] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:41,208 [Thread-60 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660501208] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:41,209 [Thread-60 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660501208] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:41,210 [Thread-60 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660501206] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:41,212 [Thread-60 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660501206] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:41,212 [Thread-60 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:44,220 [Thread-61 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660504220] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:44,221 [Thread-61 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660504220] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:44,223 [Thread-61 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660504220] Processing query with handler: BCProductHandler
2025-02-15 15:01:44,224 [Thread-61 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660504224] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:44,225 [Thread-61 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660504224] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:44,227 [Thread-61 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660504224] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:44,227 [Thread-61 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660504220] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:44,229 [Thread-61 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660504220] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:44,229 [Thread-61 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:47,235 [Thread-62 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660507234] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:47,235 [Thread-62 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660507234] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:47,236 [Thread-62 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660507234] Processing query with handler: BCProductHandler
2025-02-15 15:01:47,236 [Thread-62 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660507236] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:47,236 [Thread-62 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660507236] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:47,238 [Thread-62 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660507236] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:47,238 [Thread-62 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660507234] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:47,240 [Thread-62 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660507234] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.search(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:47,241 [Thread-62 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:01:50,246 [Thread-63 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660510246] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:01:50,246 [Thread-63 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660510246] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:01:50,247 [Thread-63 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660510246] Processing query with handler: BCProductHandler
2025-02-15 15:01:50,247 [Thread-63 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660510247] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:01:50,247 [Thread-63 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660510247] Error in handle_query: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:50,249 [Thread-63 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660510247] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.query(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:50,250 [Thread-63 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660510246] Error handling request: MilvusClient.search() missing 1 required positional argument: 'data'
2025-02-15 15:01:50,252 [Thread-63 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660510246] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 46, in retrieve_item_with_url
    res = client.query(
        collection_name="prod_collection",
    ...<3 lines>...
        output_fields=["url", "text", "name", "site"],
    )
TypeError: MilvusClient.search() missing 1 required positional argument: 'data'

2025-02-15 15:01:50,252 [Thread-63 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:02:07,021 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:02:08,289 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660528289] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:02:08,291 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660528289] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:02:08,294 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660528289] Processing query with handler: BCProductHandler
2025-02-15 15:02:08,295 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660528295] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:02:08,586 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660528295] Error in handle_query: list index out of range
2025-02-15 15:02:08,590 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660528295] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 53, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:02:08,590 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660528289] Error handling request: list index out of range
2025-02-15 15:02:08,592 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660528289] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 53, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:02:08,592 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:02:11,599 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660531599] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:02:11,599 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660531599] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:02:11,600 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660531599] Processing query with handler: BCProductHandler
2025-02-15 15:02:11,600 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660531600] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:02:11,826 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660531600] Error in handle_query: list index out of range
2025-02-15 15:02:11,826 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660531600] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 53, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:02:11,826 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660531599] Error handling request: list index out of range
2025-02-15 15:02:11,826 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660531599] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 53, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:02:11,826 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:02:14,833 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660534833] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:02:14,833 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660534833] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:02:14,834 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660534833] Processing query with handler: BCProductHandler
2025-02-15 15:02:14,834 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660534834] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:02:15,057 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660534834] Error in handle_query: list index out of range
2025-02-15 15:02:15,057 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660534834] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 53, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:02:15,057 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660534833] Error handling request: list index out of range
2025-02-15 15:02:15,058 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660534833] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 53, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:02:15,058 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:02:18,064 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660538064] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:02:18,066 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660538064] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:02:18,067 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660538064] Processing query with handler: BCProductHandler
2025-02-15 15:02:18,067 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660538067] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:02:18,291 [Thread-11 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660538067] Error in handle_query: list index out of range
2025-02-15 15:02:18,291 [Thread-11 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660538067] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 53, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:02:18,291 [Thread-11 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660538064] Error handling request: list index out of range
2025-02-15 15:02:18,291 [Thread-11 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660538064] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 53, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:02:18,291 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:02:52,404 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:02:54,345 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660574345] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:02:54,347 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660574345] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:02:54,348 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660574345] Processing query with handler: BCProductHandler
2025-02-15 15:02:54,349 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660574349] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:02:54,639 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660574349] Error in handle_query: list index out of range
2025-02-15 15:02:54,641 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660574349] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 54, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:02:54,641 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660574345] Error handling request: list index out of range
2025-02-15 15:02:54,643 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660574345] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 54, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:02:54,643 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:02:57,648 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660577648] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:02:57,649 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660577648] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:02:57,649 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660577648] Processing query with handler: BCProductHandler
2025-02-15 15:02:57,650 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660577650] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:02:57,864 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660577650] Error in handle_query: list index out of range
2025-02-15 15:02:57,864 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660577650] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 54, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:02:57,864 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660577648] Error handling request: list index out of range
2025-02-15 15:02:57,865 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660577648] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 54, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:02:57,865 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:04:12,463 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:04:12,990 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660652989] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:04:12,991 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660652989] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:04:12,995 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660652989] Processing query with handler: BCProductHandler
2025-02-15 15:04:12,996 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660652996] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:04:13,330 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660652996] Error in handle_query: list index out of range
2025-02-15 15:04:13,334 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660652996] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 54, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:04:13,334 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660652989] Error handling request: list index out of range
2025-02-15 15:04:13,335 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660652989] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 54, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:04:13,336 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:04:16,340 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660656340] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:04:16,340 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660656340] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:04:16,340 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660656340] Processing query with handler: BCProductHandler
2025-02-15 15:04:16,341 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660656341] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:04:16,560 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660656341] Error in handle_query: list index out of range
2025-02-15 15:04:16,560 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660656341] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 54, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:04:16,560 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660656340] Error handling request: list index out of range
2025-02-15 15:04:16,560 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660656340] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 54, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:04:16,561 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:04:19,566 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660659566] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:04:19,567 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660659566] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:04:19,567 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660659566] Processing query with handler: BCProductHandler
2025-02-15 15:04:19,568 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660659568] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:04:19,786 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660659568] Error in handle_query: list index out of range
2025-02-15 15:04:19,786 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660659568] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 54, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:04:19,786 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660659566] Error handling request: list index out of range
2025-02-15 15:04:19,787 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660659566] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 54, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:04:19,787 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:04:53,497 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:04:55,861 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660695861] Received GET request for path: /?query=give%20me%20a%20jacket%20from%20Patagonia%20that%20looks%20like%20this%20one%2C%20except%20with%20a%20hood&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:04:55,862 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660695861] Received parameters: {'query': ['give me a jacket from Patagonia that looks like this one, except with a hood'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:04:55,864 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660695861] Processing query with handler: BCProductHandler
2025-02-15 15:04:55,865 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660695865] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:04:56,155 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660695865] Error in handle_query: list index out of range
2025-02-15 15:04:56,158 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660695865] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:04:56,158 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660695861] Error handling request: list index out of range
2025-02-15 15:04:56,159 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660695861] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:04:56,160 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:06:30,015 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:06:38,727 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660798727] Received GET request for path: /html/str_chat.html
2025-02-15 15:06:38,748 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660798748] Received GET request for path: /html/streaming.js
2025-02-15 15:06:38,784 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660798784] Received GET request for path: /favicon.ico
2025-02-15 15:07:20,985 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660840984] Received GET request for path: /?query=give%20me%20a%20jacket%20like%20this%20made%20by%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:07:20,990 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660840984] Received parameters: {'query': ['give me a jacket like this made by Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:07:20,993 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660840984] Processing query with handler: BCProductHandler
2025-02-15 15:07:20,994 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660840984] Error handling request: StreamingHandler.handle_query() takes 6 positional arguments but 7 were given
2025-02-15 15:07:21,000 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660840984] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 147, in do_GET
    self.handle_query(site, query, prev, model, query_id, context_url)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: StreamingHandler.handle_query() takes 6 positional arguments but 7 were given

2025-02-15 15:07:21,000 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:07:24,006 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660844006] Received GET request for path: /?query=give%20me%20a%20jacket%20like%20this%20made%20by%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:07:24,007 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660844006] Received parameters: {'query': ['give me a jacket like this made by Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:07:24,008 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660844006] Processing query with handler: BCProductHandler
2025-02-15 15:07:24,008 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660844006] Error handling request: StreamingHandler.handle_query() takes 6 positional arguments but 7 were given
2025-02-15 15:07:24,009 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660844006] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 147, in do_GET
    self.handle_query(site, query, prev, model, query_id, context_url)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: StreamingHandler.handle_query() takes 6 positional arguments but 7 were given

2025-02-15 15:07:24,009 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:07:27,015 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660847015] Received GET request for path: /?query=give%20me%20a%20jacket%20like%20this%20made%20by%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:07:27,015 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660847015] Received parameters: {'query': ['give me a jacket like this made by Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:07:27,016 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660847015] Processing query with handler: BCProductHandler
2025-02-15 15:07:27,016 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660847015] Error handling request: StreamingHandler.handle_query() takes 6 positional arguments but 7 were given
2025-02-15 15:07:27,017 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660847015] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 147, in do_GET
    self.handle_query(site, query, prev, model, query_id, context_url)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: StreamingHandler.handle_query() takes 6 positional arguments but 7 were given

2025-02-15 15:07:27,017 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:08:41,185 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:08:42,216 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660922216] Received GET request for path: /?query=give%20me%20a%20jacket%20like%20this%20made%20by%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:08:42,218 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660922216] Received parameters: {'query': ['give me a jacket like this made by Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:08:42,221 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660922216] Processing query with handler: BCProductHandler
2025-02-15 15:08:42,222 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660922222] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:08:42,560 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660922222] Error in handle_query: list index out of range
2025-02-15 15:08:42,563 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660922222] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:08:42,563 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660922216] Error handling request: list index out of range
2025-02-15 15:08:42,564 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660922216] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:08:42,564 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:08:45,571 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660925571] Received GET request for path: /?query=give%20me%20a%20jacket%20like%20this%20made%20by%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:08:45,571 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739660925571] Received parameters: {'query': ['give me a jacket like this made by Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:08:45,572 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739660925571] Processing query with handler: BCProductHandler
2025-02-15 15:08:45,573 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739660925573] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:08:45,814 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739660925573] Error in handle_query: list index out of range
2025-02-15 15:08:45,815 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739660925573] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:08:45,815 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739660925571] Error handling request: list index out of range
2025-02-15 15:08:45,815 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739660925571] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:08:45,815 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:09:53,983 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:09:59,301 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660999301] Received GET request for path: /html/str_chat.html
2025-02-15 15:09:59,313 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660999313] Received GET request for path: /html/streaming.js
2025-02-15 15:09:59,350 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739660999350] Received GET request for path: /favicon.ico
2025-02-15 15:10:14,579 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661014579] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:10:14,581 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661014579] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:10:14,584 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661014579] Processing query with handler: BCProductHandler
2025-02-15 15:10:14,584 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661014584] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:10:14,929 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661014584] Error in handle_query: list index out of range
2025-02-15 15:10:14,932 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661014584] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:10:14,932 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661014579] Error handling request: list index out of range
2025-02-15 15:10:14,933 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661014579] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:10:14,933 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:10:17,939 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661017939] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:10:17,940 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661017939] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:10:17,943 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661017939] Processing query with handler: BCProductHandler
2025-02-15 15:10:17,943 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661017943] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:10:18,166 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661017943] Error in handle_query: list index out of range
2025-02-15 15:10:18,167 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661017943] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:10:18,167 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661017939] Error handling request: list index out of range
2025-02-15 15:10:18,167 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661017939] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:10:18,167 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:10:21,174 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661021174] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=
2025-02-15 15:10:21,175 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661021174] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:10:21,176 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661021174] Processing query with handler: BCProductHandler
2025-02-15 15:10:21,176 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661021176] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:10:21,421 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661021176] Error in handle_query: list index out of range
2025-02-15 15:10:21,421 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661021176] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:10:21,422 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661021174] Error handling request: list index out of range
2025-02-15 15:10:21,422 [Thread-10 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661021174] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:10:21,422 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:11:30,844 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:11:34,825 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661094825] Received GET request for path: /html/str_chat.html
2025-02-15 15:11:34,844 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661094844] Received GET request for path: /html/streaming.js
2025-02-15 15:11:34,895 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661094895] Received GET request for path: /favicon.ico
2025-02-15 15:11:52,767 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661112767] Received GET request for path: /?query=similar%20jackets%20from%20patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens
2025-02-15 15:11:52,769 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661112767] Received parameters: {'query': ['similar jackets from patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens']}
2025-02-15 15:11:52,771 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661112767] Processing query with handler: BCProductHandler
2025-02-15 15:11:52,772 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661112772] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:11:53,231 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661112772] Error in handle_query: list index out of range
2025-02-15 15:11:53,235 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661112772] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:11:53,235 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661112767] Error handling request: list index out of range
2025-02-15 15:11:53,236 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661112767] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:11:53,236 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:11:56,242 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661116242] Received GET request for path: /?query=similar%20jackets%20from%20patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens
2025-02-15 15:11:56,242 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661116242] Received parameters: {'query': ['similar jackets from patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens']}
2025-02-15 15:11:56,245 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661116242] Processing query with handler: BCProductHandler
2025-02-15 15:11:56,246 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661116246] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:11:56,465 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661116246] Error in handle_query: list index out of range
2025-02-15 15:11:56,466 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661116246] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:11:56,466 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661116242] Error handling request: list index out of range
2025-02-15 15:11:56,466 [Thread-8 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661116242] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 55, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~^^^
IndexError: list index out of range

2025-02-15 15:11:56,466 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:13:28,118 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:13:29,596 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661209596] Received GET request for path: /?query=similar%20jackets%20from%20patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens
2025-02-15 15:13:29,597 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661209596] Received parameters: {'query': ['similar jackets from patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens']}
2025-02-15 15:13:29,599 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661209596] Processing query with handler: BCProductHandler
2025-02-15 15:13:29,599 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661209599] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:13:29,876 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661209599] Error in handle_query: name 'trim_json' is not defined
2025-02-15 15:13:29,879 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661209599] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 29, in getDescriptionContext
    self.description_context = trim_json(item["text"])
                               ^^^^^^^^^
NameError: name 'trim_json' is not defined

2025-02-15 15:13:29,879 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661209596] Error handling request: name 'trim_json' is not defined
2025-02-15 15:13:29,880 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661209596] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 29, in getDescriptionContext
    self.description_context = trim_json(item["text"])
                               ^^^^^^^^^
NameError: name 'trim_json' is not defined

2025-02-15 15:13:29,881 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:15:48,391 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:15:51,092 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661351092] Received GET request for path: /?query=similar%20jackets%20from%20patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens
2025-02-15 15:15:51,093 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661351092] Received parameters: {'query': ['similar jackets from patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens']}
2025-02-15 15:15:51,095 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661351092] Processing query with handler: BCProductHandler
2025-02-15 15:15:51,095 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661351095] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:15:51,386 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661351095] Error in handle_query: name 'trim_json' is not defined
2025-02-15 15:15:51,389 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661351095] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 29, in getDescriptionContext
    self.description_context = trim_json(item["text"])
                               ^^^^^^^^^
NameError: name 'trim_json' is not defined

2025-02-15 15:15:51,389 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661351092] Error handling request: name 'trim_json' is not defined
2025-02-15 15:15:51,390 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661351092] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 29, in getDescriptionContext
    self.description_context = trim_json(item["text"])
                               ^^^^^^^^^
NameError: name 'trim_json' is not defined

2025-02-15 15:15:51,390 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:15:54,395 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661354395] Received GET request for path: /?query=similar%20jackets%20from%20patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens
2025-02-15 15:15:54,396 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661354395] Received parameters: {'query': ['similar jackets from patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens']}
2025-02-15 15:15:54,396 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661354395] Processing query with handler: BCProductHandler
2025-02-15 15:15:54,396 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661354396] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:15:54,621 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661354396] Error in handle_query: name 'trim_json' is not defined
2025-02-15 15:15:54,622 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661354396] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 29, in getDescriptionContext
    self.description_context = trim_json(item["text"])
                               ^^^^^^^^^
NameError: name 'trim_json' is not defined

2025-02-15 15:15:54,622 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661354395] Error handling request: name 'trim_json' is not defined
2025-02-15 15:15:54,622 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661354395] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 29, in getDescriptionContext
    self.description_context = trim_json(item["text"])
                               ^^^^^^^^^
NameError: name 'trim_json' is not defined

2025-02-15 15:15:54,622 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:15:57,629 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661357629] Received GET request for path: /?query=similar%20jackets%20from%20patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens
2025-02-15 15:15:57,630 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661357629] Received parameters: {'query': ['similar jackets from patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens']}
2025-02-15 15:15:57,631 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661357629] Processing query with handler: BCProductHandler
2025-02-15 15:15:57,631 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661357631] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:15:57,857 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661357631] Error in handle_query: name 'trim_json' is not defined
2025-02-15 15:15:57,857 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661357631] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 29, in getDescriptionContext
    self.description_context = trim_json(item["text"])
                               ^^^^^^^^^
NameError: name 'trim_json' is not defined

2025-02-15 15:15:57,857 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661357629] Error handling request: name 'trim_json' is not defined
2025-02-15 15:15:57,857 [Thread-9 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661357629] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 29, in getDescriptionContext
    self.description_context = trim_json(item["text"])
                               ^^^^^^^^^
NameError: name 'trim_json' is not defined

2025-02-15 15:15:57,857 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:16:00,417 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661360417] Received GET request for path: /html/str_chat.html
2025-02-15 15:16:00,437 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661360437] Received GET request for path: /html/streaming.js
2025-02-15 15:16:00,446 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661360446] Received GET request for path: /favicon.ico
2025-02-15 15:16:15,059 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661375059] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:16:15,060 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661375059] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:16:15,061 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661375059] Processing query with handler: BCProductHandler
2025-02-15 15:16:15,062 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661375062] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:16:15,303 [Thread-12 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661375062] Error in handle_query: 'entity'
2025-02-15 15:16:15,304 [Thread-12 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661375062] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~~~~^^^^^^^^^^
KeyError: 'entity'

2025-02-15 15:16:15,305 [Thread-12 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661375059] Error handling request: 'entity'
2025-02-15 15:16:15,305 [Thread-12 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661375059] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~~~~^^^^^^^^^^
KeyError: 'entity'

2025-02-15 15:16:15,305 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:16:18,311 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661378311] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:16:18,312 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661378311] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:16:18,312 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661378311] Processing query with handler: BCProductHandler
2025-02-15 15:16:18,313 [Thread-14 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661378313] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:16:18,549 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661378313] Error in handle_query: 'entity'
2025-02-15 15:16:18,549 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661378313] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~~~~^^^^^^^^^^
KeyError: 'entity'

2025-02-15 15:16:18,549 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661378311] Error handling request: 'entity'
2025-02-15 15:16:18,549 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661378311] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~~~~^^^^^^^^^^
KeyError: 'entity'

2025-02-15 15:16:18,550 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:16:21,555 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661381555] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:16:21,556 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661381555] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:16:21,557 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661381555] Processing query with handler: BCProductHandler
2025-02-15 15:16:21,557 [Thread-16 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661381557] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:16:21,794 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661381557] Error in handle_query: 'entity'
2025-02-15 15:16:21,794 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661381557] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~~~~^^^^^^^^^^
KeyError: 'entity'

2025-02-15 15:16:21,794 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661381555] Error handling request: 'entity'
2025-02-15 15:16:21,795 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661381555] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0]["entity"]
           ~~~~~~^^^^^^^^^^
KeyError: 'entity'

2025-02-15 15:16:21,795 [Thread-16 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:17:50,560 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:17:51,911 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661471911] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:17:51,912 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661471911] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:17:51,913 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661471911] Processing query with handler: BCProductHandler
2025-02-15 15:17:51,914 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661471914] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:17:52,213 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661471914] Error in handle_query: 0
2025-02-15 15:17:52,216 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661471914] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~~~~^^^
KeyError: 0

2025-02-15 15:17:52,216 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661471911] Error handling request: 0
2025-02-15 15:17:52,217 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661471911] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~~~~^^^
KeyError: 0

2025-02-15 15:17:52,217 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:17:55,223 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661475223] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:17:55,224 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661475223] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:17:55,225 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661475223] Processing query with handler: BCProductHandler
2025-02-15 15:17:55,227 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661475225] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:17:55,456 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661475225] Error in handle_query: 0
2025-02-15 15:17:55,457 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661475225] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~~~~^^^
KeyError: 0

2025-02-15 15:17:55,457 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661475223] Error handling request: 0
2025-02-15 15:17:55,457 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661475223] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~~~~^^^
KeyError: 0

2025-02-15 15:17:55,457 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:18:27,825 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:18:28,499 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661508499] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:18:28,500 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661508499] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:18:28,501 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661508499] Processing query with handler: BCProductHandler
2025-02-15 15:18:28,501 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661508501] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:18:28,802 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661508501] Error in handle_query: 0
2025-02-15 15:18:28,804 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661508501] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~~~~^^^
KeyError: 0

2025-02-15 15:18:28,805 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661508499] Error handling request: 0
2025-02-15 15:18:28,806 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661508499] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~~~~^^^
KeyError: 0

2025-02-15 15:18:28,806 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:18:31,811 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661511811] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:18:31,812 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661511811] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:18:31,812 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661511811] Processing query with handler: BCProductHandler
2025-02-15 15:18:31,814 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661511814] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:18:32,048 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661511814] Error in handle_query: 0
2025-02-15 15:18:32,048 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661511814] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~~~~^^^
KeyError: 0

2025-02-15 15:18:32,048 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661511811] Error handling request: 0
2025-02-15 15:18:32,048 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661511811] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 28, in getDescriptionContext
    item = retrieve_item_with_url(self.context_url)
  File "/Users/guha/nlweb/code/strv2/retriever.py", line 57, in retrieve_item_with_url
    return res[0][0]["entity"]
           ~~~~~~^^^
KeyError: 0

2025-02-15 15:18:32,049 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:20:36,358 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:20:38,213 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661638213] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:20:38,214 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661638213] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:20:38,217 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661638213] Processing query with handler: BCProductHandler
2025-02-15 15:20:38,219 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661638219] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:20:38,513 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661638219] Error in handle_query: name 'trim_json' is not defined
2025-02-15 15:20:38,516 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661638219] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 29, in getDescriptionContext
    self.description_context = trim_json(item["text"])
                               ^^^^^^^^^
NameError: name 'trim_json' is not defined

2025-02-15 15:20:38,516 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661638213] Error handling request: name 'trim_json' is not defined
2025-02-15 15:20:38,518 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661638213] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 29, in getDescriptionContext
    self.description_context = trim_json(item["text"])
                               ^^^^^^^^^
NameError: name 'trim_json' is not defined

2025-02-15 15:20:38,518 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:20:41,524 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661641524] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:20:41,525 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661641524] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:20:41,526 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661641524] Processing query with handler: BCProductHandler
2025-02-15 15:20:41,528 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661641528] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:20:41,774 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661641528] Error in handle_query: name 'trim_json' is not defined
2025-02-15 15:20:41,774 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661641528] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 29, in getDescriptionContext
    self.description_context = trim_json(item["text"])
                               ^^^^^^^^^
NameError: name 'trim_json' is not defined

2025-02-15 15:20:41,774 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661641524] Error handling request: name 'trim_json' is not defined
2025-02-15 15:20:41,775 [Thread-7 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661641524] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 24, in __init__
    self.getDescriptionContext()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 29, in getDescriptionContext
    self.description_context = trim_json(item["text"])
                               ^^^^^^^^^
NameError: name 'trim_json' is not defined

2025-02-15 15:20:41,775 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:21:05,252 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:21:05,808 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661665808] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:21:05,809 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661665808] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:21:05,811 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661665808] Processing query with handler: BCProductHandler
2025-02-15 15:21:05,812 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661665812] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:21:06,773 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739661665812] Query handling completed successfully
2025-02-15 15:21:06,778 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:21:55,194 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:22:18,236 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661738236] Received GET request for path: /html/str_chat.html
2025-02-15 15:22:18,279 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661738279] Received GET request for path: /html/streaming.js
2025-02-15 15:22:18,298 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661738298] Received GET request for path: /favicon.ico
2025-02-15 15:22:32,390 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661752390] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:22:32,393 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661752390] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:22:32,396 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661752390] Processing query with handler: BCProductHandler
2025-02-15 15:22:32,397 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661752397] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:22:36,093 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661752397] Error in handle_query: name 'EARLY_SEND_THRESHOLD' is not defined
2025-02-15 15:22:36,097 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661752397] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 46, in rankItem
    if (ranking["score"] > EARLY_SEND_THRESHOLD and self.streaming):
                           ^^^^^^^^^^^^^^^^^^^^
NameError: name 'EARLY_SEND_THRESHOLD' is not defined

2025-02-15 15:22:36,097 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661752390] Error handling request: name 'EARLY_SEND_THRESHOLD' is not defined
2025-02-15 15:22:36,100 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661752390] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 46, in rankItem
    if (ranking["score"] > EARLY_SEND_THRESHOLD and self.streaming):
                           ^^^^^^^^^^^^^^^^^^^^
NameError: name 'EARLY_SEND_THRESHOLD' is not defined

2025-02-15 15:22:36,100 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:22:39,117 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661759117] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:22:39,117 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661759117] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:22:39,122 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661759117] Processing query with handler: BCProductHandler
2025-02-15 15:22:39,123 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661759123] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:22:40,041 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.406025 seconds
2025-02-15 15:22:40,041 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.399039 seconds
2025-02-15 15:23:31,871 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:23:33,016 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661813016] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:23:33,019 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661813016] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:23:33,021 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661813016] Processing query with handler: BCProductHandler
2025-02-15 15:23:33,022 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661813022] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:23:35,682 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661813022] Error in handle_query: name 'EARLY_SEND_THRESHOLD' is not defined
2025-02-15 15:23:35,686 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661813022] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 48, in rankItem
    if (ranking["score"] > EARLY_SEND_THRESHOLD and self.streaming):
                           ^^^^^^^^^^^^^^^^^^^^
NameError: name 'EARLY_SEND_THRESHOLD' is not defined

2025-02-15 15:23:35,687 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661813016] Error handling request: name 'EARLY_SEND_THRESHOLD' is not defined
2025-02-15 15:23:35,689 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661813016] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 48, in rankItem
    if (ranking["score"] > EARLY_SEND_THRESHOLD and self.streaming):
                           ^^^^^^^^^^^^^^^^^^^^
NameError: name 'EARLY_SEND_THRESHOLD' is not defined

2025-02-15 15:23:35,689 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:23:38,695 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661818695] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:23:38,696 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661818695] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:23:38,697 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661818695] Processing query with handler: BCProductHandler
2025-02-15 15:23:38,697 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661818697] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:23:39,638 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.458748 seconds
2025-02-15 15:24:06,680 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:24:08,026 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661848026] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:24:08,027 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661848026] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:24:08,028 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661848026] Processing query with handler: BCProductHandler
2025-02-15 15:24:08,029 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661848029] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:24:11,604 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739661848029] Error in handle_query: 'description'
2025-02-15 15:24:11,609 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739661848029] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 49, in rankItem
    await self.sendAnswers([ansr])
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 114, in sendAnswers
    "description": result["ranking"]["description"],
                   ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
KeyError: 'description'

2025-02-15 15:24:11,610 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739661848026] Error handling request: 'description'
2025-02-15 15:24:11,613 [Thread-5 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739661848026] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 49, in rankItem
    await self.sendAnswers([ansr])
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 114, in sendAnswers
    "description": result["ranking"]["description"],
                   ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
KeyError: 'description'

2025-02-15 15:24:11,614 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:24:14,620 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661854620] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:24:14,621 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661854620] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:24:14,621 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661854620] Processing query with handler: BCProductHandler
2025-02-15 15:24:14,622 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661854622] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:25:32,768 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:25:33,651 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739661933651] Received GET request for path: /?query=similar%20jackets%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:25:33,652 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739661933651] Received parameters: {'query': ['similar jackets from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:25:33,655 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739661933651] Processing query with handler: BCProductHandler
2025-02-15 15:25:33,659 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739661933659] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:25:43,978 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739661933659] Query handling completed successfully
2025-02-15 15:25:43,986 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:44:01,637 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 15:44:04,909 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663044909] Received GET request for path: /html/str_chat.html
2025-02-15 15:44:04,922 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663044922] Received GET request for path: /html/streaming.js
2025-02-15 15:44:04,960 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663044960] Received GET request for path: /favicon.ico
2025-02-15 15:44:19,511 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663059511] Received GET request for path: /?query=give%20me%20similar%20items%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-insulated-jacket-mens%231
2025-02-15 15:44:19,512 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739663059511] Received parameters: {'query': ['give me similar items from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-insulated-jacket-mens#1']}
2025-02-15 15:44:19,514 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739663059511] Processing query with handler: BCProductHandler
2025-02-15 15:44:19,514 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739663059514] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:44:26,503 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739663059514] Query handling completed successfully
2025-02-15 15:44:26,510 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:46:56,822 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:50:12,968 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663412968] Received GET request for path: /favicon.ico
2025-02-15 15:50:27,152 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663427152] Received GET request for path: /html/str_chat.html
2025-02-15 15:50:27,159 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:50:27,165 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663427165] Received GET request for path: /html/streaming.js
2025-02-15 15:50:27,169 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663427169] Received GET request for path: /html/clear.jpeg
2025-02-15 15:50:27,170 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663427170] Received GET request for path: /html/debug.png
2025-02-15 15:50:27,174 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663427174] Received GET request for path: /favicon.ico
2025-02-15 15:50:51,016 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663451016] Received GET request for path: /?query=summer%20wear%20for%20Seattle&site=backcountry&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 15:50:51,017 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739663451016] Received parameters: {'query': ['summer wear for Seattle'], 'site': ['backcountry'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:50:51,019 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739663451016] Processing query with handler: BaseNLWebHandler
2025-02-15 15:50:51,020 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739663451020] Starting query handling for site: backcountry, query_id: 
2025-02-15 15:50:52,164 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.385119 seconds
2025-02-15 15:50:57,857 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739663451020] Query handling completed successfully
2025-02-15 15:50:57,869 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:51:13,421 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663473421] Received GET request for path: /favicon.ico
2025-02-15 15:51:27,318 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663487318] Received GET request for path: /?query=give%20me%20similar%20items%20from%20Patagonia&site=bc_product&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=https%3A%2F%2Fwww.backcountry.com%2Foutdoor-research-activeice-spectrum-sun-hoodie-graphic-womens%231
2025-02-15 15:51:27,319 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739663487318] Received parameters: {'query': ['give me similar items from Patagonia'], 'site': ['bc_product'], 'model': ['gpt-4o-mini'], 'prev': ['[]'], 'context_url': ['https://www.backcountry.com/outdoor-research-activeice-spectrum-sun-hoodie-graphic-womens#1']}
2025-02-15 15:51:27,320 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739663487318] Processing query with handler: BCProductHandler
2025-02-15 15:51:27,321 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739663487321] Starting query handling for site: bc_product, query_id: 
2025-02-15 15:51:27,548 [Thread-12 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.465499 seconds
2025-02-15 15:51:32,254 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739663487321] Query handling completed successfully
2025-02-15 15:51:32,260 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:53:09,182 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663589182] Received GET request for path: /favicon.ico
2025-02-15 15:53:50,929 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739663630929] Received GET request for path: /?query=jackets%20for%20northern%20California%20february&site=backcountry&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 15:53:50,931 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739663630929] Received parameters: {'query': ['jackets for northern California february'], 'site': ['backcountry'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 15:53:50,932 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739663630929] Processing query with handler: BaseNLWebHandler
2025-02-15 15:53:50,933 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739663630933] Starting query handling for site: backcountry, query_id: 
2025-02-15 15:53:51,795 [Thread-15 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.379314 seconds
2025-02-15 15:53:58,488 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739663630933] Query handling completed successfully
2025-02-15 15:53:58,497 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:54:09,180 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 15:54:09,181 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:20,574 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664200573] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:20,580 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664200573] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:20,582 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664200573] Processing query with handler: RecipeHandler
2025-02-15 16:03:20,582 [Thread-16 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664200582] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:20,582 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664200582] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:20,590 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664200582] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:20,591 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664200573] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:20,594 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664200573] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:20,594 [Thread-16 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:23,600 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664203600] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:23,601 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664203600] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:23,601 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664203600] Processing query with handler: RecipeHandler
2025-02-15 16:03:23,602 [Thread-17 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664203602] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:23,602 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664203602] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:23,603 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664203602] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:23,603 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664203600] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:23,605 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664203600] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:23,605 [Thread-17 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:26,611 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664206611] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:26,612 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664206611] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:26,612 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664206611] Processing query with handler: RecipeHandler
2025-02-15 16:03:26,613 [Thread-18 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664206613] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:26,613 [Thread-18 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664206613] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:26,614 [Thread-18 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664206613] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:26,614 [Thread-18 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664206611] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:26,615 [Thread-18 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664206611] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:26,616 [Thread-18 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:29,621 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664209621] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:29,622 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664209621] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:29,622 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664209621] Processing query with handler: RecipeHandler
2025-02-15 16:03:29,623 [Thread-19 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664209623] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:29,623 [Thread-19 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664209623] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:29,624 [Thread-19 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664209623] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:29,624 [Thread-19 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664209621] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:29,625 [Thread-19 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664209621] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:29,625 [Thread-19 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:32,631 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664212631] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:32,632 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664212631] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:32,633 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664212631] Processing query with handler: RecipeHandler
2025-02-15 16:03:32,633 [Thread-20 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664212633] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:32,633 [Thread-20 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664212633] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:32,634 [Thread-20 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664212633] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:32,634 [Thread-20 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664212631] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:32,635 [Thread-20 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664212631] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:32,636 [Thread-20 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:35,642 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664215642] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:35,642 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664215642] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:35,643 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664215642] Processing query with handler: RecipeHandler
2025-02-15 16:03:35,643 [Thread-21 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664215643] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:35,643 [Thread-21 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664215643] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:35,643 [Thread-21 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664215643] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:35,643 [Thread-21 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664215642] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:35,644 [Thread-21 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664215642] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:35,644 [Thread-21 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:38,650 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664218650] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:38,651 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664218650] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:38,652 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664218650] Processing query with handler: RecipeHandler
2025-02-15 16:03:38,652 [Thread-22 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664218652] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:38,653 [Thread-22 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664218652] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:38,654 [Thread-22 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664218652] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:38,654 [Thread-22 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664218650] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:38,656 [Thread-22 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664218650] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:38,656 [Thread-22 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:41,663 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664221663] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:41,663 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664221663] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:41,664 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664221663] Processing query with handler: RecipeHandler
2025-02-15 16:03:41,664 [Thread-23 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664221664] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:41,664 [Thread-23 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664221664] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:41,664 [Thread-23 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664221664] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:41,665 [Thread-23 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664221663] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:41,666 [Thread-23 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664221663] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:41,666 [Thread-23 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:44,672 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664224672] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:44,672 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664224672] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:44,673 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664224672] Processing query with handler: RecipeHandler
2025-02-15 16:03:44,673 [Thread-24 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664224673] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:44,673 [Thread-24 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664224673] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:44,674 [Thread-24 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664224673] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:44,675 [Thread-24 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664224672] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:44,676 [Thread-24 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664224672] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:44,676 [Thread-24 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:47,682 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664227682] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:47,683 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664227682] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:47,684 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664227682] Processing query with handler: RecipeHandler
2025-02-15 16:03:47,684 [Thread-25 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664227684] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:47,684 [Thread-25 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664227684] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:47,686 [Thread-25 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664227684] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:47,686 [Thread-25 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664227682] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:47,688 [Thread-25 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664227682] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:47,688 [Thread-25 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:50,694 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664230694] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:50,695 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664230694] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:50,696 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664230694] Processing query with handler: RecipeHandler
2025-02-15 16:03:50,696 [Thread-26 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664230696] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:50,696 [Thread-26 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664230696] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:50,697 [Thread-26 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664230696] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:50,698 [Thread-26 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664230694] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:50,699 [Thread-26 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664230694] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:50,700 [Thread-26 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:53,706 [Thread-27 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664233706] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:53,706 [Thread-27 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664233706] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:53,707 [Thread-27 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664233706] Processing query with handler: RecipeHandler
2025-02-15 16:03:53,707 [Thread-27 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664233707] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:53,708 [Thread-27 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664233707] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:53,709 [Thread-27 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664233707] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:53,709 [Thread-27 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664233706] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:53,710 [Thread-27 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664233706] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:53,711 [Thread-27 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:56,717 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664236717] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:56,717 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664236717] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:56,720 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664236717] Processing query with handler: RecipeHandler
2025-02-15 16:03:56,720 [Thread-28 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664236720] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:56,720 [Thread-28 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664236720] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:56,721 [Thread-28 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664236720] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:56,721 [Thread-28 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664236717] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:56,722 [Thread-28 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664236717] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:56,722 [Thread-28 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:03:59,729 [Thread-29 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664239729] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:03:59,729 [Thread-29 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664239729] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:03:59,730 [Thread-29 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664239729] Processing query with handler: RecipeHandler
2025-02-15 16:03:59,730 [Thread-29 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664239730] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:03:59,730 [Thread-29 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664239730] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:59,731 [Thread-29 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664239730] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:59,732 [Thread-29 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664239729] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:03:59,733 [Thread-29 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664239729] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:03:59,733 [Thread-29 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:02,740 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664242739] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:02,740 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664242739] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:02,741 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664242739] Processing query with handler: RecipeHandler
2025-02-15 16:04:02,741 [Thread-30 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664242741] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:02,742 [Thread-30 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664242741] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:02,742 [Thread-30 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664242741] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:02,743 [Thread-30 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664242739] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:02,744 [Thread-30 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664242739] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:02,745 [Thread-30 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:05,749 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664245749] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:05,750 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664245749] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:05,751 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664245749] Processing query with handler: RecipeHandler
2025-02-15 16:04:05,751 [Thread-31 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664245751] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:05,751 [Thread-31 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664245751] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:05,752 [Thread-31 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664245751] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:05,753 [Thread-31 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664245749] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:05,753 [Thread-31 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664245749] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:05,754 [Thread-31 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:08,758 [Thread-32 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664248758] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:08,758 [Thread-32 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664248758] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:08,758 [Thread-32 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664248758] Processing query with handler: RecipeHandler
2025-02-15 16:04:08,758 [Thread-32 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664248758] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:08,758 [Thread-32 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664248758] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:08,759 [Thread-32 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664248758] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:08,759 [Thread-32 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664248758] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:08,759 [Thread-32 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664248758] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:08,759 [Thread-32 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:11,765 [Thread-33 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664251765] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:11,766 [Thread-33 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664251765] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:11,767 [Thread-33 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664251765] Processing query with handler: RecipeHandler
2025-02-15 16:04:11,767 [Thread-33 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664251767] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:11,767 [Thread-33 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664251767] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:11,768 [Thread-33 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664251767] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:11,769 [Thread-33 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664251765] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:11,770 [Thread-33 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664251765] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:11,770 [Thread-33 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:14,776 [Thread-34 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664254776] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:14,777 [Thread-34 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664254776] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:14,778 [Thread-34 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664254776] Processing query with handler: RecipeHandler
2025-02-15 16:04:14,778 [Thread-34 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664254778] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:14,778 [Thread-34 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664254778] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:14,779 [Thread-34 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664254778] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:14,780 [Thread-34 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664254776] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:14,781 [Thread-34 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664254776] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:14,782 [Thread-34 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:17,788 [Thread-35 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664257788] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:17,788 [Thread-35 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664257788] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:17,789 [Thread-35 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664257788] Processing query with handler: RecipeHandler
2025-02-15 16:04:17,789 [Thread-35 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664257789] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:17,789 [Thread-35 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664257789] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:17,790 [Thread-35 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664257789] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:17,790 [Thread-35 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664257788] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:17,792 [Thread-35 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664257788] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:17,792 [Thread-35 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:20,798 [Thread-36 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664260798] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:20,799 [Thread-36 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664260798] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:20,800 [Thread-36 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664260798] Processing query with handler: RecipeHandler
2025-02-15 16:04:20,800 [Thread-36 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664260800] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:20,800 [Thread-36 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664260800] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:20,801 [Thread-36 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664260800] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:20,801 [Thread-36 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664260798] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:20,802 [Thread-36 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664260798] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:20,803 [Thread-36 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:23,809 [Thread-37 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664263809] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:23,810 [Thread-37 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664263809] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:23,810 [Thread-37 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664263809] Processing query with handler: RecipeHandler
2025-02-15 16:04:23,811 [Thread-37 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664263811] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:23,811 [Thread-37 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664263811] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:23,812 [Thread-37 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664263811] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:23,812 [Thread-37 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664263809] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:23,813 [Thread-37 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664263809] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:23,813 [Thread-37 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:26,818 [Thread-38 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664266818] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:26,819 [Thread-38 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664266818] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:26,819 [Thread-38 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664266818] Processing query with handler: RecipeHandler
2025-02-15 16:04:26,820 [Thread-38 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664266820] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:26,820 [Thread-38 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664266820] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:26,821 [Thread-38 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664266820] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:26,821 [Thread-38 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664266818] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:26,823 [Thread-38 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664266818] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:26,823 [Thread-38 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:29,829 [Thread-39 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664269829] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:29,830 [Thread-39 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664269829] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:29,830 [Thread-39 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664269829] Processing query with handler: RecipeHandler
2025-02-15 16:04:29,831 [Thread-39 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664269831] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:29,831 [Thread-39 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664269831] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:29,832 [Thread-39 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664269831] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:29,833 [Thread-39 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664269829] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:29,834 [Thread-39 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664269829] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:29,834 [Thread-39 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:32,839 [Thread-40 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664272839] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:32,839 [Thread-40 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664272839] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:32,840 [Thread-40 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664272839] Processing query with handler: RecipeHandler
2025-02-15 16:04:32,841 [Thread-40 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664272841] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:32,841 [Thread-40 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664272841] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:32,842 [Thread-40 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664272841] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:32,842 [Thread-40 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664272839] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:32,842 [Thread-40 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664272839] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:32,843 [Thread-40 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:35,848 [Thread-41 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664275848] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:35,849 [Thread-41 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664275848] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:35,850 [Thread-41 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664275848] Processing query with handler: RecipeHandler
2025-02-15 16:04:35,850 [Thread-41 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664275850] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:35,850 [Thread-41 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664275850] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:35,851 [Thread-41 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664275850] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:35,851 [Thread-41 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664275848] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:35,852 [Thread-41 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664275848] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:35,852 [Thread-41 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:38,858 [Thread-42 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664278858] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:38,858 [Thread-42 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664278858] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:38,859 [Thread-42 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664278858] Processing query with handler: RecipeHandler
2025-02-15 16:04:38,859 [Thread-42 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664278859] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:38,860 [Thread-42 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664278859] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:38,868 [Thread-42 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664278859] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:38,869 [Thread-42 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664278858] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:38,870 [Thread-42 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664278858] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:38,871 [Thread-42 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:41,876 [Thread-43 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664281876] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:41,878 [Thread-43 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664281876] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:41,878 [Thread-43 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664281876] Processing query with handler: RecipeHandler
2025-02-15 16:04:41,879 [Thread-43 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664281878] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:41,879 [Thread-43 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664281878] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:41,879 [Thread-43 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664281878] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:41,879 [Thread-43 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664281876] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:41,880 [Thread-43 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664281876] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:41,880 [Thread-43 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:44,887 [Thread-44 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664284887] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:44,887 [Thread-44 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664284887] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:44,888 [Thread-44 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664284887] Processing query with handler: RecipeHandler
2025-02-15 16:04:44,888 [Thread-44 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664284888] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:44,888 [Thread-44 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664284888] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:44,889 [Thread-44 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664284888] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:44,889 [Thread-44 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664284887] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:44,891 [Thread-44 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664284887] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:44,891 [Thread-44 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:47,897 [Thread-45 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664287897] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:47,898 [Thread-45 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664287897] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:47,899 [Thread-45 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664287897] Processing query with handler: RecipeHandler
2025-02-15 16:04:47,899 [Thread-45 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664287899] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:47,899 [Thread-45 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664287899] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:47,900 [Thread-45 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664287899] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:47,901 [Thread-45 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664287897] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:47,902 [Thread-45 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664287897] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:47,903 [Thread-45 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:50,938 [Thread-46 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664290938] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:50,938 [Thread-46 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664290938] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:50,939 [Thread-46 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664290938] Processing query with handler: RecipeHandler
2025-02-15 16:04:50,939 [Thread-46 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664290939] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:50,939 [Thread-46 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664290939] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:50,939 [Thread-46 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664290939] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:50,940 [Thread-46 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664290938] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:50,940 [Thread-46 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664290938] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:50,941 [Thread-46 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:53,946 [Thread-47 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664293946] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:53,947 [Thread-47 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664293946] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:53,948 [Thread-47 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664293946] Processing query with handler: RecipeHandler
2025-02-15 16:04:53,948 [Thread-47 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664293948] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:53,948 [Thread-47 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664293948] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:53,949 [Thread-47 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664293948] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:53,950 [Thread-47 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664293946] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:53,951 [Thread-47 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664293946] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:53,951 [Thread-47 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:56,958 [Thread-48 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664296958] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:56,958 [Thread-48 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664296958] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:56,959 [Thread-48 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664296958] Processing query with handler: RecipeHandler
2025-02-15 16:04:56,959 [Thread-48 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664296959] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:56,960 [Thread-48 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664296959] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:56,961 [Thread-48 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664296959] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:56,961 [Thread-48 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664296958] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:56,963 [Thread-48 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664296958] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:56,963 [Thread-48 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:04:59,969 [Thread-49 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664299969] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:04:59,970 [Thread-49 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664299969] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:04:59,971 [Thread-49 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664299969] Processing query with handler: RecipeHandler
2025-02-15 16:04:59,971 [Thread-49 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664299971] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:04:59,971 [Thread-49 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664299971] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:59,972 [Thread-49 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664299971] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:59,973 [Thread-49 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664299969] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:04:59,974 [Thread-49 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664299969] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:04:59,975 [Thread-49 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:02,981 [Thread-50 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664302981] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:02,982 [Thread-50 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664302981] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:02,983 [Thread-50 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664302981] Processing query with handler: RecipeHandler
2025-02-15 16:05:02,983 [Thread-50 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664302983] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:02,983 [Thread-50 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664302983] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:02,984 [Thread-50 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664302983] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:02,984 [Thread-50 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664302981] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:02,986 [Thread-50 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664302981] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:02,986 [Thread-50 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:05,993 [Thread-51 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664305993] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:05,993 [Thread-51 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664305993] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:05,994 [Thread-51 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664305993] Processing query with handler: RecipeHandler
2025-02-15 16:05:05,994 [Thread-51 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664305994] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:05,995 [Thread-51 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664305994] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:05,996 [Thread-51 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664305994] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:05,996 [Thread-51 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664305993] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:05,997 [Thread-51 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664305993] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:05,998 [Thread-51 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:09,002 [Thread-52 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664309002] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:09,002 [Thread-52 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664309002] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:09,003 [Thread-52 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664309002] Processing query with handler: RecipeHandler
2025-02-15 16:05:09,003 [Thread-52 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664309003] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:09,003 [Thread-52 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664309003] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:09,004 [Thread-52 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664309003] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:09,004 [Thread-52 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664309002] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:09,005 [Thread-52 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664309002] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:09,006 [Thread-52 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:12,011 [Thread-53 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664312011] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:12,012 [Thread-53 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664312011] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:12,013 [Thread-53 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664312011] Processing query with handler: RecipeHandler
2025-02-15 16:05:12,013 [Thread-53 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664312013] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:12,014 [Thread-53 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664312013] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:12,015 [Thread-53 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664312013] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:12,015 [Thread-53 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664312011] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:12,017 [Thread-53 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664312011] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:12,017 [Thread-53 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:15,023 [Thread-54 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664315023] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:15,024 [Thread-54 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664315023] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:15,025 [Thread-54 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664315023] Processing query with handler: RecipeHandler
2025-02-15 16:05:15,025 [Thread-54 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664315025] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:15,025 [Thread-54 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664315025] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:15,026 [Thread-54 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664315025] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:15,027 [Thread-54 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664315023] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:15,028 [Thread-54 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664315023] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:15,029 [Thread-54 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:18,035 [Thread-55 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664318035] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:18,037 [Thread-55 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664318035] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:18,038 [Thread-55 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664318035] Processing query with handler: RecipeHandler
2025-02-15 16:05:18,038 [Thread-55 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664318038] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:18,038 [Thread-55 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664318038] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:18,039 [Thread-55 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664318038] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:18,040 [Thread-55 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664318035] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:18,042 [Thread-55 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664318035] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:18,044 [Thread-55 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:21,049 [Thread-56 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664321049] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:21,050 [Thread-56 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664321049] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:21,050 [Thread-56 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664321049] Processing query with handler: RecipeHandler
2025-02-15 16:05:21,050 [Thread-56 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664321050] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:21,050 [Thread-56 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664321050] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:21,051 [Thread-56 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664321050] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:21,051 [Thread-56 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664321049] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:21,052 [Thread-56 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664321049] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:21,052 [Thread-56 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:24,059 [Thread-57 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664324059] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:24,059 [Thread-57 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664324059] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:24,060 [Thread-57 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664324059] Processing query with handler: RecipeHandler
2025-02-15 16:05:24,060 [Thread-57 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664324060] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:24,060 [Thread-57 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664324060] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:24,061 [Thread-57 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664324060] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:24,061 [Thread-57 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664324059] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:24,062 [Thread-57 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664324059] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:24,062 [Thread-57 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:27,068 [Thread-58 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664327068] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:27,068 [Thread-58 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664327068] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:27,069 [Thread-58 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664327068] Processing query with handler: RecipeHandler
2025-02-15 16:05:27,069 [Thread-58 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664327069] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:27,070 [Thread-58 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664327069] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:27,070 [Thread-58 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664327069] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:27,071 [Thread-58 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664327068] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:27,072 [Thread-58 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664327068] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:27,072 [Thread-58 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:30,078 [Thread-59 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664330078] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:30,078 [Thread-59 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664330078] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:30,079 [Thread-59 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664330078] Processing query with handler: RecipeHandler
2025-02-15 16:05:30,079 [Thread-59 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664330079] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:30,079 [Thread-59 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664330079] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:30,080 [Thread-59 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664330079] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:30,081 [Thread-59 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664330078] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:30,082 [Thread-59 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664330078] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:30,082 [Thread-59 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:33,089 [Thread-60 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664333089] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:33,090 [Thread-60 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664333089] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:33,091 [Thread-60 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664333089] Processing query with handler: RecipeHandler
2025-02-15 16:05:33,091 [Thread-60 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664333091] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:33,092 [Thread-60 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664333091] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:33,092 [Thread-60 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664333091] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:33,093 [Thread-60 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664333089] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:33,094 [Thread-60 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664333089] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:33,094 [Thread-60 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:36,100 [Thread-61 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664336100] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:36,101 [Thread-61 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664336100] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:36,102 [Thread-61 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664336100] Processing query with handler: RecipeHandler
2025-02-15 16:05:36,102 [Thread-61 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664336102] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:36,102 [Thread-61 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664336102] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:36,103 [Thread-61 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664336102] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:36,103 [Thread-61 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664336100] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:36,104 [Thread-61 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664336100] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:36,105 [Thread-61 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:39,109 [Thread-62 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664339109] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:39,109 [Thread-62 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664339109] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:39,109 [Thread-62 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664339109] Processing query with handler: RecipeHandler
2025-02-15 16:05:39,109 [Thread-62 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664339109] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:39,109 [Thread-62 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664339109] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:39,110 [Thread-62 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664339109] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:39,110 [Thread-62 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664339109] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:39,110 [Thread-62 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664339109] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:39,111 [Thread-62 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:42,116 [Thread-63 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664342116] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:42,118 [Thread-63 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664342116] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:42,119 [Thread-63 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664342116] Processing query with handler: RecipeHandler
2025-02-15 16:05:42,119 [Thread-63 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664342119] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:42,120 [Thread-63 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664342119] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:42,121 [Thread-63 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664342119] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:42,121 [Thread-63 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664342116] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:42,122 [Thread-63 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664342116] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:42,123 [Thread-63 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:45,129 [Thread-64 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664345129] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:45,130 [Thread-64 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664345129] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:45,130 [Thread-64 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664345129] Processing query with handler: RecipeHandler
2025-02-15 16:05:45,131 [Thread-64 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664345131] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:45,131 [Thread-64 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664345131] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:45,132 [Thread-64 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664345131] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:45,132 [Thread-64 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664345129] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:45,134 [Thread-64 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664345129] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:45,134 [Thread-64 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:48,140 [Thread-65 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664348140] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:48,141 [Thread-65 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664348140] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:48,141 [Thread-65 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664348140] Processing query with handler: RecipeHandler
2025-02-15 16:05:48,142 [Thread-65 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664348142] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:48,142 [Thread-65 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664348142] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:48,143 [Thread-65 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664348142] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:48,143 [Thread-65 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664348140] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:48,144 [Thread-65 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664348140] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:48,144 [Thread-65 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:51,151 [Thread-66 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664351151] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:51,151 [Thread-66 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664351151] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:51,152 [Thread-66 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664351151] Processing query with handler: RecipeHandler
2025-02-15 16:05:51,152 [Thread-66 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664351152] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:51,152 [Thread-66 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664351152] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:51,153 [Thread-66 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664351152] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:51,154 [Thread-66 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664351151] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:51,155 [Thread-66 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664351151] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:51,156 [Thread-66 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:54,161 [Thread-67 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664354161] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:54,161 [Thread-67 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664354161] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:54,162 [Thread-67 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664354161] Processing query with handler: RecipeHandler
2025-02-15 16:05:54,162 [Thread-67 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664354162] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:54,162 [Thread-67 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664354162] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:54,163 [Thread-67 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664354162] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:54,163 [Thread-67 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664354161] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:54,164 [Thread-67 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664354161] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:54,165 [Thread-67 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:05:57,171 [Thread-68 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664357171] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:05:57,172 [Thread-68 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664357171] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:05:57,173 [Thread-68 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664357171] Processing query with handler: RecipeHandler
2025-02-15 16:05:57,174 [Thread-68 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664357174] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:05:57,175 [Thread-68 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664357174] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:57,176 [Thread-68 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664357174] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:57,176 [Thread-68 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664357171] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:05:57,178 [Thread-68 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664357171] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:05:57,178 [Thread-68 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:06:00,184 [Thread-69 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664360184] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:06:00,185 [Thread-69 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664360184] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:06:00,186 [Thread-69 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664360184] Processing query with handler: RecipeHandler
2025-02-15 16:06:00,186 [Thread-69 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664360186] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:06:00,186 [Thread-69 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664360186] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:00,187 [Thread-69 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664360186] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:00,187 [Thread-69 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664360184] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:00,188 [Thread-69 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664360184] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:00,189 [Thread-69 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:06:03,195 [Thread-70 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664363194] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:06:03,195 [Thread-70 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664363194] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:06:03,196 [Thread-70 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664363194] Processing query with handler: RecipeHandler
2025-02-15 16:06:03,196 [Thread-70 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664363196] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:06:03,199 [Thread-70 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664363196] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:03,200 [Thread-70 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664363196] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:03,201 [Thread-70 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664363194] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:03,202 [Thread-70 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664363194] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:03,203 [Thread-70 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:06:06,209 [Thread-71 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664366209] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:06:06,210 [Thread-71 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664366209] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:06:06,210 [Thread-71 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664366209] Processing query with handler: RecipeHandler
2025-02-15 16:06:06,211 [Thread-71 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664366211] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:06:06,211 [Thread-71 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664366211] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:06,212 [Thread-71 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664366211] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:06,212 [Thread-71 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664366209] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:06,213 [Thread-71 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664366209] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:06,214 [Thread-71 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:06:09,220 [Thread-72 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664369220] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:06:09,223 [Thread-72 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664369220] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:06:09,223 [Thread-72 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664369220] Processing query with handler: RecipeHandler
2025-02-15 16:06:09,224 [Thread-72 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664369224] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:06:09,225 [Thread-72 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664369224] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:09,226 [Thread-72 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664369224] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:09,226 [Thread-72 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664369220] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:09,227 [Thread-72 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664369220] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:09,228 [Thread-72 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:06:12,234 [Thread-73 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664372234] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:06:12,234 [Thread-73 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664372234] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:06:12,235 [Thread-73 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664372234] Processing query with handler: RecipeHandler
2025-02-15 16:06:12,235 [Thread-73 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664372235] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:06:12,236 [Thread-73 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664372235] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:12,237 [Thread-73 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664372235] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:12,237 [Thread-73 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664372234] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:12,239 [Thread-73 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664372234] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:12,239 [Thread-73 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:06:15,245 [Thread-74 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664375245] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:06:15,246 [Thread-74 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664375245] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:06:15,247 [Thread-74 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664375245] Processing query with handler: RecipeHandler
2025-02-15 16:06:15,247 [Thread-74 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664375247] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:06:15,247 [Thread-74 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664375247] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:15,248 [Thread-74 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664375247] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:15,249 [Thread-74 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664375245] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:15,250 [Thread-74 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664375245] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:15,250 [Thread-74 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:06:18,256 [Thread-75 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664378256] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:06:18,256 [Thread-75 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664378256] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:06:18,257 [Thread-75 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664378256] Processing query with handler: RecipeHandler
2025-02-15 16:06:18,257 [Thread-75 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664378257] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:06:18,258 [Thread-75 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664378257] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:18,259 [Thread-75 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664378257] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:18,259 [Thread-75 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664378256] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:18,260 [Thread-75 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664378256] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:18,261 [Thread-75 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:06:21,266 [Thread-76 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664381266] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:06:21,267 [Thread-76 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664381266] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:06:21,267 [Thread-76 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664381266] Processing query with handler: RecipeHandler
2025-02-15 16:06:21,267 [Thread-76 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664381267] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:06:21,268 [Thread-76 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664381267] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:21,268 [Thread-76 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664381267] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:21,269 [Thread-76 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664381266] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:21,270 [Thread-76 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664381266] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:21,270 [Thread-76 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:06:24,277 [Thread-77 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664384277] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:06:24,277 [Thread-77 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664384277] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:06:24,278 [Thread-77 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664384277] Processing query with handler: RecipeHandler
2025-02-15 16:06:24,278 [Thread-77 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664384278] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:06:24,278 [Thread-77 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664384278] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:24,279 [Thread-77 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664384278] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:24,280 [Thread-77 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664384277] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:24,281 [Thread-77 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664384277] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:24,282 [Thread-77 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:06:27,289 [Thread-78 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664387289] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:06:27,289 [Thread-78 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664387289] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:06:27,290 [Thread-78 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664387289] Processing query with handler: RecipeHandler
2025-02-15 16:06:27,290 [Thread-78 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664387290] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:06:27,290 [Thread-78 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739664387290] Error in handle_query: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:27,291 [Thread-78 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739664387290] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:27,292 [Thread-78 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739664387289] Error handling request: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'
2025-02-15 16:06:27,292 [Thread-78 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739664387289] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 189, in handle_query
    handler = handlerClass(site, query, prev, model, http_handler=self, query_id=query_id, context_url=context_url)
TypeError: RecipeHandler.__init__() got an unexpected keyword argument 'context_url'

2025-02-15 16:06:27,293 [Thread-78 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:06:46,008 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-15 16:06:48,317 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664408317] Received GET request for path: /?query=stuffed%20karela&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-15 16:06:48,318 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664408317] Received parameters: {'query': ['stuffed karela'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-15 16:06:48,323 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664408317] Processing query with handler: RecipeHandler
2025-02-15 16:06:48,324 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664408324] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-15 16:06:57,125 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739664408324] Query handling completed successfully
2025-02-15 16:06:57,133 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:08:19,906 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664499906] Received GET request for path: /html/backcountry_product.html
2025-02-15 16:08:19,908 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:08:19,928 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664499928] Received GET request for path: /favicon.ico
2025-02-15 16:08:29,820 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664509820] Received GET request for path: /html/bc_product.html
2025-02-15 16:08:29,825 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:08:29,835 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664509835] Received GET request for path: /html/bc_product_top.png
2025-02-15 16:08:29,835 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664509835] Received GET request for path: /html/bc_product_mid.png
2025-02-15 16:08:29,836 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664509836] Received GET request for path: /html/bc_product_bot.png
2025-02-15 16:08:29,844 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664509844] Received GET request for path: /favicon.ico
2025-02-15 16:09:25,006 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:09:25,006 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:11:50,914 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664710913] Received GET request for path: /html/bc_product.html
2025-02-15 16:11:50,921 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:11:50,936 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664710936] Received GET request for path: /html/bc_product_mid.png
2025-02-15 16:11:50,939 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664710939] Received GET request for path: /html/bc_product_bot.png
2025-02-15 16:11:50,942 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664710942] Received GET request for path: /html/bc_product_top.png
2025-02-15 16:11:50,947 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664710947] Received GET request for path: /favicon.ico
2025-02-15 16:11:55,031 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:11:55,031 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:13:33,659 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664813659] Received GET request for path: /html/bc_product.html
2025-02-15 16:13:33,665 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:13:33,671 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664813671] Received GET request for path: /html/bc_product_top.png
2025-02-15 16:13:33,673 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664813673] Received GET request for path: /html/bc_product_bot.png
2025-02-15 16:13:33,673 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664813673] Received GET request for path: /html/bc_product_mid.png
2025-02-15 16:13:33,678 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664813678] Received GET request for path: /favicon.ico
2025-02-15 16:13:35,048 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:13:35,048 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:14:15,174 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664855174] Received GET request for path: /html/bc_product.html
2025-02-15 16:14:15,178 [Thread-16 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:14:15,184 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664855184] Received GET request for path: /html/bc_product_top.png
2025-02-15 16:14:15,185 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664855185] Received GET request for path: /html/bc_product_mid.png
2025-02-15 16:14:15,186 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664855186] Received GET request for path: /html/bc_product_bot.png
2025-02-15 16:14:15,193 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664855193] Received GET request for path: /favicon.ico
2025-02-15 16:14:20,054 [Thread-17 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:14:20,054 [Thread-19 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:14:25,450 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739664865450] Received GET request for path: /?query=show%20me%20similar%20items%20from%20Patagonia&site=backcountry&num=12&prev=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-2-insulated-jacket-womens%231
2025-02-15 16:14:25,451 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739664865450] Received parameters: {'query': ['show me similar items from Patagonia'], 'site': ['backcountry'], 'num': ['12'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-2-insulated-jacket-womens#1']}
2025-02-15 16:14:25,453 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739664865450] Processing query with handler: BaseNLWebHandler
2025-02-15 16:14:25,453 [Thread-20 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739664865453] Starting query handling for site: backcountry, query_id: 
2025-02-15 16:14:26,181 [Thread-20 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.449070 seconds
2025-02-15 16:14:56,734 [Thread-20 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739664865453] Query handling completed successfully
2025-02-15 16:14:56,741 [Thread-20 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:16:48,545 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739665008545] Received GET request for path: /html/bc_product.html
2025-02-15 16:16:48,551 [Thread-18 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:16:48,560 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739665008560] Received GET request for path: /html/bc_product_top.png
2025-02-15 16:16:48,562 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739665008562] Received GET request for path: /html/bc_product_bot.png
2025-02-15 16:16:48,563 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739665008563] Received GET request for path: /html/bc_product_mid.png
2025-02-15 16:16:48,570 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739665008570] Received GET request for path: /favicon.ico
2025-02-15 16:16:58,131 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739665018131] Received GET request for path: /?query=similar%20items%20from%20Patagonia&site=bc_product&num=12&prev=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-2-insulated-jacket-womens%231
2025-02-15 16:16:58,133 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739665018131] Received parameters: {'query': ['similar items from Patagonia'], 'site': ['bc_product'], 'num': ['12'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-2-insulated-jacket-womens#1']}
2025-02-15 16:16:58,135 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739665018131] Processing query with handler: BCProductHandler
2025-02-15 16:16:58,135 [Thread-21 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739665018135] Starting query handling for site: bc_product, query_id: 
2025-02-15 16:16:58,531 [Thread-21 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.394858 seconds
2025-02-15 16:17:08,257 [Thread-21 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739665018135] Query handling completed successfully
2025-02-15 16:17:08,270 [Thread-21 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:40:28,544 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666428544] Received GET request for path: /html/bc_product.html
2025-02-15 16:40:28,552 [Thread-22 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:40:28,563 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666428563] Received GET request for path: /html/bc_product_top.png
2025-02-15 16:40:28,565 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666428565] Received GET request for path: /html/bc_product_mid.png
2025-02-15 16:40:28,565 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666428565] Received GET request for path: /html/bc_product_bot.png
2025-02-15 16:40:28,570 [Thread-25 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666428570] Received GET request for path: /favicon.ico
2025-02-15 16:40:30,424 [Thread-24 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:41:36,781 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666496781] Received GET request for path: /?query=give%20me%20similar%20items%20from%20Patagonia&site=bc_product&num=12&prev=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-2-insulated-jacket-womens%231
2025-02-15 16:41:36,783 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739666496781] Received parameters: {'query': ['give me similar items from Patagonia'], 'site': ['bc_product'], 'num': ['12'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-2-insulated-jacket-womens#1']}
2025-02-15 16:41:36,784 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739666496781] Processing query with handler: BCProductHandler
2025-02-15 16:41:36,785 [Thread-26 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739666496785] Starting query handling for site: bc_product, query_id: 
2025-02-15 16:41:37,205 [Thread-26 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.483836 seconds
2025-02-15 16:41:43,695 [Thread-26 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739666496785] Query handling completed successfully
2025-02-15 16:41:43,708 [Thread-26 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:46:48,919 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666808919] Received GET request for path: /html/bc_product.html
2025-02-15 16:46:48,926 [Thread-25 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:46:48,946 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666808946] Received GET request for path: /html/bc_product_top.png
2025-02-15 16:46:48,947 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666808947] Received GET request for path: /html/bc_product_bot.png
2025-02-15 16:46:48,948 [Thread-29 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666808948] Received GET request for path: /html/bc_product_mid.png
2025-02-15 16:46:48,953 [Thread-29 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666808953] Received GET request for path: /favicon.ico
2025-02-15 16:46:53,023 [Thread-28 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:46:53,024 [Thread-30 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:46:56,459 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666816459] Received GET request for path: /?query=similar%20items%20from%20patagonia&site=bc_product&num=12&prev=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-2-insulated-jacket-womens%231
2025-02-15 16:46:56,460 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739666816459] Received parameters: {'query': ['similar items from patagonia'], 'site': ['bc_product'], 'num': ['12'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-2-insulated-jacket-womens#1']}
2025-02-15 16:46:56,461 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739666816459] Processing query with handler: BCProductHandler
2025-02-15 16:46:56,461 [Thread-31 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739666816461] Starting query handling for site: bc_product, query_id: 
2025-02-15 16:46:56,854 [Thread-31 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.433127 seconds
2025-02-15 16:47:03,704 [Thread-31 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739666816461] Query handling completed successfully
2025-02-15 16:47:03,716 [Thread-31 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:48:27,115 [Thread-33 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666907115] Received GET request for path: /html/bc_product.html
2025-02-15 16:48:27,120 [Thread-29 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:48:27,135 [Thread-33 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666907135] Received GET request for path: /html/bc_product_top.png
2025-02-15 16:48:27,137 [Thread-34 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666907137] Received GET request for path: /html/bc_product_mid.png
2025-02-15 16:48:27,137 [Thread-35 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666907137] Received GET request for path: /html/bc_product_bot.png
2025-02-15 16:48:27,146 [Thread-34 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666907146] Received GET request for path: /favicon.ico
2025-02-15 16:48:33,572 [Thread-35 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739666913572] Received GET request for path: /?query=similar%20items%20from%20Patagonia&site=bc_product&num=12&prev=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-2-insulated-jacket-womens%231
2025-02-15 16:48:33,573 [Thread-35 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739666913572] Received parameters: {'query': ['similar items from Patagonia'], 'site': ['bc_product'], 'num': ['12'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-2-insulated-jacket-womens#1']}
2025-02-15 16:48:33,573 [Thread-35 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739666913572] Processing query with handler: BCProductHandler
2025-02-15 16:48:33,574 [Thread-35 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739666913574] Starting query handling for site: bc_product, query_id: 
2025-02-15 16:48:33,811 [Thread-35 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.427259 seconds
2025-02-15 16:48:40,433 [Thread-35 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739666913574] Query handling completed successfully
2025-02-15 16:48:40,439 [Thread-35 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 16:53:42,172 [Thread-33 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-15 19:49:46,086 [Thread-34 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-16 07:22:13,943 [Thread-37 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739719333943] Received GET request for path: /favicon.ico
2025-02-16 10:48:28,292 [Thread-37 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 08:10:58,175 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-17 08:11:14,919 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739808674919] Received GET request for path: /html/str_chat.html
2025-02-17 08:11:14,937 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739808674937] Received GET request for path: /html/streaming.js
2025-02-17 08:11:14,943 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739808674943] Received GET request for path: /html/clear.jpeg
2025-02-17 08:11:14,944 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739808674944] Received GET request for path: /html/debug.png
2025-02-17 08:11:14,958 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739808674958] Received GET request for path: /favicon.ico
2025-02-17 08:11:35,399 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739808695399] Received GET request for path: /?query=what%20accompaniments%20do%20they%20serve%20with%20rava%20idli%20at%20MTR&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 08:11:35,402 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739808695399] Received parameters: {'query': ['what accompaniments do they serve with rava idli at MTR'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 08:11:35,406 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739808695399] Processing query with handler: RecipeHandler
2025-02-17 08:11:35,406 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739808695406] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-17 08:11:39,943 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739808699943] Received GET request for path: /html/info.png
2025-02-17 08:11:46,533 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739808695406] Query handling completed successfully
2025-02-17 08:11:46,552 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 08:12:49,557 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 08:17:38,654 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739809058654] Received GET request for path: /html/str_chat.html
2025-02-17 08:17:38,665 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 08:17:38,673 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739809058673] Received GET request for path: /html/streaming.js
2025-02-17 08:17:38,679 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739809058679] Received GET request for path: /html/clear.jpeg
2025-02-17 08:17:38,679 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739809058679] Received GET request for path: /html/debug.png
2025-02-17 08:17:38,682 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739809058682] Received GET request for path: /favicon.ico
2025-02-17 08:17:39,598 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 08:19:40,052 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739809180052] Received GET request for path: /?query=karela%20pitla&site=hebbarskitchen&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 08:19:40,055 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739809180052] Received parameters: {'query': ['karela pitla'], 'site': ['hebbarskitchen'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 08:19:40,059 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739809180052] Processing query with handler: RecipeHandler
2025-02-17 08:19:40,060 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739809180060] Starting query handling for site: hebbarskitchen, query_id: 
2025-02-17 08:19:40,075 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.375085 seconds
2025-02-17 08:19:49,547 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739809180060] Query handling completed successfully
2025-02-17 08:19:49,557 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 09:44:57,533 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-17 09:44:57,621 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814297621] Received GET request for path: /favicon.ico
2025-02-17 09:45:07,044 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814307044] Received GET request for path: /html/str_chat.html
2025-02-17 09:45:07,051 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 09:45:07,060 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814307060] Received GET request for path: /html/streaming.js
2025-02-17 09:45:07,085 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814307085] Received GET request for path: /favicon.ico
2025-02-17 09:45:16,591 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814316591] Received GET request for path: /?query=I%20am%20looking%20for%20a%20home%20for%20some%20elderly%20friends.%20It%20would%20be%20nice%20to%20have%20some%20kind%20of%20community%20center%20nearby.%20Perhaps%20some%20exercise%20facility.%20They%20are%20looking%20for%20a%202%20bedroom&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 09:45:16,592 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739814316591] Received parameters: {'query': ['I am looking for a home for some elderly friends. It would be nice to have some kind of community center nearby. Perhaps some exercise facility. They are looking for a 2 bedroom'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 09:45:16,594 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739814316591] Processing query with handler: ZillowHandler
2025-02-17 09:45:16,595 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739814316595] Starting query handling for site: zillow, query_id: 
2025-02-17 09:45:17,145 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: False
2025-02-17 09:45:17,146 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739814316595] Query handling completed successfully
2025-02-17 09:45:17,151 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 09:45:27,070 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814327070] Received GET request for path: /?query=Sunnyvale%20or%20Santa%20Clara&site=zillow&model=gpt-4o-mini&prev=%5B%22I%20am%20looking%20for%20a%20home%20for%20some%20elderly%20friends.%20It%20would%20be%20nice%20to%20have%20some%20kind%20of%20community%20center%20nearby.%20Perhaps%20some%20exercise%20facility.%20They%20are%20looking%20for%20a%202%20bedroom%22%5D&item_to_remember=&context_url=
2025-02-17 09:45:27,072 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739814327070] Received parameters: {'query': ['Sunnyvale or Santa Clara'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['["I am looking for a home for some elderly friends. It would be nice to have some kind of community center nearby. Perhaps some exercise facility. They are looking for a 2 bedroom"]']}
2025-02-17 09:45:27,073 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739814327070] Processing query with handler: ZillowHandler
2025-02-17 09:45:27,073 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739814327073] Starting query handling for site: zillow, query_id: 
2025-02-17 09:45:27,079 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.400079 seconds
2025-02-17 09:45:28,517 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 09:45:29,626 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 09:45:39,650 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739814327073] Query handling completed successfully
2025-02-17 09:45:39,652 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 09:46:11,577 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814371577] Received GET request for path: /html/str_chat.html
2025-02-17 09:46:11,582 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 09:46:11,593 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814371593] Received GET request for path: /html/streaming.js
2025-02-17 09:46:11,600 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814371600] Received GET request for path: /html/clear.jpeg
2025-02-17 09:46:11,601 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814371601] Received GET request for path: /html/debug.png
2025-02-17 09:46:11,604 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814371604] Received GET request for path: /favicon.ico
2025-02-17 09:46:19,942 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814379942] Received GET request for path: /?query=I%20am%20looking%20for%20a%20home%20for%20some%20elderly%20friends.%20It%20would%20be%20nice%20to%20have%20some%20kind%20of%20community%20center%20nearby.%20Perhaps%20some%20exercise%20facility.%20They%20are%20looking%20for%20a%202%20bedroom&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 09:46:19,942 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739814379942] Received parameters: {'query': ['I am looking for a home for some elderly friends. It would be nice to have some kind of community center nearby. Perhaps some exercise facility. They are looking for a 2 bedroom'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 09:46:19,943 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739814379942] Processing query with handler: ZillowHandler
2025-02-17 09:46:19,943 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739814379943] Starting query handling for site: zillow, query_id: 
2025-02-17 09:46:19,949 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.459472 seconds
2025-02-17 09:46:21,033 [Thread-9 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: False
2025-02-17 09:46:21,036 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739814379943] Query handling completed successfully
2025-02-17 09:46:21,039 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 09:46:33,616 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814393616] Received GET request for path: /?query=Sunnyvale%20or%20Santa%20Clara&site=zillow&model=gpt-4o-mini&prev=%5B%22I%20am%20looking%20for%20a%20home%20for%20some%20elderly%20friends.%20It%20would%20be%20nice%20to%20have%20some%20kind%20of%20community%20center%20nearby.%20Perhaps%20some%20exercise%20facility.%20They%20are%20looking%20for%20a%202%20bedroom%22%5D&item_to_remember=&context_url=
2025-02-17 09:46:33,617 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739814393616] Received parameters: {'query': ['Sunnyvale or Santa Clara'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['["I am looking for a home for some elderly friends. It would be nice to have some kind of community center nearby. Perhaps some exercise facility. They are looking for a 2 bedroom"]']}
2025-02-17 09:46:33,618 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739814393616] Processing query with handler: ZillowHandler
2025-02-17 09:46:33,620 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739814393620] Starting query handling for site: zillow, query_id: 
2025-02-17 09:46:33,627 [Thread-11 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.407838 seconds
2025-02-17 09:46:34,856 [Thread-11 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 09:46:35,910 [Thread-11 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 09:46:47,164 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739814393620] Query handling completed successfully
2025-02-17 09:46:47,186 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 09:47:15,003 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814435003] Received GET request for path: /html/str_chat.html
2025-02-17 09:47:15,009 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 09:47:15,021 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814435021] Received GET request for path: /html/streaming.js
2025-02-17 09:47:15,028 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814435028] Received GET request for path: /html/clear.jpeg
2025-02-17 09:47:15,029 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814435029] Received GET request for path: /html/debug.png
2025-02-17 09:47:15,034 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814435034] Received GET request for path: /favicon.ico
2025-02-17 09:48:34,428 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-17 09:49:10,798 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814550798] Received GET request for path: /?query=I%20am%20looking%20for%20a%20home%20for%20my%20friends%20who%20are%20getting%20old.%20Could%20you%20recommend%20a%20place%20with%20facilities%20that%20would%20be%20good%20for%20them%3F&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 09:49:10,801 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739814550798] Received parameters: {'query': ['I am looking for a home for my friends who are getting old. Could you recommend a place with facilities that would be good for them?'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 09:49:10,806 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739814550798] Processing query with handler: ZillowHandler
2025-02-17 09:49:10,814 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739814550814] Starting query handling for site: zillow, query_id: 
2025-02-17 09:49:11,852 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: False
2025-02-17 09:49:11,854 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739814550814] Query handling completed successfully
2025-02-17 09:49:11,858 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 09:49:19,167 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739814559167] Received GET request for path: /?query=Sunnyvale%20or%20Santa%20Clara&site=zillow&model=gpt-4o-mini&prev=%5B%22I%20am%20looking%20for%20a%20home%20for%20my%20friends%20who%20are%20getting%20old.%20Could%20you%20recommend%20a%20place%20with%20facilities%20that%20would%20be%20good%20for%20them%3F%22%5D&item_to_remember=&context_url=
2025-02-17 09:49:19,167 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739814559167] Received parameters: {'query': ['Sunnyvale or Santa Clara'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['["I am looking for a home for my friends who are getting old. Could you recommend a place with facilities that would be good for them?"]']}
2025-02-17 09:49:19,168 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739814559167] Processing query with handler: ZillowHandler
2025-02-17 09:49:19,171 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739814559171] Starting query handling for site: zillow, query_id: 
2025-02-17 09:49:19,178 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.402226 seconds
2025-02-17 09:49:20,643 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 09:49:21,564 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 09:49:28,301 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739814559171] Query handling completed successfully
2025-02-17 09:49:28,316 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 10:06:21,154 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815581154] Received GET request for path: /html/str_chat.html
2025-02-17 10:06:21,182 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815581182] Received GET request for path: /html/streaming.js
2025-02-17 10:06:21,190 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815581190] Received GET request for path: /html/clear.jpeg
2025-02-17 10:06:21,191 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815581191] Received GET request for path: /html/debug.png
2025-02-17 10:06:21,196 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815581196] Received GET request for path: /favicon.ico
2025-02-17 10:06:22,763 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 10:07:23,784 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815643784] Received GET request for path: /?query=Homes%20in%20sunnyvale%20for%20elderly%20folks&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 10:07:23,786 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739815643784] Received parameters: {'query': ['Homes in sunnyvale for elderly folks'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 10:07:23,788 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739815643784] Processing query with handler: ZillowHandler
2025-02-17 10:07:23,789 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739815643789] Starting query handling for site: zillow, query_id: 
2025-02-17 10:07:23,802 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.434650 seconds
2025-02-17 10:07:25,408 [Thread-10 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 10:07:26,065 [Thread-10 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 10:07:30,691 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739815643789] Query handling completed successfully
2025-02-17 10:07:30,705 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 10:10:04,000 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815804000] Received GET request for path: /html/str_chat.html
2025-02-17 10:10:04,006 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 10:10:04,020 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815804020] Received GET request for path: /html/streaming.js
2025-02-17 10:10:04,027 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815804026] Received GET request for path: /html/clear.jpeg
2025-02-17 10:10:04,027 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815804027] Received GET request for path: /html/debug.png
2025-02-17 10:10:04,031 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815804031] Received GET request for path: /favicon.ico
2025-02-17 10:10:22,708 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815822708] Received GET request for path: /?query=homes%20for%20a%20family%20with%204%20kids%2C%20in%20Palo%20Alto&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 10:10:22,709 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739815822708] Received parameters: {'query': ['homes for a family with 4 kids, in Palo Alto'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 10:10:22,710 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739815822708] Processing query with handler: Imdb2Handler
2025-02-17 10:10:22,710 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739815822710] Starting query handling for site: imdb, query_id: 
2025-02-17 10:10:22,719 [Thread-11 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.384041 seconds
2025-02-17 10:10:23,951 [Thread-11 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: 
2025-02-17 10:10:24,692 [Thread-11 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: 
2025-02-17 10:10:35,131 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739815822710] Query handling completed successfully
2025-02-17 10:10:35,140 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 10:10:41,016 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815841016] Received GET request for path: /?query=homes%20for%20a%20family%20with%204%20kids%2C%20in%20Palo%20Alto&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 10:10:41,016 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739815841016] Received parameters: {'query': ['homes for a family with 4 kids, in Palo Alto'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 10:10:41,017 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739815841016] Processing query with handler: ZillowHandler
2025-02-17 10:10:41,017 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739815841017] Starting query handling for site: zillow, query_id: 
2025-02-17 10:10:41,024 [Thread-13 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.454199 seconds
2025-02-17 10:10:42,195 [Thread-13 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 10:10:42,718 [Thread-13 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 10:10:49,001 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739815841017] Query handling completed successfully
2025-02-17 10:10:49,023 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 10:12:43,937 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815963937] Received GET request for path: /html/str_chat.html
2025-02-17 10:12:43,947 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 10:12:43,958 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815963958] Received GET request for path: /html/streaming.js
2025-02-17 10:12:43,967 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815963967] Received GET request for path: /html/clear.jpeg
2025-02-17 10:12:43,967 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815963967] Received GET request for path: /html/debug.png
2025-02-17 10:12:43,971 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815963971] Received GET request for path: /favicon.ico
2025-02-17 10:13:16,595 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739815996595] Received GET request for path: /?query=house%20in%20Fremont%20that%20would%20be%20good%20for%20a%20family%20with%203%20kids%20and%202%20dogs&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 10:13:16,597 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739815996595] Received parameters: {'query': ['house in Fremont that would be good for a family with 3 kids and 2 dogs'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 10:13:16,603 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739815996595] Processing query with handler: ZillowHandler
2025-02-17 10:13:16,603 [Thread-14 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739815996603] Starting query handling for site: zillow, query_id: 
2025-02-17 10:13:16,612 [Thread-14 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.454585 seconds
2025-02-17 10:13:17,596 [Thread-14 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 10:13:18,083 [Thread-14 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 10:13:24,469 [Thread-14 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739815996603] Query handling completed successfully
2025-02-17 10:13:24,487 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 11:03:01,987 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739818981987] Received GET request for path: /?query=who%20are%20the%20actors%20in%20Star%20Wars&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 11:03:01,990 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739818981987] Received parameters: {'query': ['who are the actors in Star Wars'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 11:03:01,991 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739818981987] Processing query with handler: Imdb2Handler
2025-02-17 11:03:01,992 [Thread-16 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739818981992] Starting query handling for site: imdb, query_id: 
2025-02-17 11:03:02,010 [Thread-16 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.392298 seconds
2025-02-17 11:03:03,579 [Thread-16 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-17 11:03:11,989 [Thread-16 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739818981992] Query handling completed successfully
2025-02-17 11:03:11,992 [Thread-16 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 11:03:25,053 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739819005053] Received GET request for path: /?query=Chinese%20food%20movies%20about%20cooking%20and%20family%20life&site=imdb&model=gpt-4o-mini&prev=%5B%22who%20are%20the%20actors%20in%20Star%20Wars%22%5D&item_to_remember=&context_url=
2025-02-17 11:03:25,056 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739819005053] Received parameters: {'query': ['Chinese food movies about cooking and family life'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['["who are the actors in Star Wars"]']}
2025-02-17 11:03:25,056 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739819005053] Processing query with handler: Imdb2Handler
2025-02-17 11:03:25,057 [Thread-17 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739819005057] Starting query handling for site: imdb, query_id: 
2025-02-17 11:03:25,065 [Thread-17 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.379491 seconds
2025-02-17 11:03:26,750 [Thread-17 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-17 11:03:27,791 [Thread-17 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Movie
2025-02-17 11:03:33,698 [Thread-17 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739819005057] Query handling completed successfully
2025-02-17 11:03:33,711 [Thread-17 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 11:05:31,079 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739819131079] Received GET request for path: /html/str_chat.html
2025-02-17 11:05:31,086 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 11:05:31,097 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739819131097] Received GET request for path: /html/streaming.js
2025-02-17 11:05:31,107 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739819131106] Received GET request for path: /html/clear.jpeg
2025-02-17 11:05:31,108 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739819131108] Received GET request for path: /html/debug.png
2025-02-17 11:05:31,113 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739819131113] Received GET request for path: /favicon.ico
2025-02-17 11:05:51,402 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739819151401] Received GET request for path: /?query=home%20for%20a%20large%20family%20with%204%20small%20kids%20and%203%20dogs%20in%20Fremont&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 11:05:51,402 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739819151401] Received parameters: {'query': ['home for a large family with 4 small kids and 3 dogs in Fremont'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 11:05:51,407 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739819151401] Processing query with handler: ZillowHandler
2025-02-17 11:05:51,408 [Thread-18 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739819151408] Starting query handling for site: zillow, query_id: 
2025-02-17 11:05:51,416 [Thread-18 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.398665 seconds
2025-02-17 11:05:52,595 [Thread-18 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 11:05:53,568 [Thread-18 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 11:06:01,220 [Thread-18 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739819151408] Query handling completed successfully
2025-02-17 11:06:01,228 [Thread-18 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:19:23,391 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-17 13:19:26,638 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827166638] Received GET request for path: /html/str_chat.html
2025-02-17 13:19:26,655 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827166655] Received GET request for path: /html/streaming.js
2025-02-17 13:19:26,704 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827166704] Received GET request for path: /favicon.ico
2025-02-17 13:20:15,082 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827215082] Received GET request for path: /?query=I%20am%20looking%20for%20a%20house%20for%20elderly%20friends%20who%20are%20no%20longer%20able%20to%20drive%20far.%20Can%20you%20suggest%20something%20under%203%20million%20dollars%3F&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 13:20:15,083 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739827215082] Received parameters: {'query': ['I am looking for a house for elderly friends who are no longer able to drive far. Can you suggest something under 3 million dollars?'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 13:20:15,084 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739827215082] Processing query with handler: ZillowHandler
2025-02-17 13:20:15,085 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739827215085] Starting query handling for site: zillow, query_id: 
2025-02-17 13:20:16,082 [Thread-6 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: False
2025-02-17 13:20:16,083 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739827215085] Query handling completed successfully
2025-02-17 13:20:16,089 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:20:27,494 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827227494] Received GET request for path: /?query=Sunnyvale%20or%20Santa%20Clara&site=zillow&model=gpt-4o-mini&prev=%5B%22I%20am%20looking%20for%20a%20house%20for%20elderly%20friends%20who%20are%20no%20longer%20able%20to%20drive%20far.%20Can%20you%20suggest%20something%20under%203%20million%20dollars%3F%22%5D&item_to_remember=&context_url=
2025-02-17 13:20:27,495 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739827227494] Received parameters: {'query': ['Sunnyvale or Santa Clara'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['["I am looking for a house for elderly friends who are no longer able to drive far. Can you suggest something under 3 million dollars?"]']}
2025-02-17 13:20:27,496 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739827227494] Processing query with handler: ZillowHandler
2025-02-17 13:20:27,497 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739827227497] Starting query handling for site: zillow, query_id: 
2025-02-17 13:20:27,504 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.377496 seconds
2025-02-17 13:20:28,556 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 13:20:29,381 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 13:20:35,842 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739827227497] Query handling completed successfully
2025-02-17 13:20:35,856 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:22:22,726 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827342726] Received GET request for path: /?query=I%20am%20looking%20for%20a%20house%20for%20a%20large%20family%20with%20three%20school%20going%20kids%20and%20two%20dogs.%20Should%20be%20walking%20distance%20to%20Caltrain%2C%20near%20Menlo%20Park%20or%20Palo%20Alto&site=zillow&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 13:22:22,727 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739827342726] Received parameters: {'query': ['I am looking for a house for a large family with three school going kids and two dogs. Should be walking distance to Caltrain, near Menlo Park or Palo Alto'], 'site': ['zillow'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-17 13:22:22,728 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739827342726] Processing query with handler: ZillowHandler
2025-02-17 13:22:22,728 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739827342728] Starting query handling for site: zillow, query_id: 
2025-02-17 13:22:22,737 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.488602 seconds
2025-02-17 13:22:24,110 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 13:22:24,946 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 13:22:26,455 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,465 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,469 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,470 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,471 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,477 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,479 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,482 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,484 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,487 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,503 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,505 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,539 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,543 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,567 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,570 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,627 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-17 13:22:26,751 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,616 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,633 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,634 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,636 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,648 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,651 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,672 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,675 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,706 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,717 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,732 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,739 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,804 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,827 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,969 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:30,981 [Thread-8 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-17 13:22:41,038 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739827342728] Query handling completed successfully
2025-02-17 13:22:41,051 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:26:50,202 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827610202] Received GET request for path: /html/bc_product.html
2025-02-17 13:26:50,220 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827610220] Received GET request for path: /html/bc_product_top.png
2025-02-17 13:26:50,224 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827610224] Received GET request for path: /html/bc_product_mid.png
2025-02-17 13:26:50,224 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827610224] Received GET request for path: /html/bc_product_bot.png
2025-02-17 13:26:50,233 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827610233] Received GET request for path: /favicon.ico
2025-02-17 13:27:01,946 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827621946] Received GET request for path: /?query=give%20me%20items%20like%20this%20from%20Patagonia&site=bc_product&num=12&prev=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-2-insulated-jacket-womens%231
2025-02-17 13:27:01,947 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739827621946] Received parameters: {'query': ['give me items like this from Patagonia'], 'site': ['bc_product'], 'num': ['12'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-2-insulated-jacket-womens#1']}
2025-02-17 13:27:01,948 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739827621946] Processing query with handler: BCProductHandler
2025-02-17 13:27:01,948 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739827621948] Starting query handling for site: bc_product, query_id: 
2025-02-17 13:27:02,181 [Thread-11 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.463833 seconds
2025-02-17 13:27:13,429 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739827621948] Query handling completed successfully
2025-02-17 13:27:13,442 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:28:46,376 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:33:18,007 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:33:18,009 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827998009] Received GET request for path: /html/str_chat.html
2025-02-17 13:33:18,015 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:33:18,022 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827998022] Received GET request for path: /html/streaming.js
2025-02-17 13:33:18,026 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827998026] Received GET request for path: /html/clear.jpeg
2025-02-17 13:33:18,026 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827998026] Received GET request for path: /html/debug.png
2025-02-17 13:33:18,031 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739827998031] Received GET request for path: /favicon.ico
2025-02-17 13:33:37,232 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-17 13:34:00,312 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828040312] Received GET request for path: /?query=semaglutide%20and%20interactions%20with%20alzheimers&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 13:34:00,314 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828040312] Received parameters: {'query': ['semaglutide and interactions with alzheimers'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 13:34:00,315 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828040312] Processing query with handler: BaseNLWebHandler
2025-02-17 13:34:00,316 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828040316] Starting query handling for site: med podcast, query_id: 
2025-02-17 13:34:10,709 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828040316] Query handling completed successfully
2025-02-17 13:34:10,720 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:34:38,459 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828078459] Received GET request for path: /?query=ozempic&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22semaglutide%20and%20interactions%20with%20alzheimers%22%5D&item_to_remember=&context_url=
2025-02-17 13:34:38,461 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828078459] Received parameters: {'query': ['ozempic'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["semaglutide and interactions with alzheimers"]']}
2025-02-17 13:34:38,462 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828078459] Processing query with handler: BaseNLWebHandler
2025-02-17 13:34:38,464 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828078463] Starting query handling for site: med podcast, query_id: 
2025-02-17 13:34:38,469 [Thread-6 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.397622 seconds
2025-02-17 13:34:47,773 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828078463] Query handling completed successfully
2025-02-17 13:34:47,785 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:35:11,358 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828111358] Received GET request for path: /?query=unintended%20consequences%20of%20ozempic&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22semaglutide%20and%20interactions%20with%20alzheimers%22%2C%22ozempic%22%5D&item_to_remember=&context_url=
2025-02-17 13:35:11,359 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828111358] Received parameters: {'query': ['unintended consequences of ozempic'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["semaglutide and interactions with alzheimers","ozempic"]']}
2025-02-17 13:35:11,360 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828111358] Processing query with handler: BaseNLWebHandler
2025-02-17 13:35:11,360 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828111360] Starting query handling for site: med podcast, query_id: 
2025-02-17 13:35:11,368 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.495881 seconds
2025-02-17 13:35:23,375 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828111360] Query handling completed successfully
2025-02-17 13:35:23,388 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:37:05,986 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828225986] Received GET request for path: /?query=virus%20transmission%20vectors&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22semaglutide%20and%20interactions%20with%20alzheimers%22%2C%22ozempic%22%2C%22unintended%20consequences%20of%20ozempic%22%5D&item_to_remember=&context_url=
2025-02-17 13:37:05,988 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828225986] Received parameters: {'query': ['virus transmission vectors'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["semaglutide and interactions with alzheimers","ozempic","unintended consequences of ozempic"]']}
2025-02-17 13:37:05,989 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828225986] Processing query with handler: BaseNLWebHandler
2025-02-17 13:37:05,989 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828225989] Starting query handling for site: med podcast, query_id: 
2025-02-17 13:37:06,001 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.380371 seconds
2025-02-17 13:37:13,349 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828225989] Query handling completed successfully
2025-02-17 13:37:13,355 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:37:49,464 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828269464] Received GET request for path: /?query=bird%20flu%20in%20pets&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22semaglutide%20and%20interactions%20with%20alzheimers%22%2C%22ozempic%22%2C%22unintended%20consequences%20of%20ozempic%22%2C%22virus%20transmission%20vectors%22%5D&item_to_remember=&context_url=
2025-02-17 13:37:49,465 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828269464] Received parameters: {'query': ['bird flu in pets'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["semaglutide and interactions with alzheimers","ozempic","unintended consequences of ozempic","virus transmission vectors"]']}
2025-02-17 13:37:49,466 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828269464] Processing query with handler: BaseNLWebHandler
2025-02-17 13:37:49,466 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828269466] Starting query handling for site: med podcast, query_id: 
2025-02-17 13:37:49,476 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.376538 seconds
2025-02-17 13:37:56,310 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828269466] Query handling completed successfully
2025-02-17 13:37:56,316 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:39:06,061 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-17 13:39:14,449 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-17 13:39:40,729 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828380729] Received GET request for path: /?query=side%20effects%20of%20semaglutide%20on%20those%20with%20lbbl&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22semaglutide%20and%20interactions%20with%20alzheimers%22%2C%22ozempic%22%2C%22unintended%20consequences%20of%20ozempic%22%2C%22virus%20transmission%20vectors%22%2C%22bird%20flu%20in%20pets%22%5D&item_to_remember=&context_url=
2025-02-17 13:39:40,730 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828380729] Received parameters: {'query': ['side effects of semaglutide on those with lbbl'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["semaglutide and interactions with alzheimers","ozempic","unintended consequences of ozempic","virus transmission vectors","bird flu in pets"]']}
2025-02-17 13:39:40,731 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828380729] Processing query with handler: BaseNLWebHandler
2025-02-17 13:39:40,732 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828380732] Starting query handling for site: med podcast, query_id: 
2025-02-17 13:39:51,602 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828380732] Query handling completed successfully
2025-02-17 13:39:51,621 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:40:22,962 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828422962] Received GET request for path: /?query=side%20effects%20of%20semaglutide%20for%20those%20with%20cardiac%20issues&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22semaglutide%20and%20interactions%20with%20alzheimers%22%2C%22ozempic%22%2C%22unintended%20consequences%20of%20ozempic%22%2C%22virus%20transmission%20vectors%22%2C%22bird%20flu%20in%20pets%22%2C%22side%20effects%20of%20semaglutide%20on%20those%20with%20lbbl%22%5D&item_to_remember=&context_url=
2025-02-17 13:40:22,962 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828422962] Received parameters: {'query': ['side effects of semaglutide for those with cardiac issues'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["semaglutide and interactions with alzheimers","ozempic","unintended consequences of ozempic","virus transmission vectors","bird flu in pets","side effects of semaglutide on those with lbbl"]']}
2025-02-17 13:40:22,963 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828422962] Processing query with handler: BaseNLWebHandler
2025-02-17 13:40:22,963 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828422963] Starting query handling for site: med podcast, query_id: 
2025-02-17 13:40:22,972 [Thread-6 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.476551 seconds
2025-02-17 13:40:34,878 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828422963] Query handling completed successfully
2025-02-17 13:40:34,899 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:41:56,856 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828516856] Received GET request for path: /?query=side%20effects%20of%20semaglutide%20for%20those%20with%20chronic%20liver%20problems&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22semaglutide%20and%20interactions%20with%20alzheimers%22%2C%22ozempic%22%2C%22unintended%20consequences%20of%20ozempic%22%2C%22virus%20transmission%20vectors%22%2C%22bird%20flu%20in%20pets%22%2C%22side%20effects%20of%20semaglutide%20on%20those%20with%20lbbl%22%2C%22side%20effects%20of%20semaglutide%20for%20those%20with%20cardiac%20issues%22%5D&item_to_remember=&context_url=
2025-02-17 13:41:56,858 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828516856] Received parameters: {'query': ['side effects of semaglutide for those with chronic liver problems'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["semaglutide and interactions with alzheimers","ozempic","unintended consequences of ozempic","virus transmission vectors","bird flu in pets","side effects of semaglutide on those with lbbl","side effects of semaglutide for those with cardiac issues"]']}
2025-02-17 13:41:56,859 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828516856] Processing query with handler: BaseNLWebHandler
2025-02-17 13:41:56,859 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828516859] Starting query handling for site: med podcast, query_id: 
2025-02-17 13:41:56,864 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.449781 seconds
2025-02-17 13:42:07,727 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828516859] Query handling completed successfully
2025-02-17 13:42:07,745 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:42:36,542 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828556542] Received GET request for path: /?query=semaglutide%20and%20public%20health&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22semaglutide%20and%20interactions%20with%20alzheimers%22%2C%22ozempic%22%2C%22unintended%20consequences%20of%20ozempic%22%2C%22virus%20transmission%20vectors%22%2C%22bird%20flu%20in%20pets%22%2C%22side%20effects%20of%20semaglutide%20on%20those%20with%20lbbl%22%2C%22side%20effects%20of%20semaglutide%20for%20those%20with%20cardiac%20issues%22%2C%22side%20effects%20of%20semaglutide%20for%20those%20with%20chronic%20liver%20problems%22%5D&item_to_remember=&context_url=
2025-02-17 13:42:36,543 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828556542] Received parameters: {'query': ['semaglutide and public health'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["semaglutide and interactions with alzheimers","ozempic","unintended consequences of ozempic","virus transmission vectors","bird flu in pets","side effects of semaglutide on those with lbbl","side effects of semaglutide for those with cardiac issues","side effects of semaglutide for those with chronic liver problems"]']}
2025-02-17 13:42:36,543 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828556542] Processing query with handler: BaseNLWebHandler
2025-02-17 13:42:36,544 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828556544] Starting query handling for site: med podcast, query_id: 
2025-02-17 13:42:36,553 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.444915 seconds
2025-02-17 13:42:40,036 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.426395 seconds
2025-02-17 13:42:47,079 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828556544] Query handling completed successfully
2025-02-17 13:42:47,092 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:44:15,876 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828655876] Received GET request for path: /?query=is%20semaglutide%20a%20cost%20effective%20treatment%2C%20from%20a%20public%20health%20economic%20perspective%2C%20to%20combat%20the%20problem%20of%20widespread%20obesity&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22semaglutide%20and%20interactions%20with%20alzheimers%22%2C%22ozempic%22%2C%22unintended%20consequences%20of%20ozempic%22%2C%22virus%20transmission%20vectors%22%2C%22bird%20flu%20in%20pets%22%2C%22side%20effects%20of%20semaglutide%20on%20those%20with%20lbbl%22%2C%22side%20effects%20of%20semaglutide%20for%20those%20with%20cardiac%20issues%22%2C%22side%20effects%20of%20semaglutide%20for%20those%20with%20chronic%20liver%20problems%22%2C%22semaglutide%20and%20public%20health%22%5D&item_to_remember=&context_url=
2025-02-17 13:44:15,878 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828655876] Received parameters: {'query': ['is semaglutide a cost effective treatment, from a public health economic perspective, to combat the problem of widespread obesity'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["semaglutide and interactions with alzheimers","ozempic","unintended consequences of ozempic","virus transmission vectors","bird flu in pets","side effects of semaglutide on those with lbbl","side effects of semaglutide for those with cardiac issues","side effects of semaglutide for those with chronic liver problems","semaglutide and public health"]']}
2025-02-17 13:44:15,879 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828655876] Processing query with handler: BaseNLWebHandler
2025-02-17 13:44:15,879 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828655879] Starting query handling for site: med podcast, query_id: 
2025-02-17 13:44:15,886 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.384789 seconds
2025-02-17 13:44:30,291 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828655879] Query handling completed successfully
2025-02-17 13:44:30,302 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:45:34,666 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828734666] Received GET request for path: /?query=semaglutide%20for%20non-diabetics&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22semaglutide%20and%20interactions%20with%20alzheimers%22%2C%22ozempic%22%2C%22unintended%20consequences%20of%20ozempic%22%2C%22virus%20transmission%20vectors%22%2C%22bird%20flu%20in%20pets%22%2C%22side%20effects%20of%20semaglutide%20on%20those%20with%20lbbl%22%2C%22side%20effects%20of%20semaglutide%20for%20those%20with%20cardiac%20issues%22%2C%22side%20effects%20of%20semaglutide%20for%20those%20with%20chronic%20liver%20problems%22%2C%22semaglutide%20and%20public%20health%22%2C%22is%20semaglutide%20a%20cost%20effective%20treatment%2C%20from%20a%20public%20health%20economic%20perspective%2C%20to%20combat%20the%20problem%20of%20widespread%20obesity%22%5D&item_to_remember=&context_url=
2025-02-17 13:45:34,667 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828734666] Received parameters: {'query': ['semaglutide for non-diabetics'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["semaglutide and interactions with alzheimers","ozempic","unintended consequences of ozempic","virus transmission vectors","bird flu in pets","side effects of semaglutide on those with lbbl","side effects of semaglutide for those with cardiac issues","side effects of semaglutide for those with chronic liver problems","semaglutide and public health","is semaglutide a cost effective treatment, from a public health economic perspective, to combat the problem of widespread obesity"]']}
2025-02-17 13:45:34,668 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828734666] Processing query with handler: BaseNLWebHandler
2025-02-17 13:45:34,668 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828734668] Starting query handling for site: med podcast, query_id: 
2025-02-17 13:45:34,677 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.432967 seconds
2025-02-17 13:45:44,417 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828734668] Query handling completed successfully
2025-02-17 13:45:44,433 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:46:54,134 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-17 13:47:07,650 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828827650] Received GET request for path: /?query=homes%20in%20near%20Caltrain%20station&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 13:47:07,652 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828827650] Received parameters: {'query': ['homes in near Caltrain station'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 13:47:07,654 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828827650] Processing query with handler: ZillowHandler
2025-02-17 13:47:07,655 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828827655] Starting query handling for site: zillow, query_id: 
2025-02-17 13:47:08,754 [Thread-5 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 13:47:09,284 [Thread-5 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 13:47:14,063 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828827655] Query handling completed successfully
2025-02-17 13:47:14,085 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:48:05,093 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828885093] Received GET request for path: /html/str_chat.html
2025-02-17 13:48:05,113 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828885113] Received GET request for path: /html/streaming.js
2025-02-17 13:48:05,118 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828885118] Received GET request for path: /html/clear.jpeg
2025-02-17 13:48:05,119 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828885119] Received GET request for path: /html/debug.png
2025-02-17 13:48:05,122 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828885122] Received GET request for path: /favicon.ico
2025-02-17 13:48:29,527 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828909527] Received GET request for path: /?query=homes%20for%20a%20large%20family%20with%204%20school%20age%20kids%20and%20two%20dogs.%20Parents%20visit%20occassionaly%20from%20out%20of%20town&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 13:48:29,528 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828909527] Received parameters: {'query': ['homes for a large family with 4 school age kids and two dogs. Parents visit occassionaly from out of town'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 13:48:29,529 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828909527] Processing query with handler: Imdb2Handler
2025-02-17 13:48:29,530 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828909530] Starting query handling for site: imdb, query_id: 
2025-02-17 13:48:29,542 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.425112 seconds
2025-02-17 13:48:30,689 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Outdoor Gear
2025-02-17 13:48:31,212 [Thread-7 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Outdoor Gear
2025-02-17 13:48:36,077 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828909530] Query handling completed successfully
2025-02-17 13:48:36,085 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:48:43,282 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828923282] Received GET request for path: /?query=homes%20for%20a%20large%20family%20with%204%20school%20age%20kids%20and%20two%20dogs.%20Parents%20visit%20occassionaly%20from%20out%20of%20town&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 13:48:43,283 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828923282] Received parameters: {'query': ['homes for a large family with 4 school age kids and two dogs. Parents visit occassionaly from out of town'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 13:48:43,283 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828923282] Processing query with handler: ZillowHandler
2025-02-17 13:48:43,284 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828923284] Starting query handling for site: zillow, query_id: 
2025-02-17 13:48:43,293 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.394996 seconds
2025-02-17 13:48:44,286 [Thread-8 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: False
2025-02-17 13:48:44,286 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828923284] Query handling completed successfully
2025-02-17 13:48:44,290 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:48:53,754 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828933753] Received GET request for path: /?query=Menlo%20Park%20or%20Palo%20Alto&site=zillow&model=gpt-4o-mini&prev=%5B%22homes%20for%20a%20large%20family%20with%204%20school%20age%20kids%20and%20two%20dogs.%20Parents%20visit%20occassionaly%20from%20out%20of%20town%22%5D&item_to_remember=&context_url=
2025-02-17 13:48:53,754 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828933753] Received parameters: {'query': ['Menlo Park or Palo Alto'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['["homes for a large family with 4 school age kids and two dogs. Parents visit occassionaly from out of town"]']}
2025-02-17 13:48:53,755 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828933753] Processing query with handler: ZillowHandler
2025-02-17 13:48:53,756 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828933756] Starting query handling for site: zillow, query_id: 
2025-02-17 13:48:53,763 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.470645 seconds
2025-02-17 13:48:54,842 [Thread-9 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 13:48:55,712 [Thread-9 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-17 13:49:21,718 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739828961718] Received GET request for path: /?query=Shoe%20me%20the%20homes%20that%20are%20walking%20distance%20from%20a%20Caltrain%20station&site=zillow&model=gpt-4o-mini&prev=%5B%22homes%20for%20a%20large%20family%20with%204%20school%20age%20kids%20and%20two%20dogs.%20Parents%20visit%20occassionaly%20from%20out%20of%20town%22%2C%22Menlo%20Park%20or%20Palo%20Alto%22%5D&item_to_remember=&context_url=
2025-02-17 13:49:21,718 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739828961718] Received parameters: {'query': ['Shoe me the homes that are walking distance from a Caltrain station'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['["homes for a large family with 4 school age kids and two dogs. Parents visit occassionaly from out of town","Menlo Park or Palo Alto"]']}
2025-02-17 13:49:21,719 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739828961718] Processing query with handler: ZillowHandler
2025-02-17 13:49:21,719 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739828961719] Starting query handling for site: zillow, query_id: 
2025-02-17 13:49:22,633 [Thread-10 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: False
2025-02-17 13:49:22,634 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828961719] Query handling completed successfully
2025-02-17 13:49:22,639 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 13:49:29,341 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.391048 seconds
2025-02-17 13:49:32,403 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739828933756] Query handling completed successfully
2025-02-17 13:49:32,411 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:09:54,725 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-17 14:10:12,684 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830212684] Received GET request for path: /?query=antibiotics%20and%20weight%20loss%20medication&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 14:10:12,685 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739830212684] Received parameters: {'query': ['antibiotics and weight loss medication'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 14:10:12,687 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739830212684] Processing query with handler: BaseNLWebHandler
2025-02-17 14:10:12,687 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739830212687] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:10:20,573 [Thread-5 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739830212687] Query handling completed successfully
2025-02-17 14:10:20,591 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:11:03,328 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830263328] Received GET request for path: /?query=semaglutide%20vs%20diet%20control&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22antibiotics%20and%20weight%20loss%20medication%22%5D&item_to_remember=&context_url=
2025-02-17 14:11:03,329 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739830263328] Received parameters: {'query': ['semaglutide vs diet control'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["antibiotics and weight loss medication"]']}
2025-02-17 14:11:03,329 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739830263328] Processing query with handler: BaseNLWebHandler
2025-02-17 14:11:03,329 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739830263329] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:11:03,339 [Thread-6 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.423545 seconds
2025-02-17 14:11:18,796 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739830263329] Query handling completed successfully
2025-02-17 14:11:18,817 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:11:57,747 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830317747] Received GET request for path: /html/str_chat.html
2025-02-17 14:11:57,758 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830317758] Received GET request for path: /html/streaming.js
2025-02-17 14:11:57,767 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830317767] Received GET request for path: /favicon.ico
2025-02-17 14:12:22,192 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830342192] Received GET request for path: /?query=compare%20keto%2C%20fasting%2C%20low%20carb%2C%20semaglutides%20for%20effectiveness&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 14:12:22,194 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739830342192] Received parameters: {'query': ['compare keto, fasting, low carb, semaglutides for effectiveness'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 14:12:22,195 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739830342192] Processing query with handler: BaseNLWebHandler
2025-02-17 14:12:22,196 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739830342196] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:12:22,897 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.480844 seconds
2025-02-17 14:12:32,294 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739830342196] Query handling completed successfully
2025-02-17 14:12:32,308 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:13:00,666 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830380666] Received GET request for path: /?query=medication%20vs%20different%20forms%20of%20diet%20control%20for%20weight%20loss&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22compare%20keto%2C%20fasting%2C%20low%20carb%2C%20semaglutides%20for%20effectiveness%22%5D&item_to_remember=&context_url=
2025-02-17 14:13:00,667 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739830380666] Received parameters: {'query': ['medication vs different forms of diet control for weight loss'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["compare keto, fasting, low carb, semaglutides for effectiveness"]']}
2025-02-17 14:13:00,667 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739830380666] Processing query with handler: BaseNLWebHandler
2025-02-17 14:13:00,668 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739830380668] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:13:00,674 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.477183 seconds
2025-02-17 14:13:10,455 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739830380668] Query handling completed successfully
2025-02-17 14:13:10,484 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:13:37,325 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830417325] Received GET request for path: /?query=glp-1%20medication%20vs%20different%20forms%20of%20diet%20control%20for%20weight%20loss&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 14:13:37,325 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739830417325] Received parameters: {'query': ['glp-1 medication vs different forms of diet control for weight loss'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 14:13:37,326 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739830417325] Processing query with handler: BaseNLWebHandler
2025-02-17 14:13:37,327 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739830417327] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:13:38,032 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.466013 seconds
2025-02-17 14:13:47,747 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739830417327] Query handling completed successfully
2025-02-17 14:13:47,773 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:14:36,520 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830476520] Received GET request for path: /?query=what%20is%20the%20real%20story%20behind%20the%20new%20alzheimers%20drugs&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22glp-1%20medication%20vs%20different%20forms%20of%20diet%20control%20for%20weight%20loss%22%5D&item_to_remember=&context_url=
2025-02-17 14:14:36,522 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739830476520] Received parameters: {'query': ['what is the real story behind the new alzheimers drugs'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["glp-1 medication vs different forms of diet control for weight loss"]']}
2025-02-17 14:14:36,522 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739830476520] Processing query with handler: BaseNLWebHandler
2025-02-17 14:14:36,522 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739830476522] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:14:36,529 [Thread-11 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.469882 seconds
2025-02-17 14:14:54,573 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739830476522] Query handling completed successfully
2025-02-17 14:14:54,594 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:15:49,505 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830549505] Received GET request for path: /?query=stem%20cells%20and%20alzheimers&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22glp-1%20medication%20vs%20different%20forms%20of%20diet%20control%20for%20weight%20loss%22%2C%22what%20is%20the%20real%20story%20behind%20the%20new%20alzheimers%20drugs%22%5D&item_to_remember=&context_url=
2025-02-17 14:15:49,508 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739830549505] Received parameters: {'query': ['stem cells and alzheimers'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["glp-1 medication vs different forms of diet control for weight loss","what is the real story behind the new alzheimers drugs"]']}
2025-02-17 14:15:49,510 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739830549505] Processing query with handler: BaseNLWebHandler
2025-02-17 14:15:49,510 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739830549510] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:15:49,516 [Thread-12 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.476896 seconds
2025-02-17 14:16:27,075 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830587075] Received GET request for path: /?query=crispr%20based%20treatments%20for%20cancer&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22glp-1%20medication%20vs%20different%20forms%20of%20diet%20control%20for%20weight%20loss%22%2C%22what%20is%20the%20real%20story%20behind%20the%20new%20alzheimers%20drugs%22%2C%22stem%20cells%20and%20alzheimers%22%5D&item_to_remember=&context_url=
2025-02-17 14:16:27,077 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739830587075] Received parameters: {'query': ['crispr based treatments for cancer'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["glp-1 medication vs different forms of diet control for weight loss","what is the real story behind the new alzheimers drugs","stem cells and alzheimers"]']}
2025-02-17 14:16:27,078 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739830587075] Processing query with handler: BaseNLWebHandler
2025-02-17 14:16:27,078 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739830587078] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:16:40,803 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739830587078] Query handling completed successfully
2025-02-17 14:16:40,835 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:17:24,704 [Thread-12 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.408674 seconds
2025-02-17 14:17:27,286 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739830549510] Query handling completed successfully
2025-02-17 14:17:27,320 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:18:17,061 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830697061] Received GET request for path: /?query=crispr%20based%20treatments%20for%20cancer&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 14:18:17,062 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739830697061] Received parameters: {'query': ['crispr based treatments for cancer'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 14:18:17,063 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739830697061] Processing query with handler: BaseNLWebHandler
2025-02-17 14:18:17,064 [Thread-14 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739830697064] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:18:17,591 [Thread-14 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.381420 seconds
2025-02-17 14:18:29,051 [Thread-14 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739830697064] Query handling completed successfully
2025-02-17 14:18:29,068 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:19:26,538 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830766538] Received GET request for path: /?query=use%20of%20crispr%20in%20treatments%20for%20cancer%20and%20alzheimers&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 14:19:26,540 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739830766538] Received parameters: {'query': ['use of crispr in treatments for cancer and alzheimers'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 14:19:26,540 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739830766538] Processing query with handler: BaseNLWebHandler
2025-02-17 14:19:26,541 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739830766541] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:19:27,111 [Thread-15 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.387836 seconds
2025-02-17 14:19:37,080 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739830766541] Query handling completed successfully
2025-02-17 14:19:37,097 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:20:57,091 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739830857090] Received GET request for path: /?query=clinical%20trials%20involving%20crispr&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 14:20:57,093 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739830857090] Received parameters: {'query': ['clinical trials involving crispr'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 14:20:57,094 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739830857090] Processing query with handler: BaseNLWebHandler
2025-02-17 14:20:57,094 [Thread-16 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739830857094] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:20:57,635 [Thread-16 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.491902 seconds
2025-02-17 14:21:06,344 [Thread-16 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739830857094] Query handling completed successfully
2025-02-17 14:21:06,367 [Thread-16 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:25:49,004 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739831149004] Received GET request for path: /html/str_chat.html
2025-02-17 14:25:49,012 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:25:49,022 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739831149022] Received GET request for path: /html/streaming.js
2025-02-17 14:25:49,027 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739831149027] Received GET request for path: /html/clear.jpeg
2025-02-17 14:25:49,028 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739831149028] Received GET request for path: /html/debug.png
2025-02-17 14:25:49,031 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739831149031] Received GET request for path: /favicon.ico
2025-02-17 14:26:18,444 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739831178444] Received GET request for path: /?query=on%20the%20unintended%20side%20effects%20of%20ozempic&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 14:26:18,445 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739831178444] Received parameters: {'query': ['on the unintended side effects of ozempic'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 14:26:18,447 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739831178444] Processing query with handler: BaseNLWebHandler
2025-02-17 14:26:18,448 [Thread-17 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739831178448] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:26:19,117 [Thread-17 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.464216 seconds
2025-02-17 14:26:28,614 [Thread-17 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739831178448] Query handling completed successfully
2025-02-17 14:26:28,630 [Thread-17 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:26:56,528 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739831216528] Received GET request for path: /?query=unintended%20side%20effects%20of%20semaglutide&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-17 14:26:56,528 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739831216528] Received parameters: {'query': ['unintended side effects of semaglutide'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-17 14:26:56,529 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739831216528] Processing query with handler: BaseNLWebHandler
2025-02-17 14:26:56,530 [Thread-19 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739831216530] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:26:57,312 [Thread-19 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.390686 seconds
2025-02-17 14:27:06,704 [Thread-19 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739831216530] Query handling completed successfully
2025-02-17 14:27:06,723 [Thread-19 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-17 14:27:25,995 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739831245995] Received GET request for path: /?query=clinical%20trials%20discussing%20this%20topic&site=med%20podcast&model=gpt-4o-mini&prev=%5B%22unintended%20side%20effects%20of%20semaglutide%22%5D&item_to_remember=&context_url=
2025-02-17 14:27:25,998 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739831245995] Received parameters: {'query': ['clinical trials discussing this topic'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['["unintended side effects of semaglutide"]']}
2025-02-17 14:27:25,999 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739831245995] Processing query with handler: BaseNLWebHandler
2025-02-17 14:27:26,000 [Thread-20 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739831246000] Starting query handling for site: med podcast, query_id: 
2025-02-17 14:27:26,008 [Thread-20 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.462323 seconds
2025-02-17 14:27:39,579 [Thread-20 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739831246000] Query handling completed successfully
2025-02-17 14:27:39,599 [Thread-20 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:14:14,216 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-18 07:16:33,897 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891793896] Received GET request for path: /html/str_chat.html
2025-02-18 07:16:33,905 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891793905] Received GET request for path: /html/streaming.js
2025-02-18 07:16:33,909 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891793909] Received GET request for path: /html/clear.jpeg
2025-02-18 07:16:33,910 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891793910] Received GET request for path: /html/debug.png
2025-02-18 07:16:34,715 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891794715] Received GET request for path: /favicon.ico
2025-02-18 07:16:41,515 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891801515] Received GET request for path: /?query=what%20is%20the%20controversy%20over%20the%20new%20alzheimers%20medicines&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 07:16:41,517 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739891801515] Received parameters: {'query': ['what is the controversy over the new alzheimers medicines'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 07:16:41,520 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739891801515] Processing query with handler: BaseNLWebHandler
2025-02-18 07:16:41,520 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739891801520] Starting query handling for site: med podcast, query_id: 
2025-02-18 07:16:44,348 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891804348] Received GET request for path: /html/info.png
2025-02-18 07:16:51,361 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739891801520] Query handling completed successfully
2025-02-18 07:16:51,377 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:17:03,871 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:17:42,487 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891862487] Received GET request for path: /html/str_chat.html
2025-02-18 07:17:42,496 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:17:42,508 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891862508] Received GET request for path: /favicon.ico
2025-02-18 07:17:57,621 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891877621] Received GET request for path: /?query=what%20are%20the%20issues%20with%20the%20new%20Alzheimers%20medicines&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 07:17:57,623 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739891877621] Received parameters: {'query': ['what are the issues with the new Alzheimers medicines'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 07:17:57,624 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739891877621] Processing query with handler: Imdb2Handler
2025-02-18 07:17:57,624 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739891877624] Starting query handling for site: imdb, query_id: 
2025-02-18 07:17:57,632 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.399472 seconds
2025-02-18 07:17:58,972 [Thread-10 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Paper
2025-02-18 07:18:00,377 [Thread-10 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Paper
2025-02-18 07:18:07,609 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739891877624] Query handling completed successfully
2025-02-18 07:18:07,615 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:18:19,563 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891899563] Received GET request for path: /?query=what%20are%20the%20issues%20with%20the%20new%20alzheimers%20medicines&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 07:18:19,563 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739891899563] Received parameters: {'query': ['what are the issues with the new alzheimers medicines'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 07:18:19,565 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739891899563] Processing query with handler: BaseNLWebHandler
2025-02-18 07:18:19,565 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739891899565] Starting query handling for site: med podcast, query_id: 
2025-02-18 07:18:20,026 [Thread-11 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.409569 seconds
2025-02-18 07:18:27,456 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739891899565] Query handling completed successfully
2025-02-18 07:18:27,472 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:18:42,959 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891922959] Received GET request for path: /html/str_chat.html
2025-02-18 07:18:42,969 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:18:42,981 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891922981] Received GET request for path: /favicon.ico
2025-02-18 07:19:10,432 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891950432] Received GET request for path: /?query=tell%20me%20more%20about%20some%20of%20the%20unexpected%20effects%20of%20semaglutides%20on%20things%20like%20cardiac%20health&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 07:19:10,433 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739891950432] Received parameters: {'query': ['tell me more about some of the unexpected effects of semaglutides on things like cardiac health'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 07:19:10,434 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739891950432] Processing query with handler: BaseNLWebHandler
2025-02-18 07:19:10,435 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739891950435] Starting query handling for site: med podcast, query_id: 
2025-02-18 07:19:11,022 [Thread-13 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.399706 seconds
2025-02-18 07:19:20,839 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739891950435] Query handling completed successfully
2025-02-18 07:19:20,862 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:19:50,976 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891990976] Received GET request for path: /html/str_chat.html
2025-02-18 07:19:50,984 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:19:50,997 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739891990997] Received GET request for path: /favicon.ico
2025-02-18 07:20:05,146 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739892005146] Received GET request for path: /?query=unexpected%20side%20effects%20of%20semaglutide&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 07:20:05,148 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739892005146] Received parameters: {'query': ['unexpected side effects of semaglutide'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 07:20:05,149 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739892005146] Processing query with handler: BaseNLWebHandler
2025-02-18 07:20:05,149 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739892005149] Starting query handling for site: med podcast, query_id: 
2025-02-18 07:20:06,028 [Thread-15 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.390798 seconds
2025-02-18 07:20:17,476 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739892005149] Query handling completed successfully
2025-02-18 07:20:17,489 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:20:38,927 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739892038927] Received GET request for path: /html/str_chat.html
2025-02-18 07:20:38,934 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:20:38,948 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739892038948] Received GET request for path: /favicon.ico
2025-02-18 07:20:47,290 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739892047290] Received GET request for path: /?query=potential%20side%20effects%20of%20semaglutide&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 07:20:47,291 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739892047290] Received parameters: {'query': ['potential side effects of semaglutide'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 07:20:47,292 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739892047290] Processing query with handler: Imdb2Handler
2025-02-18 07:20:47,292 [Thread-17 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739892047292] Starting query handling for site: imdb, query_id: 
2025-02-18 07:20:47,299 [Thread-17 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.456575 seconds
2025-02-18 07:20:48,444 [Thread-17 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Paper
2025-02-18 07:20:49,291 [Thread-17 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: 
2025-02-18 07:20:53,310 [Thread-17 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739892047292] Query handling completed successfully
2025-02-18 07:20:53,314 [Thread-17 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:21:06,101 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739892066101] Received GET request for path: /?query=potential%20side%20effects%20of%20semaglutide&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 07:21:06,102 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739892066101] Received parameters: {'query': ['potential side effects of semaglutide'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 07:21:06,103 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739892066101] Processing query with handler: BaseNLWebHandler
2025-02-18 07:21:06,104 [Thread-18 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739892066104] Starting query handling for site: med podcast, query_id: 
2025-02-18 07:21:06,523 [Thread-18 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.383899 seconds
2025-02-18 07:21:22,520 [Thread-18 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739892066104] Query handling completed successfully
2025-02-18 07:21:22,527 [Thread-18 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:56:00,445 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894160445] Received GET request for path: /?query=potential%20side%20effects%20of%20semaglutide&site=npr%20podcasts&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 07:56:00,448 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739894160445] Received parameters: {'query': ['potential side effects of semaglutide'], 'site': ['npr podcasts'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 07:56:00,450 [Thread-19 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739894160445] Processing query with handler: BaseNLWebHandler
2025-02-18 07:56:00,451 [Thread-19 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739894160451] Starting query handling for site: npr podcasts, query_id: 
2025-02-18 07:56:01,668 [Thread-19 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.411245 seconds
2025-02-18 07:56:06,250 [Thread-19 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739894160451] Query handling completed successfully
2025-02-18 07:56:06,262 [Thread-19 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 07:58:24,559 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-18 07:58:50,503 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894330503] Received GET request for path: /html/str_chat.html
2025-02-18 07:58:50,559 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894330559] Received GET request for path: /favicon.ico
2025-02-18 07:59:00,739 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894340739] Received GET request for path: /?query=side%20effects%20of%20semaglutide&site=npr%20podcasts&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 07:59:00,740 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739894340739] Received parameters: {'query': ['side effects of semaglutide'], 'site': ['npr podcasts'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 07:59:00,743 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739894340739] Processing query with handler: BaseNLWebHandler
2025-02-18 07:59:00,744 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739894340744] Starting query handling for site: npr podcasts, query_id: 
2025-02-18 07:59:10,752 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739894340744] Query handling completed successfully
2025-02-18 07:59:10,766 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:00:02,106 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894402106] Received GET request for path: /html/str_chat.html
2025-02-18 08:00:02,109 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:00:02,116 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894402116] Received GET request for path: /favicon.ico
2025-02-18 08:00:12,491 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894412491] Received GET request for path: /?query=potential%20side%20effects%20of%20semaglutide&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 08:00:12,492 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739894412491] Received parameters: {'query': ['potential side effects of semaglutide'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 08:00:12,493 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739894412491] Processing query with handler: Imdb2Handler
2025-02-18 08:00:12,493 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739894412493] Starting query handling for site: imdb, query_id: 
2025-02-18 08:00:12,499 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.494867 seconds
2025-02-18 08:00:14,230 [Thread-9 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: 
2025-02-18 08:00:15,254 [Thread-9 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Paper
2025-02-18 08:00:29,897 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739894412493] Query handling completed successfully
2025-02-18 08:00:29,900 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:00:46,759 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894446759] Received GET request for path: /?query=potential%20side%20effects%20of%20semaglutide&site=npr%20podcasts&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 08:00:46,759 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739894446759] Received parameters: {'query': ['potential side effects of semaglutide'], 'site': ['npr podcasts'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 08:00:46,760 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739894446759] Processing query with handler: BaseNLWebHandler
2025-02-18 08:00:46,761 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739894446761] Starting query handling for site: npr podcasts, query_id: 
2025-02-18 08:00:47,297 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.376988 seconds
2025-02-18 08:00:55,017 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739894446761] Query handling completed successfully
2025-02-18 08:00:55,029 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:01:36,020 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894496020] Received GET request for path: /html/str_chat.html
2025-02-18 08:01:36,027 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:01:36,037 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894496037] Received GET request for path: /html/streaming.js
2025-02-18 08:01:36,042 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894496042] Received GET request for path: /html/clear.jpeg
2025-02-18 08:01:36,043 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894496043] Received GET request for path: /html/debug.png
2025-02-18 08:01:36,046 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894496046] Received GET request for path: /favicon.ico
2025-02-18 08:01:45,681 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894505680] Received GET request for path: /?query=potential%20side%20effects%20of%20semaglutide&site=med%20podcast&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 08:01:45,682 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739894505680] Received parameters: {'query': ['potential side effects of semaglutide'], 'site': ['med podcast'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 08:01:45,683 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739894505680] Processing query with handler: BaseNLWebHandler
2025-02-18 08:01:45,684 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739894505684] Starting query handling for site: med podcast, query_id: 
2025-02-18 08:01:46,238 [Thread-12 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.460044 seconds
2025-02-18 08:01:53,670 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739894505684] Query handling completed successfully
2025-02-18 08:01:53,680 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:02:21,595 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894541595] Received GET request for path: /?query=potential%20side%20effects%20of%20semaglutide&site=med%20podcast&model=gpt-4o&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 08:02:21,598 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739894541595] Received parameters: {'query': ['potential side effects of semaglutide'], 'site': ['med podcast'], 'model': ['gpt-4o'], 'prev': ['[]']}
2025-02-18 08:02:21,599 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739894541595] Processing query with handler: BaseNLWebHandler
2025-02-18 08:02:21,599 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739894541599] Starting query handling for site: med podcast, query_id: 
2025-02-18 08:02:22,342 [Thread-13 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.387165 seconds
2025-02-18 08:02:29,699 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739894541599] Query handling completed successfully
2025-02-18 08:02:29,711 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:03:53,389 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-18 08:03:56,681 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894636681] Received GET request for path: /html/str_chat.html
2025-02-18 08:03:56,698 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894636698] Received GET request for path: /html/streaming.js
2025-02-18 08:03:56,725 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894636725] Received GET request for path: /favicon.ico
2025-02-18 08:04:01,414 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894641414] Received GET request for path: /?query=potential%20side%20effects%20of%20semaglutide&site=npr%20podcasts&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 08:04:01,415 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739894641414] Received parameters: {'query': ['potential side effects of semaglutide'], 'site': ['npr podcasts'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 08:04:01,418 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739894641414] Processing query with handler: BaseNLWebHandler
2025-02-18 08:04:01,419 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739894641419] Starting query handling for site: npr podcasts, query_id: 
2025-02-18 08:04:19,582 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739894641419] Query handling completed successfully
2025-02-18 08:04:19,599 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:04:40,088 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894680088] Received GET request for path: /?query=historic%20impact%20of%20tarrifs%20on%20various%20sectors%20of%20the%20economy&site=npr%20podcasts&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 08:04:40,090 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739894680088] Received parameters: {'query': ['historic impact of tarrifs on various sectors of the economy'], 'site': ['npr podcasts'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 08:04:40,091 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739894680088] Processing query with handler: BaseNLWebHandler
2025-02-18 08:04:40,092 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739894680092] Starting query handling for site: npr podcasts, query_id: 
2025-02-18 08:04:41,207 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.388920 seconds
2025-02-18 08:04:50,375 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739894680092] Query handling completed successfully
2025-02-18 08:04:50,385 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:05:32,164 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894732164] Received GET request for path: /?query=how%20have%20tarrifs%20affected%20different%20sectors%20of%20the%20economy%20in%20the%20past&site=npr%20podcasts&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 08:05:32,166 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739894732164] Received parameters: {'query': ['how have tarrifs affected different sectors of the economy in the past'], 'site': ['npr podcasts'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 08:05:32,167 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739894732164] Processing query with handler: BaseNLWebHandler
2025-02-18 08:05:32,167 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739894732167] Starting query handling for site: npr podcasts, query_id: 
2025-02-18 08:05:32,838 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.471396 seconds
2025-02-18 08:05:37,256 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739894732167] Query handling completed successfully
2025-02-18 08:05:37,273 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:06:31,743 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894791743] Received GET request for path: /?query=how%20have%20tariffs%20affected%20different%20sectors%20of%20the%20economy%20in%20the%20past&site=npr%20podcasts&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 08:06:31,746 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739894791743] Received parameters: {'query': ['how have tariffs affected different sectors of the economy in the past'], 'site': ['npr podcasts'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 08:06:31,746 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739894791743] Processing query with handler: BaseNLWebHandler
2025-02-18 08:06:31,747 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739894791747] Starting query handling for site: npr podcasts, query_id: 
2025-02-18 08:06:32,781 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.448915 seconds
2025-02-18 08:06:58,228 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739894818228] Received GET request for path: /?query=how%20have%20tariffs%20affected%20different%20sectors%20of%20the%20economy%20in%20the%20past&site=npr%20podcasts&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 08:06:58,230 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739894818228] Received parameters: {'query': ['how have tariffs affected different sectors of the economy in the past'], 'site': ['npr podcasts'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 08:06:58,231 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739894818228] Processing query with handler: BaseNLWebHandler
2025-02-18 08:06:58,231 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739894818231] Starting query handling for site: npr podcasts, query_id: 
2025-02-18 08:07:14,599 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739894818231] Query handling completed successfully
2025-02-18 08:07:14,615 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:07:55,270 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.429000 seconds
2025-02-18 08:07:58,334 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739894791747] Query handling completed successfully
2025-02-18 08:08:47,420 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-18 08:25:15,046 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739895915045] Received GET request for path: /html/streaming.js
2025-02-18 08:25:16,191 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739895916191] Received GET request for path: /favicon.ico
2025-02-18 08:25:38,441 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739895938441] Received GET request for path: /?query=how%20have%20tarrifs%20affected%20different%20sectors%20of%20the%20economy%20in%20the%20past&site=npr%20podcasts&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 08:25:38,444 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739895938441] Received parameters: {'query': ['how have tarrifs affected different sectors of the economy in the past'], 'site': ['npr podcasts'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 08:25:38,447 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739895938441] Processing query with handler: BaseNLWebHandler
2025-02-18 08:25:38,447 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739895938447] Starting query handling for site: npr podcasts, query_id: 
2025-02-18 08:25:46,572 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739895938447] Query handling completed successfully
2025-02-18 08:25:46,581 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:26:42,115 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739896002115] Received GET request for path: /?query=how%20have%20tarrifs%20affected%20different%20sectors%20of%20the%20economy%20in%20the%20past&site=npr%20podcasts&model=gpt-4o&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 08:26:42,118 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739896002115] Received parameters: {'query': ['how have tarrifs affected different sectors of the economy in the past'], 'site': ['npr podcasts'], 'model': ['gpt-4o'], 'prev': ['[]']}
2025-02-18 08:26:42,119 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739896002115] Processing query with handler: BaseNLWebHandler
2025-02-18 08:26:42,119 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739896002119] Starting query handling for site: npr podcasts, query_id: 
2025-02-18 08:26:43,217 [Thread-7 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.490397 seconds
2025-02-18 08:26:48,322 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739896002119] Query handling completed successfully
2025-02-18 08:26:48,330 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:27:21,327 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739896041327] Received GET request for path: /html/str_chat.html
2025-02-18 08:27:21,336 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 08:27:21,348 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739896041348] Received GET request for path: /favicon.ico
2025-02-18 08:27:50,009 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739896070009] Received GET request for path: /?query=historic%20impact%20of%20tariffs%20on%20different%20parts%20of%20the%20economy&site=npr%20podcasts&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 08:27:50,011 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739896070009] Received parameters: {'query': ['historic impact of tariffs on different parts of the economy'], 'site': ['npr podcasts'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 08:27:50,011 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739896070009] Processing query with handler: BaseNLWebHandler
2025-02-18 08:27:50,012 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739896070012] Starting query handling for site: npr podcasts, query_id: 
2025-02-18 08:27:51,321 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,326 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,332 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,334 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,335 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,335 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,337 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,338 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,340 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,341 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,344 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,355 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,365 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,367 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,472 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,498 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:51,830 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 08:27:55,466 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 08:27:55,502 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 08:27:55,505 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 08:27:55,507 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 08:27:55,511 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 08:27:55,514 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 08:27:55,519 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 08:27:55,521 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 08:27:55,524 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 08:27:55,544 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 08:27:55,547 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 08:27:55,626 [Thread-9 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 08:28:05,320 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739896070012] Query handling completed successfully
2025-02-18 08:28:05,335 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:21:48,109 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899308109] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:21:48,113 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899308109] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 09:21:48,115 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899308109] Processing query with handler: BaseNLWebHandler
2025-02-18 09:21:48,117 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899308117] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:21:49,513 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.468455 seconds
2025-02-18 09:21:54,322 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739899308117] Query handling completed successfully
2025-02-18 09:21:54,338 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:22:06,886 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899326886] Received GET request for path: /?query=summer%20outer%20wear%20for%20women%20for%20Palo%20Alto&site=backcountry&model=gpt-4o-mini&prev=%5B%22summer%20outer%20wear%20for%20Palo%20Alto%22%5D&item_to_remember=&context_url=
2025-02-18 09:22:06,887 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899326886] Received parameters: {'query': ['summer outer wear for women for Palo Alto'], 'site': ['backcountry'], 'model': ['gpt-4o-mini'], 'prev': ['["summer outer wear for Palo Alto"]']}
2025-02-18 09:22:06,887 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899326886] Processing query with handler: BaseNLWebHandler
2025-02-18 09:22:06,888 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899326888] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:22:06,895 [Thread-11 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.453254 seconds
2025-02-18 09:22:15,604 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739899326888] Query handling completed successfully
2025-02-18 09:22:15,616 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:22:40,815 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899360815] Received GET request for path: /?query=womens%20summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:22:40,816 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899360815] Received parameters: {'query': ['womens summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 09:22:40,817 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899360815] Processing query with handler: BaseNLWebHandler
2025-02-18 09:22:40,817 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899360817] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:22:41,536 [Thread-12 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.480790 seconds
2025-02-18 09:22:50,532 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739899360817] Query handling completed successfully
2025-02-18 09:22:50,550 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:23:22,291 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899402291] Received GET request for path: /?query=fall%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:23:22,293 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899402291] Received parameters: {'query': ['fall outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 09:23:22,294 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899402291] Processing query with handler: BaseNLWebHandler
2025-02-18 09:23:22,294 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899402294] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:23:23,115 [Thread-13 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.421982 seconds
2025-02-18 09:23:28,705 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739899402294] Query handling completed successfully
2025-02-18 09:23:28,724 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:23:49,417 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899429417] Received GET request for path: /?query=summer%20outerwear%20for%20Palo%20Alto&site=backcountry&model=gpt-4o-mini&prev=%5B%22fall%20outer%20wear%20for%20Palo%20Alto%22%5D&item_to_remember=&context_url=
2025-02-18 09:23:49,419 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899429417] Received parameters: {'query': ['summer outerwear for Palo Alto'], 'site': ['backcountry'], 'model': ['gpt-4o-mini'], 'prev': ['["fall outer wear for Palo Alto"]']}
2025-02-18 09:23:49,419 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899429417] Processing query with handler: BaseNLWebHandler
2025-02-18 09:23:49,420 [Thread-14 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899429420] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:23:49,427 [Thread-14 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.478395 seconds
2025-02-18 09:24:05,052 [Thread-14 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739899429420] Query handling completed successfully
2025-02-18 09:24:05,071 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:24:21,493 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899461493] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gpt-4o&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:24:21,494 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899461493] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gpt-4o'], 'prev': ['[]']}
2025-02-18 09:24:21,495 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899461493] Processing query with handler: BaseNLWebHandler
2025-02-18 09:24:21,495 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899461495] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:24:22,858 [Thread-15 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.454232 seconds
2025-02-18 09:24:31,613 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739899461495] Query handling completed successfully
2025-02-18 09:24:31,622 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:25:48,305 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899548305] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:25:48,307 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899548305] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:25:48,309 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899548305] Processing query with handler: BaseNLWebHandler
2025-02-18 09:25:48,309 [Thread-16 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899548309] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:25:49,345 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899548309] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:25:49,357 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899548309] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:25:49,357 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899548305] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:25:49,361 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899548305] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:25:49,362 [Thread-16 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:25:52,372 [Thread-79 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899552372] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:25:52,374 [Thread-79 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899552372] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:25:52,375 [Thread-79 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899552372] Processing query with handler: BaseNLWebHandler
2025-02-18 09:25:52,375 [Thread-79 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899552375] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:25:53,237 [Thread-79 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899552375] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:25:53,242 [Thread-79 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899552375] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:25:53,244 [Thread-79 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899552372] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:25:53,254 [Thread-79 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899552372] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:25:53,259 [Thread-79 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:25:56,266 [Thread-142 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899556266] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:25:56,267 [Thread-142 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899556266] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:25:56,267 [Thread-142 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899556266] Processing query with handler: BaseNLWebHandler
2025-02-18 09:25:56,268 [Thread-142 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899556268] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:25:57,304 [Thread-142 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899556268] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:25:57,308 [Thread-142 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899556268] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:25:57,308 [Thread-142 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899556266] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:25:57,312 [Thread-142 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899556266] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:25:57,314 [Thread-142 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:25:57,766 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-522' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,767 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-523' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,767 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-524' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,767 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-525' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,767 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-526' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,768 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-527' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,768 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-528' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,768 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-529' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,768 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-530' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,768 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-531' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,768 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-533' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,768 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-534' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,768 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-535' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,768 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-536' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,769 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-537' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,769 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-538' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,769 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-539' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,769 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-540' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,769 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-541' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,769 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-542' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,769 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-543' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,769 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-544' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,769 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-545' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,769 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-546' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-547' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-548' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-549' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-550' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-551' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-552' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-553' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-554' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-555' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-556' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-557' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-558' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-559' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-560' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-561' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,770 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-562' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,771 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-563' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,771 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-564' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,771 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-565' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,771 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-566' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,771 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-567' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,771 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-568' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,771 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-569' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,771 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-570' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,771 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-571' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:25:57,771 [asyncio_5] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:00,321 [Thread-205 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899560320] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:00,321 [Thread-205 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899560320] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:00,321 [Thread-205 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899560320] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:00,322 [Thread-205 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899560322] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:01,305 [Thread-205 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899560322] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:01,308 [Thread-205 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899560322] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:01,309 [Thread-205 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899560320] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:01,312 [Thread-205 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899560320] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:01,312 [Thread-205 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:04,319 [Thread-268 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899564319] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:04,319 [Thread-268 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899564319] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:04,320 [Thread-268 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899564319] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:04,321 [Thread-268 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899564321] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:05,585 [Thread-268 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899564321] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:05,587 [Thread-268 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899564321] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:05,588 [Thread-268 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899564319] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:05,590 [Thread-268 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899564319] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:05,590 [Thread-268 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:08,596 [Thread-331 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899568596] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:08,596 [Thread-331 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899568596] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:08,597 [Thread-331 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899568596] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:08,597 [Thread-331 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899568597] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:09,032 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-626' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,033 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-627' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,033 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-628' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,034 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-630' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,034 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-631' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,034 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-632' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,034 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-633' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,034 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-634' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,034 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-635' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,034 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-636' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,035 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-637' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,035 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-638' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,035 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-639' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,035 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-640' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,035 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-641' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,035 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-642' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,035 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-643' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,036 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-644' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,036 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-645' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,036 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-646' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,036 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-647' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,036 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-648' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,036 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-649' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-650' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-651' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-652' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-653' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-654' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-655' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-656' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-657' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-658' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-659' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-660' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-661' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-662' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-663' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-664' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-665' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-666' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-667' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-668' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-669' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-670' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-671' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-672' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-673' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-674' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-675' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,038 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:09,039 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-679' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,039 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-680' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,039 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-681' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,039 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-682' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-683' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-684' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-685' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-686' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-687' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-688' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-689' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-690' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-691' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-692' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-693' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-694' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-695' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-696' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-697' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-698' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-699' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-700' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-701' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-702' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-703' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-704' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-705' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-706' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-707' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-708' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-709' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-710' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-711' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-712' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-713' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-714' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-715' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-716' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-717' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,040 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-718' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,041 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-719' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,041 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-720' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,041 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-721' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,041 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-722' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,041 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-723' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,041 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-724' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,041 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-725' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,041 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-726' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,041 [asyncio_0] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-727' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:09,045 [Thread-332 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899569045] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-1.5-pro&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:09,045 [Thread-332 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899569045] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-1.5-pro'], 'prev': ['[]']}
2025-02-18 09:26:09,045 [Thread-332 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899569045] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:09,045 [Thread-332 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899569045] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:09,215 [Thread-331 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899568597] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:09,218 [Thread-331 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899568597] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:09,218 [Thread-331 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899568596] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:09,221 [Thread-331 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899568596] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:09,221 [Thread-331 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:09,941 [Thread-332 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899569045] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:09,943 [Thread-332 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899569045] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:09,943 [Thread-332 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899569045] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:09,946 [Thread-332 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899569045] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:09,947 [Thread-332 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:12,228 [Thread-457 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899572228] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:12,228 [Thread-457 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899572228] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:12,229 [Thread-457 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899572228] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:12,229 [Thread-457 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899572229] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:12,845 [Thread-457 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899572229] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:12,847 [Thread-457 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899572229] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:12,849 [Thread-457 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899572228] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:12,852 [Thread-457 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899572228] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:12,853 [Thread-457 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:12,953 [Thread-494 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899572953] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-1.5-pro&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:12,953 [Thread-494 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899572953] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-1.5-pro'], 'prev': ['[]']}
2025-02-18 09:26:12,954 [Thread-494 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899572953] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:12,954 [Thread-494 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899572954] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:13,309 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-782' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,310 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-783' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,311 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-784' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,312 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-785' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,312 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-786' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,312 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-787' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,313 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-788' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,313 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-790' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,313 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-791' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,313 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-792' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,313 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-793' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,314 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-794' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,314 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-795' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,314 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-796' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,314 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-797' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,314 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-798' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,314 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-799' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,314 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-800' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,314 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-801' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,315 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-802' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,315 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-803' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,315 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-804' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,315 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-805' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,315 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-806' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,315 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-807' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,315 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-808' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,315 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-809' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,316 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-810' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,316 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-811' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,316 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-812' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,316 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-813' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,316 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-814' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,316 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-815' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,316 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-816' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,316 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-817' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,316 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-818' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,317 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-819' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,317 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-820' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,317 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-821' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,317 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-822' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,317 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-823' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,317 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-824' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,317 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-825' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,317 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-826' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,317 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-827' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,317 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-828' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,318 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-829' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,318 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-830' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,318 [asyncio_10] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-831' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:13,882 [Thread-494 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899572954] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:13,884 [Thread-494 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899572954] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:13,884 [Thread-494 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899572953] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:13,886 [Thread-494 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899572953] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:13,886 [Thread-494 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:15,858 [Thread-583 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899575858] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:15,858 [Thread-583 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899575858] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:15,859 [Thread-583 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899575858] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:15,859 [Thread-583 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899575859] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:16,891 [Thread-584 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899576891] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-1.5-pro&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:16,891 [Thread-584 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899576891] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-1.5-pro'], 'prev': ['[]']}
2025-02-18 09:26:16,892 [Thread-584 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899576891] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:16,892 [Thread-584 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899576892] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:17,025 [Thread-583 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899575859] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:17,030 [Thread-583 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899575859] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:17,031 [Thread-583 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899575858] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:17,036 [Thread-583 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899575858] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:17,037 [Thread-583 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:17,789 [Thread-584 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899576892] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:17,792 [Thread-584 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899576892] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:17,793 [Thread-584 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899576891] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:17,796 [Thread-584 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899576891] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:17,796 [Thread-584 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:20,043 [Thread-709 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899580043] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:20,043 [Thread-709 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899580043] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:20,044 [Thread-709 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899580043] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:20,044 [Thread-709 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899580044] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:20,801 [Thread-710 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899580801] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-1.5-pro&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:20,801 [Thread-710 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899580801] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-1.5-pro'], 'prev': ['[]']}
2025-02-18 09:26:20,801 [Thread-710 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899580801] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:20,801 [Thread-710 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899580801] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:20,900 [Thread-709 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899580044] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:20,905 [Thread-709 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899580044] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:20,906 [Thread-709 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899580043] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:20,909 [Thread-709 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899580043] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:20,911 [Thread-709 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:21,559 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1043' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,559 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1044' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,560 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1045' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,560 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1046' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,560 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1047' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,561 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1048' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,561 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1050' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,561 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1051' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,562 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1052' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,562 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1053' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,562 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1054' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1055' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1056' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1057' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1058' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1059' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1060' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1061' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1062' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1063' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1064' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1065' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1066' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,563 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1067' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1068' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1069' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1070' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1071' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1072' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1073' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1074' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1075' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1076' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1077' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1078' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1079' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1080' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1081' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1082' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1083' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1084' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1085' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1086' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1087' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1088' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1089' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1090' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1091' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:21,564 [asyncio_2] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:21,781 [Thread-710 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899580801] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:21,786 [Thread-710 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899580801] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:21,786 [Thread-710 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899580801] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:21,790 [Thread-710 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899580801] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:21,790 [Thread-710 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-485' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-486' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-487' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-488' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-489' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-490' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-491' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-492' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-493' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-494' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-495' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-496' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-497' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,312 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-498' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-499' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-500' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-501' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-502' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-503' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-504' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-505' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-506' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-507' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-508' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-509' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-510' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-511' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-512' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-513' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-514' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-515' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-516' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-517' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-518' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-519' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-484' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,313 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-483' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-482' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-481' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-480' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-478' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-477' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-476' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-475' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-474' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-473' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-472' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-471' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-470' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-620' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-621' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-622' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-623' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-619' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-618' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-617' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-616' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-615' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,314 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-614' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-613' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-612' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-611' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-610' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-609' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-608' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-607' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-606' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-605' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-604' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-603' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-602' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-601' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-600' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-599' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-598' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-597' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-596' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-595' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-594' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-593' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-592' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-591' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-590' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-589' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-588' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-587' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-586' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-585' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-584' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-583' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-582' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-581' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-579' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-578' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-577' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-575' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,315 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-574' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-730' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-732' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-733' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-734' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-735' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-736' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-737' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-738' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-739' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-740' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-741' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-742' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-743' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-744' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-745' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-746' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,316 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-747' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-748' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-749' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-750' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-751' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-752' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-753' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-754' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-755' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-756' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-757' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-758' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-759' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-760' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-761' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-762' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-763' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-764' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-765' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-766' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-767' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-768' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-769' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-770' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-771' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-772' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-773' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-774' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-775' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-776' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-777' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-778' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,317 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-779' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-868' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-869' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-871' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-872' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-873' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-874' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-875' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-876' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-877' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-878' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-879' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-880' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-881' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-882' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-883' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-870' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-867' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-866' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-865' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-864' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,318 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-863' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-862' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-861' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-860' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-859' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-858' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-857' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-856' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-855' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-854' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-853' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-852' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-851' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-850' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-849' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-848' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-847' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-846' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-845' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-844' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-843' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-842' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-841' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-840' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-839' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-838' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-837' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-836' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-834' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,319 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:22,320 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-935' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,320 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-934' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,320 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-933' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,320 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-932' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,320 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-931' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-930' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-929' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-928' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-927' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-926' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-925' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-924' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-923' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-922' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-921' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-920' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-919' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-918' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-917' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-916' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-915' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-914' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-913' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-912' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-911' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-910' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-909' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-908' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-907' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-906' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-905' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-904' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-903' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-902' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-901' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-900' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-899' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-898' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-897' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-896' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,321 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-895' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-894' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-893' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-892' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-891' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-890' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-889' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-888' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-886' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-987' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-986' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-985' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-984' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-983' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-982' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-981' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-980' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-979' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-978' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-977' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,322 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-976' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-975' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-974' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-973' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-972' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-971' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-970' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-969' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-968' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-967' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-966' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-965' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-964' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-963' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-962' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-961' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-960' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-959' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-958' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-957' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-956' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-955' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-954' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-953' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-952' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-951' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-950' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-949' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-948' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-947' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-946' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-945' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-943' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-942' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-941' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-939' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,323 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-938' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,324 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1039' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1038' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1037' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1036' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1035' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1034' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1033' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1032' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1031' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1030' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1029' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1028' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1027' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1026' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1025' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1024' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1023' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1022' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1021' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1020' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1019' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1018' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1017' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1016' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,325 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1015' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1014' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1013' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1012' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1011' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1010' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1009' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1008' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1007' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1006' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1005' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1004' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1003' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1002' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1001' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1000' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-999' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-998' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-997' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-996' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-995' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-994' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-993' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-992' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:22,326 [asyncio_1] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-990' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:23,916 [Thread-835 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899583916] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:23,917 [Thread-835 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899583916] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:23,917 [Thread-835 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899583916] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:23,918 [Thread-835 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899583918] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:24,730 [Thread-835 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899583918] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:24,735 [Thread-835 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899583918] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:24,736 [Thread-835 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899583916] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:24,742 [Thread-835 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899583916] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:24,743 [Thread-835 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:24,800 [Thread-860 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899584800] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-1.5-pro&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:24,801 [Thread-860 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899584800] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-1.5-pro'], 'prev': ['[]']}
2025-02-18 09:26:24,802 [Thread-860 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899584800] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:24,803 [Thread-860 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899584803] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:25,356 [Thread-898 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899585356] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:25,356 [Thread-898 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899585356] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:26:25,357 [Thread-898 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899585356] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:25,357 [Thread-898 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899585357] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:25,690 [Thread-860 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899584803] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:25,696 [Thread-860 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899584803] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:25,696 [Thread-860 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899584800] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:25,701 [Thread-860 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899584800] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:25,702 [Thread-860 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:26,020 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.423616 seconds
2025-02-18 09:26:26,893 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:26,903 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:26,922 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:26,925 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:26,926 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:26,937 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:26,952 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:26,956 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:26,958 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:26,960 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:26,998 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:27,000 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:27,031 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:27,056 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:27,074 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:27,111 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:27,136 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:27,269 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:27,749 [Thread-986 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899587749] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:27,750 [Thread-986 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899587749] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:27,751 [Thread-986 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899587749] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:27,751 [Thread-986 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899587751] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:28,686 [Thread-986 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899587751] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:28,691 [Thread-986 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899587751] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:28,691 [Thread-986 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899587749] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:28,695 [Thread-986 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899587749] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:28,695 [Thread-986 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:28,707 [Thread-1013 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899588707] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-1.5-pro&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:28,707 [Thread-1013 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899588707] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-1.5-pro'], 'prev': ['[]']}
2025-02-18 09:26:28,708 [Thread-1013 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899588707] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:28,708 [Thread-1013 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899588708] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:30,205 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:30,225 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:30,285 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:30,290 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:31,122 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:26:31,148 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:31,150 [Thread-898 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:26:31,702 [Thread-1074 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899591702] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:31,703 [Thread-1074 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899591702] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:31,704 [Thread-1074 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899591702] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:31,704 [Thread-1074 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899591704] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:32,336 [Thread-1074 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899591704] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:32,338 [Thread-1074 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899591704] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:32,338 [Thread-1074 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899591702] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:32,341 [Thread-1074 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899591702] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:32,342 [Thread-1074 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:34,391 [Thread-898 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899585357] Error in handle_query: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:26:34,401 [Thread-898 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899585357] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:26:34,402 [Thread-898 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899585356] Error handling request: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:26:34,405 [Thread-898 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899585356] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:26:34,406 [Thread-898 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:35,351 [Thread-1171 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899595351] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:35,352 [Thread-1171 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899595351] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:35,352 [Thread-1171 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899595351] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:35,352 [Thread-1171 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899595352] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:35,844 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1451' coro=<BaseNLWebHandler.rankItem() done, defined at /Users/guha/nlweb/code/strv2/baseHandler.py:77> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1408' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1409' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1410' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1411' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1412' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1413' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1414' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1415' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1416' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1417' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1418' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1419' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1420' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1421' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1422' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1423' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1424' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1425' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1426' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1427' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1428' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1429' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1430' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1431' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1432' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1433' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1434' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1435' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1436' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1437' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1438' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1439' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1440' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1441' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,845 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1442' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1443' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1444' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1445' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1446' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1447' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1448' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1449' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1450' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1452' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1453' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1454' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1455' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:35,846 [Thread-1171 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:36,010 [Thread-1171 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899595352] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:36,012 [Thread-1171 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899595352] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:36,013 [Thread-1171 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899595351] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:36,014 [Thread-1171 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899595351] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:36,015 [Thread-1171 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:37,411 [Thread-1253 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899597411] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:37,411 [Thread-1253 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899597411] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:26:37,412 [Thread-1253 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899597411] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:37,412 [Thread-1253 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899597412] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:38,073 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.404831 seconds
2025-02-18 09:26:38,091 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.452570 seconds
2025-02-18 09:26:38,305 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,306 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,317 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,319 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,319 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,326 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,327 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,328 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,328 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,335 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,336 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,344 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,345 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,348 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,349 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,350 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,355 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,356 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,357 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,363 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,366 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,368 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,369 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,370 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,379 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,381 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,383 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,389 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 12.000000 seconds
2025-02-18 09:26:38,394 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,396 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,399 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,404 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,418 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,421 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,430 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,442 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,446 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:26:38,464 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 12.000000 seconds
2025-02-18 09:26:38,468 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 12.000000 seconds
2025-02-18 09:26:38,474 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 11.000000 seconds
2025-02-18 09:26:38,484 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 14.000000 seconds
2025-02-18 09:26:38,486 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 13.000000 seconds
2025-02-18 09:26:38,488 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 15.000000 seconds
2025-02-18 09:26:38,513 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 11.000000 seconds
2025-02-18 09:26:38,690 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,840 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,845 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:38,883 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 11.000000 seconds
2025-02-18 09:26:38,989 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:39,010 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:39,019 [Thread-1261 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899599019] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:39,019 [Thread-1261 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899599019] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:39,020 [Thread-1261 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899599019] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:39,020 [Thread-1261 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899599020] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:39,872 [Thread-1261 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899599020] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:39,874 [Thread-1261 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899599020] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:39,874 [Thread-1261 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899599019] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:39,878 [Thread-1261 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899599019] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:39,878 [Thread-1261 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:41,253 [Thread-1013 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739899588708] Query handling completed successfully
2025-02-18 09:26:41,260 [Thread-1013 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:42,883 [Thread-1324 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899602883] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:42,884 [Thread-1324 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899602883] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:42,885 [Thread-1324 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899602883] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:42,885 [Thread-1324 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899602885] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:43,586 [Thread-1324 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899602885] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:43,591 [Thread-1324 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899602885] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:43,592 [Thread-1324 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899602883] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:43,598 [Thread-1324 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899602883] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:43,598 [Thread-1324 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:46,605 [Thread-1387 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899606604] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:46,605 [Thread-1387 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899606604] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:46,606 [Thread-1387 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899606604] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:46,606 [Thread-1387 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899606606] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:47,189 [Thread-1387 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899606606] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:47,192 [Thread-1387 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899606606] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:47,192 [Thread-1387 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899606604] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:47,194 [Thread-1387 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899606604] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:47,194 [Thread-1387 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:47,528 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:26:47,533 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:47,545 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:26:47,553 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:26:47,577 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:26:47,597 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:47,602 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:47,630 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1614' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,631 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1616' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,632 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1617' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,632 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1618' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,632 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1619' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,633 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1620' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,633 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:47,633 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1621' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,634 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1622' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,634 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1623' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,634 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1624' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,634 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1625' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,634 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1626' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,637 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1627' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,637 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1628' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,637 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1629' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,638 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1630' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,638 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1631' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,638 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:47,638 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1632' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,638 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1633' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,638 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1634' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,639 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1635' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,639 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1636' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,640 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1637' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,640 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1638' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,640 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1639' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,640 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1640' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,640 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:47,640 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1641' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,641 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1642' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,641 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1643' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,641 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1644' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,641 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1645' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,641 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1646' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,641 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1647' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,641 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1648' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,641 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1649' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,641 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1650' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,641 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1651' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,641 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1652' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,642 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1653' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,642 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1654' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,642 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1655' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,642 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1656' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,642 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1657' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,642 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1658' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,642 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1659' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,642 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1660' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,642 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1661' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,642 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1662' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,642 [asyncio_4] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1663' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:47,652 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:47,660 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:47,676 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:26:47,683 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:26:47,705 [Thread-1253 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:26:48,006 [Thread-1253 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899597412] Error in handle_query: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:26:48,012 [Thread-1253 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899597412] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:26:48,014 [Thread-1253 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899597411] Error handling request: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:26:48,018 [Thread-1253 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899597411] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:26:48,019 [Thread-1253 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:50,199 [Thread-1450 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899610199] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:50,200 [Thread-1450 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899610199] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:50,200 [Thread-1450 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899610199] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:50,201 [Thread-1450 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899610201] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:51,025 [Thread-1459 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899611025] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:51,025 [Thread-1459 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899611025] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:26:51,026 [Thread-1459 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899611025] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:51,026 [Thread-1459 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899611026] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:51,110 [Thread-1450 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899610201] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:51,115 [Thread-1450 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899610201] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:51,116 [Thread-1450 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899610199] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:51,119 [Thread-1450 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899610199] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:51,119 [Thread-1450 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:51,526 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.395848 seconds
2025-02-18 09:26:51,527 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.488836 seconds
2025-02-18 09:26:51,529 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.468026 seconds
2025-02-18 09:26:51,530 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.389953 seconds
2025-02-18 09:26:51,531 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.462925 seconds
2025-02-18 09:26:51,532 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.378981 seconds
2025-02-18 09:26:51,533 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.436216 seconds
2025-02-18 09:26:51,533 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.379775 seconds
2025-02-18 09:26:51,534 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.401173 seconds
2025-02-18 09:26:51,534 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.491389 seconds
2025-02-18 09:26:51,535 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.419420 seconds
2025-02-18 09:26:51,536 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.478362 seconds
2025-02-18 09:26:51,751 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,761 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,762 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,768 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,768 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:51,774 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:51,778 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:51,785 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,791 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,793 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:51,794 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,796 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,800 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:51,806 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,808 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,825 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,828 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:51,830 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:51,833 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,834 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:51,839 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,844 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:51,846 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:51,848 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:51,849 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,851 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,853 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,857 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,867 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:51,877 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:51,878 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:26:51,882 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:26:51,887 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:51,909 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:51,919 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:51,922 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:26:51,923 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:26:52,058 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:52,073 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:26:52,076 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:52,079 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:52,084 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:52,117 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:26:52,121 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:52,148 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:52,181 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:52,198 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:26:52,256 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:26:52,597 [Thread-1459 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:26:53,373 [Thread-1459 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899611026] Error in handle_query: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:26:53,378 [Thread-1459 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899611026] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:26:53,380 [Thread-1459 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899611025] Error handling request: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:26:53,384 [Thread-1459 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899611025] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:26:53,385 [Thread-1459 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:54,126 [Thread-1514 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899614126] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:54,126 [Thread-1514 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899614126] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:54,127 [Thread-1514 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899614126] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:54,127 [Thread-1514 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899614127] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:54,677 [Thread-1514 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899614127] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:54,679 [Thread-1514 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899614127] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:54,679 [Thread-1514 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899614126] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:54,681 [Thread-1514 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899614126] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:54,681 [Thread-1514 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:26:56,391 [Thread-1588 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899616391] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:56,392 [Thread-1588 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899616391] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:26:56,393 [Thread-1588 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899616391] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:56,393 [Thread-1588 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899616393] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:56,921 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.478229 seconds
2025-02-18 09:26:56,923 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.447397 seconds
2025-02-18 09:26:56,948 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.485013 seconds
2025-02-18 09:26:56,949 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.484506 seconds
2025-02-18 09:26:56,951 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.414922 seconds
2025-02-18 09:26:56,952 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.424843 seconds
2025-02-18 09:26:56,953 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.380631 seconds
2025-02-18 09:26:56,953 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.476772 seconds
2025-02-18 09:26:56,954 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.451136 seconds
2025-02-18 09:26:56,955 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.380811 seconds
2025-02-18 09:26:56,955 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.498124 seconds
2025-02-18 09:26:56,956 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.427775 seconds
2025-02-18 09:26:56,970 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1822' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,970 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1824' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1825' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1826' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1827' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1828' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1829' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1830' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1831' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1832' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1833' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1834' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1835' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1836' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1837' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1838' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1839' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1840' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1841' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1842' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1843' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1844' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1845' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1846' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1847' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1848' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1849' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1850' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1851' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1852' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1853' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1854' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1855' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1856' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,971 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1857' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1858' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1859' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1860' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1861' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1862' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1863' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1864' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1865' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1866' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1867' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1868' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1869' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1870' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:56,972 [Thread-1588 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1871' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:26:57,185 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,193 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,199 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,200 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,211 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,216 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,228 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,230 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,233 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,239 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,241 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,244 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,245 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,247 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,247 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,249 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,250 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,251 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,254 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,256 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,267 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,283 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:26:57,285 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,286 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,287 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,294 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,296 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:26:57,305 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,308 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,310 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,312 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:26:57,314 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:26:57,344 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:26:57,346 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:26:57,348 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:26:57,371 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:26:57,450 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,476 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,487 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,494 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:26:57,502 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,514 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,536 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,549 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,557 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,578 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:57,589 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:26:57,636 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:26:57,686 [Thread-1589 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899617686] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:26:57,686 [Thread-1589 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899617686] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:26:57,687 [Thread-1589 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899617686] Processing query with handler: BaseNLWebHandler
2025-02-18 09:26:57,687 [Thread-1589 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899617687] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:26:57,757 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:58,140 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:26:58,346 [Thread-1589 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899617687] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:58,348 [Thread-1589 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899617687] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:58,348 [Thread-1589 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899617686] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:26:58,350 [Thread-1589 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899617686] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:26:58,350 [Thread-1589 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:00,335 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:00,369 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:00,392 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:00,397 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:00,406 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:00,411 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:00,413 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:00,431 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:00,444 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:00,449 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:00,616 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:00,624 [Thread-1588 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:00,673 [Thread-1588 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899616393] Error in handle_query: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:27:00,679 [Thread-1588 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899616393] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:27:00,680 [Thread-1588 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899616391] Error handling request: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:27:00,685 [Thread-1588 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899616391] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:27:00,685 [Thread-1588 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:01,357 [Thread-1652 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899621357] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:27:01,357 [Thread-1652 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899621357] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:27:01,358 [Thread-1652 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899621357] Processing query with handler: BaseNLWebHandler
2025-02-18 09:27:01,358 [Thread-1652 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899621358] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:27:02,315 [Thread-1652 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899621358] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:02,317 [Thread-1652 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899621358] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:27:02,317 [Thread-1652 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899621357] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:02,319 [Thread-1652 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899621357] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:27:02,320 [Thread-1652 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:03,692 [Thread-1715 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899623692] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:27:03,693 [Thread-1715 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899623692] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:27:03,693 [Thread-1715 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899623692] Processing query with handler: BaseNLWebHandler
2025-02-18 09:27:03,694 [Thread-1715 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899623694] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:27:04,096 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1926' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,096 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1927' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,096 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1928' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,096 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1930' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,096 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1931' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,096 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1932' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1933' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1934' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1935' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1936' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1937' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1938' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1939' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1940' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1941' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1942' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1943' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1944' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1945' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1946' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1947' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1948' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1949' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1950' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1951' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1952' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1953' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1954' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1955' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1956' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1957' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1958' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1959' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1960' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1961' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1962' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1963' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,097 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1964' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1965' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1966' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1967' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1968' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1969' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1970' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1971' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1972' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1973' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1974' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1975' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1978' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1979' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1980' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1981' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1982' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1983' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1985' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1986' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1987' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,098 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1988' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1989' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1990' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1991' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1992' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1993' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1994' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1995' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1996' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1997' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1998' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1999' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2000' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2001' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2002' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2003' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2004' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2005' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2006' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2007' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2008' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2009' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2010' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2011' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2012' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2013' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2014' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2015' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2016' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2017' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2018' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2019' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2020' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2021' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2022' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2023' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2024' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2025' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2026' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,099 [Thread-1715 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2027' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:04,104 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.400104 seconds
2025-02-18 09:27:04,128 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.492705 seconds
2025-02-18 09:27:04,129 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.378738 seconds
2025-02-18 09:27:04,130 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.429132 seconds
2025-02-18 09:27:04,131 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.396218 seconds
2025-02-18 09:27:04,131 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.495653 seconds
2025-02-18 09:27:04,132 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.442954 seconds
2025-02-18 09:27:04,133 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.459816 seconds
2025-02-18 09:27:04,385 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,392 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,393 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:27:04,400 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,401 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:04,404 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,408 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,410 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,429 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,431 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:04,437 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:04,439 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:04,446 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,450 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,463 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:27:04,467 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:04,470 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:27:04,472 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,474 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,490 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,492 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,495 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:04,496 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,497 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,498 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:27:04,499 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,501 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,511 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:04,512 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,524 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:04,526 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:27:04,532 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:27:04,537 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:27:04,544 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:04,547 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:04,643 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:27:04,647 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,664 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,675 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:27:04,697 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:27:04,732 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:04,745 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:04,756 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:27:04,775 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:27:04,788 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:27:04,991 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:05,325 [Thread-1716 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899625325] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:27:05,326 [Thread-1716 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899625325] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:27:05,326 [Thread-1716 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899625325] Processing query with handler: BaseNLWebHandler
2025-02-18 09:27:05,327 [Thread-1716 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899625327] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:27:05,629 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:05,640 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:05,772 [Thread-1715 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:27:05,811 [Thread-1715 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899623694] Error in handle_query: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:27:05,812 [Thread-1715 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899623694] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:27:05,813 [Thread-1715 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899623692] Error handling request: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:27:05,814 [Thread-1715 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899623692] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:27:05,814 [Thread-1715 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:06,010 [Thread-1716 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899625327] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:06,012 [Thread-1716 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899625327] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:27:06,013 [Thread-1716 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899625325] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:06,016 [Thread-1716 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899625325] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:27:06,016 [Thread-1716 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:08,821 [Thread-1779 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899628821] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:27:08,821 [Thread-1779 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899628821] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:27:08,822 [Thread-1779 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899628821] Processing query with handler: BaseNLWebHandler
2025-02-18 09:27:08,822 [Thread-1779 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899628822] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:27:09,021 [Thread-1780 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899629021] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:27:09,022 [Thread-1780 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899629021] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:27:09,022 [Thread-1780 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899629021] Processing query with handler: BaseNLWebHandler
2025-02-18 09:27:09,023 [Thread-1780 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899629023] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2082' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2083' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2085' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2086' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2087' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2088' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2089' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2090' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2091' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2092' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2093' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2094' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2095' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2096' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2097' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2098' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2099' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2100' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2101' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2102' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2103' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2104' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2105' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2106' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2107' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2108' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2109' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2110' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2111' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2112' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2113' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2114' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2115' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2116' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2117' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2118' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2119' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,301 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2120' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,302 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2121' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,302 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2122' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,302 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2123' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,302 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2124' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,302 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2125' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,302 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2126' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,302 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2127' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,302 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2128' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,302 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2129' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,302 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2130' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,302 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2131' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:09,302 [Thread-1779 (process_request_thread)] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:09,347 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.427345 seconds
2025-02-18 09:27:09,350 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.399520 seconds
2025-02-18 09:27:09,355 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.393691 seconds
2025-02-18 09:27:09,359 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.475683 seconds
2025-02-18 09:27:09,362 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.467594 seconds
2025-02-18 09:27:09,366 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.418610 seconds
2025-02-18 09:27:09,370 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.489693 seconds
2025-02-18 09:27:09,373 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.382431 seconds
2025-02-18 09:27:09,377 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.397503 seconds
2025-02-18 09:27:09,380 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.388267 seconds
2025-02-18 09:27:09,384 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.471366 seconds
2025-02-18 09:27:09,388 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.476634 seconds
2025-02-18 09:27:09,392 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.410881 seconds
2025-02-18 09:27:09,395 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.436933 seconds
2025-02-18 09:27:09,398 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.444529 seconds
2025-02-18 09:27:09,402 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.401763 seconds
2025-02-18 09:27:09,405 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.385230 seconds
2025-02-18 09:27:09,408 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.449766 seconds
2025-02-18 09:27:09,411 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.437744 seconds
2025-02-18 09:27:09,414 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.462584 seconds
2025-02-18 09:27:09,416 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.447933 seconds
2025-02-18 09:27:09,418 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.470795 seconds
2025-02-18 09:27:09,420 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.461215 seconds
2025-02-18 09:27:09,422 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.437905 seconds
2025-02-18 09:27:09,424 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.455488 seconds
2025-02-18 09:27:09,425 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.480912 seconds
2025-02-18 09:27:09,426 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.409459 seconds
2025-02-18 09:27:09,428 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.385920 seconds
2025-02-18 09:27:09,429 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.488078 seconds
2025-02-18 09:27:09,429 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.484395 seconds
2025-02-18 09:27:09,430 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.431740 seconds
2025-02-18 09:27:09,431 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.429215 seconds
2025-02-18 09:27:09,432 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.390386 seconds
2025-02-18 09:27:09,628 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,629 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,670 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,671 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:27:09,672 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:27:09,673 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:27:09,678 [Thread-1780 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899629023] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:09,678 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,680 [Thread-1780 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899629023] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:27:09,680 [Thread-1780 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899629021] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:09,681 [Thread-1780 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899629021] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:27:09,681 [Thread-1780 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:09,688 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:27:09,689 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,691 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,700 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:27:09,701 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:27:09,703 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:27:09,713 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,722 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,891 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,892 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,923 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:09,925 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:09,929 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,964 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,980 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,985 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,994 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,995 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,996 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:09,997 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:10,001 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:10,028 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:10,034 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:10,055 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:27:10,062 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:10,066 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:10,090 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:10,098 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:10,104 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:10,112 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:27:10,114 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:10,117 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:10,119 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:10,121 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:10,123 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:10,135 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:10,136 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:27:10,150 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:27:10,153 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:10,154 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:10,168 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:27:10,204 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:27:10,679 [Thread-1779 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:27:12,687 [Thread-1843 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899632687] Received GET request for path: /?query=summer%20outer%20wear%20for%20Palo%20Alto&site=backcountry&model=gemini-2.0-flash-exp&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:27:12,688 [Thread-1843 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899632687] Received parameters: {'query': ['summer outer wear for Palo Alto'], 'site': ['backcountry'], 'model': ['gemini-2.0-flash-exp'], 'prev': ['[]']}
2025-02-18 09:27:12,688 [Thread-1843 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899632687] Processing query with handler: BaseNLWebHandler
2025-02-18 09:27:12,689 [Thread-1843 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899632689] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:27:13,770 [Thread-1843 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899632689] Error in handle_query: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:13,780 [Thread-1843 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899632689] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:27:13,781 [Thread-1843 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899632687] Error handling request: Error getting completion: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:13,785 [Thread-1843 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899632687] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 237, in get_structured_completion_async
    response = await asyncio.get_event_loop().run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: 429 Resource has been exhausted (e.g. check quota).

2025-02-18 09:27:13,786 [Thread-1843 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:14,076 [Thread-1779 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739899628822] Error in handle_query: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:27:14,081 [Thread-1779 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739899628822] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:27:14,084 [Thread-1779 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739899628821] Error handling request: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:27:14,088 [Thread-1779 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739899628821] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:27:14,089 [Thread-1779 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:15,392 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1117' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,392 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1119' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,392 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1120' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,392 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1121' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,392 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1122' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,392 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1123' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,392 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1124' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,392 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1125' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,392 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1126' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,392 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1127' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1128' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1129' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1130' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1131' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1132' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1133' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1134' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1135' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1136' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1137' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1138' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1139' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1140' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1141' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1142' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1143' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1118' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1116' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1115' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1114' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1113' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1112' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1111' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1110' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1109' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1108' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1107' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1106' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1105' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1104' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1103' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1102' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1101' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1100' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1099' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1098' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1097' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1096' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,393 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1094' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1183' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1184' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1186' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1188' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1189' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1190' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1192' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1193' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1194' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1195' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1210' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1212' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1213' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1214' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1215' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,394 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1216' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1217' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1218' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1219' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1220' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1221' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1222' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1223' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1224' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1225' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1226' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1227' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1228' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1229' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1230' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1231' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1232' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1233' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1234' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1235' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1236' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1237' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1238' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1239' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1240' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1241' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1242' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1243' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1244' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1245' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1246' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1247' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1191' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1187' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1185' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1182' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1181' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1180' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1179' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1178' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,395 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1177' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1176' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1175' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1174' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1173' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1172' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1171' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1170' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1169' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1168' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1167' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1166' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1165' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1164' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1163' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1162' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1161' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1160' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1159' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1158' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1157' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1156' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1155' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1154' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1153' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1151' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1150' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1149' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1148' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1147' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1146' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1211' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1209' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1207' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1206' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1205' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1204' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1203' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1202' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1201' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1199' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,396 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1198' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1321' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1322' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1323' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1324' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1325' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1326' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1327' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1328' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1329' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1330' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1331' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1332' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1333' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1334' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1335' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1336' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1337' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1338' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1339' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1340' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1341' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1342' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1343' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1344' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1345' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,398 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1346' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1347' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1348' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1349' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1350' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1351' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1320' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1319' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1318' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1317' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1316' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1315' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1314' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1313' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1312' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1311' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1310' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1309' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1308' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1307' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1306' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1305' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1304' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,399 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1303' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1458' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1460' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1461' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1462' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1463' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1464' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1465' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1466' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1467' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1468' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1469' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1470' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1471' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1472' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1473' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1474' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1475' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1476' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1477' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1478' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1479' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1480' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1481' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1482' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1483' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1484' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1485' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1486' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1487' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1488' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1489' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1490' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1491' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1492' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1493' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1494' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1495' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,400 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1496' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,401 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1497' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,401 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1498' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,401 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1499' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,401 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1500' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,401 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1501' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,401 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1502' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,401 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1503' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,401 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1504' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,401 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1505' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,401 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1506' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,401 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1507' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1581' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1582' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1583' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1584' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1585' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1586' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1587' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1588' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1589' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1590' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1591' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1592' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1593' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1594' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1595' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1596' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1597' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1598' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1599' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1600' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1601' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1602' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1603' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1611' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,402 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1610' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1609' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1608' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1607' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1606' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1605' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1604' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1580' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1579' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1578' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1577' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1576' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1575' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1574' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1573' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1572' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1571' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1570' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1569' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1568' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1567' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1566' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1565' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1563' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,403 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1562' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1703' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1704' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1705' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1706' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1707' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1708' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1709' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1710' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1711' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1712' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1713' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1714' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1715' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1702' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1701' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1700' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1699' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1698' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1697' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1696' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1695' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1694' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1693' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1692' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1691' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1690' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1689' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1688' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1687' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1686' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,404 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1685' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1684' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1683' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1682' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1681' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1680' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1679' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1678' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1677' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1676' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1675' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1674' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1673' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1672' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1671' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1670' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1669' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1668' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1666' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,405 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1727' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1764' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1767' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1766' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1765' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1763' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1762' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1761' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1760' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1759' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1758' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1757' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1756' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1755' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1754' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1753' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1752' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1751' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1750' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1749' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1748' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1747' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1746' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1745' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1744' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1743' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1742' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1741' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1740' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1739' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1738' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1737' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1736' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1735' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1734' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1733' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1732' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1731' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1730' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,406 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1729' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1728' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1726' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1725' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1724' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1723' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1722' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1721' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1720' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-1718' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2238' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2239' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2240' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2241' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2242' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2243' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2245' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2246' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2247' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,407 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2248' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2249' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2250' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2251' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2252' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2253' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2254' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2255' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2256' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2257' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2258' coro=<BaseNLWebHandler.rankItem() done, defined at /Users/guha/nlweb/code/strv2/baseHandler.py:77> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2235' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2234' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2233' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2232' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2231' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2230' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2229' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2228' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2227' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2226' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2225' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2224' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2223' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2222' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2221' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2220' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2219' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2218' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2217' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2216' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2215' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2214' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2213' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2212' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2211' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2210' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2209' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2208' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,408 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2207' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2206' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2205' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2204' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2203' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2202' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2201' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2200' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2199' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2198' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2197' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2196' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2195' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2194' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2193' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2192' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2191' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2190' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2189' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2187' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,409 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2186' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2259' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2260' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2261' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2262' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2263' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2264' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2265' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2266' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2267' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2268' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2269' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2270' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2271' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2272' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2273' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2274' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2275' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2276' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2277' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2278' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2279' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2280' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2281' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2282' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2283' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2284' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2285' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2286' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Task was destroyed but it is pending!
task: <Task pending name='Task-2287' coro=<BaseNLWebHandler.rankItem() running at /Users/guha/nlweb/code/strv2/baseHandler.py:81> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:386, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]>
2025-02-18 09:27:15,410 [MainThread] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:15,411 [MainThread] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:15,412 [MainThread] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:15,413 [MainThread] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:15,413 [MainThread] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:15,414 [MainThread] ERROR [asyncio.default_exception_handler:1858] Future exception was never retrieved
future: <Future finished exception=ResourceExhausted('Resource has been exhausted (e.g. check quota).')>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 239, in <lambda>
    lambda: model.generate_content(
            ~~~~~~~~~~~~~~~~~~~~~~^
        gemini_prompt,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        )
        ^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).
2025-02-18 09:27:32,704 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-18 09:27:33,816 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899653816] Received GET request for path: /html/backcountry.html
2025-02-18 09:27:33,841 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899653841] Received GET request for path: /html/BackCountryTop.png
2025-02-18 09:27:33,842 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:33,843 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899653843] Received GET request for path: /html/BackCountryBottom.png
2025-02-18 09:27:33,855 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899653855] Received GET request for path: /favicon.ico
2025-02-18 09:27:39,417 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899659417] Received GET request for path: /html/backcountry.html
2025-02-18 09:27:39,425 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:39,438 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899659438] Received GET request for path: /html/BackCountryTop.png
2025-02-18 09:27:39,438 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899659438] Received GET request for path: /html/BackCountryBottom.png
2025-02-18 09:27:39,439 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:39,444 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899659444] Received GET request for path: /favicon.ico
2025-02-18 09:27:42,646 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899662646] Received GET request for path: /html/backcountry.html
2025-02-18 09:27:42,654 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:42,660 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899662660] Received GET request for path: /html/BackCountryTop.png
2025-02-18 09:27:42,660 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:27:42,666 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899662666] Received GET request for path: /favicon.ico
2025-02-18 09:30:07,951 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-18 09:30:13,442 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899813442] Received GET request for path: /html/backcountry.html
2025-02-18 09:30:13,458 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899813458] Received GET request for path: /html/BackCountryTop.png
2025-02-18 09:30:13,462 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899813462] Received GET request for path: /favicon.ico
2025-02-18 09:30:35,030 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899835030] Received GET request for path: /?query=summer%20outerwear%20for%20Palo%20Alto&site=backcountry&num=16&model=gpt-4o&prev=
2025-02-18 09:30:35,031 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899835030] Received parameters: {'query': ['summer outerwear for Palo Alto'], 'site': ['backcountry'], 'num': ['16'], 'model': ['gpt-4o']}
2025-02-18 09:30:35,033 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899835030] Processing query with handler: BaseNLWebHandler
2025-02-18 09:30:35,034 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899835034] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:30:43,648 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739899835034] Query handling completed successfully
2025-02-18 09:30:43,657 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:30:52,837 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899852837] Received GET request for path: /favicon.ico
2025-02-18 09:31:24,868 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739899884868] Received GET request for path: /?query=summer%20outerwear%20for%20Palo%20Alto&site=backcountry&model=gpt-4o&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:31:24,869 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739899884868] Received parameters: {'query': ['summer outerwear for Palo Alto'], 'site': ['backcountry'], 'model': ['gpt-4o'], 'prev': ['[]']}
2025-02-18 09:31:24,870 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739899884868] Processing query with handler: BaseNLWebHandler
2025-02-18 09:31:24,870 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739899884870] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:31:25,346 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.402375 seconds
2025-02-18 09:31:35,040 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739899884870] Query handling completed successfully
2025-02-18 09:31:35,048 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:31:52,831 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:34:20,163 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900060163] Received GET request for path: /?query=something%20my%20teenage%20daughter%20can%20wear%20to%20school%20in%20the%20fall&site=backcountry&model=gpt-4o&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:34:20,166 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900060163] Received parameters: {'query': ['something my teenage daughter can wear to school in the fall'], 'site': ['backcountry'], 'model': ['gpt-4o'], 'prev': ['[]']}
2025-02-18 09:34:20,168 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900060163] Processing query with handler: BaseNLWebHandler
2025-02-18 09:34:20,169 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900060169] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:34:21,141 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.452476 seconds
2025-02-18 09:34:29,560 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739900060169] Query handling completed successfully
2025-02-18 09:34:29,571 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:34:57,887 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900097887] Received GET request for path: /html/str_chat.html
2025-02-18 09:34:57,895 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:34:57,907 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900097907] Received GET request for path: /html/streaming.js
2025-02-18 09:34:57,914 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900097914] Received GET request for path: /html/debug.png
2025-02-18 09:34:57,914 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900097914] Received GET request for path: /html/clear.jpeg
2025-02-18 09:34:57,918 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900097918] Received GET request for path: /favicon.ico
2025-02-18 09:35:02,267 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:35:14,420 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900114420] Received GET request for path: /?query=something%20my%20daughter%20can%20wear%20at%20college%20in%20northern%20california%2C%20in%20the%20fall&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:35:14,422 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900114420] Received parameters: {'query': ['something my daughter can wear at college in northern california, in the fall'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 09:35:14,424 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900114420] Processing query with handler: Imdb2Handler
2025-02-18 09:35:14,424 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900114424] Starting query handling for site: imdb, query_id: 
2025-02-18 09:35:14,438 [Thread-12 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.494750 seconds
2025-02-18 09:35:15,747 [Thread-12 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Outdoor Gear
2025-02-18 09:35:16,604 [Thread-12 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Outdoor Gear
2025-02-18 09:35:21,831 [Thread-12 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739900114424] Query handling completed successfully
2025-02-18 09:35:21,835 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:35:45,182 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900145182] Received GET request for path: /?query=something%20my%20daughter%20can%20wear%20at%20college%20in%20northern%20california%2C%20in%20the%20spring&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:35:45,184 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900145182] Received parameters: {'query': ['something my daughter can wear at college in northern california, in the spring'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:35:45,185 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900145182] Processing query with handler: BaseNLWebHandler
2025-02-18 09:35:45,185 [Thread-13 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900145185] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:35:46,202 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,207 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,209 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,212 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,212 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,214 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,217 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,221 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,222 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,224 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,226 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,227 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,229 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,231 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,235 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,238 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,368 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:46,709 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:50,398 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:50,402 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:50,407 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:35:50,411 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:50,420 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:50,422 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:50,425 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:50,440 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:50,474 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:50,493 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:50,525 [Thread-13 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:54,581 [Thread-13 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739900145185] Error in handle_query: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:35:54,597 [Thread-13 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739900145185] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:35:54,602 [Thread-13 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739900145182] Error handling request: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:35:54,607 [Thread-13 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739900145182] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:35:54,607 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:35:57,614 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900157614] Received GET request for path: /?query=something%20my%20daughter%20can%20wear%20at%20college%20in%20northern%20california%2C%20in%20the%20spring&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:35:57,614 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900157614] Received parameters: {'query': ['something my daughter can wear at college in northern california, in the spring'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:35:57,615 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900157614] Processing query with handler: BaseNLWebHandler
2025-02-18 09:35:57,615 [Thread-14 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900157615] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:35:58,429 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.415236 seconds
2025-02-18 09:35:58,451 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.444084 seconds
2025-02-18 09:35:58,452 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.446862 seconds
2025-02-18 09:35:58,452 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.390915 seconds
2025-02-18 09:35:58,453 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.462287 seconds
2025-02-18 09:35:58,454 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.486608 seconds
2025-02-18 09:35:58,454 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.396169 seconds
2025-02-18 09:35:58,684 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:58,709 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,717 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:58,721 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,724 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,725 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,731 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,733 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:58,734 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:58,735 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,741 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,743 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,744 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,749 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,750 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,752 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,753 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,755 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,758 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,761 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:58,763 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,768 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,772 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,780 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,782 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,785 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,786 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,787 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,788 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:35:58,790 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:35:58,792 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,793 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:35:58,794 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,796 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,797 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:35:58,804 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,811 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:35:58,813 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:58,825 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:35:58,857 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:58,863 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:35:58,873 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:59,016 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:59,020 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:59,026 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:59,034 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:59,069 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:35:59,109 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:59,145 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:35:59,195 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:00,884 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:00,888 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:00,893 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:00,905 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:00,915 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:00,918 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:00,922 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:00,927 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:00,933 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:00,945 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:00,948 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:01,043 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:01,047 [Thread-14 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:01,172 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739900157615] Error in handle_query: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:36:01,178 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739900157615] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:36:01,182 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739900157614] Error handling request: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:36:01,186 [Thread-14 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739900157614] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:36:01,187 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:36:04,192 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900164192] Received GET request for path: /?query=something%20my%20daughter%20can%20wear%20at%20college%20in%20northern%20california%2C%20in%20the%20spring&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:36:04,193 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900164192] Received parameters: {'query': ['something my daughter can wear at college in northern california, in the spring'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:36:04,194 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900164192] Processing query with handler: BaseNLWebHandler
2025-02-18 09:36:04,194 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900164194] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:36:04,726 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.448847 seconds
2025-02-18 09:36:04,751 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.437621 seconds
2025-02-18 09:36:04,752 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.448261 seconds
2025-02-18 09:36:04,753 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.497714 seconds
2025-02-18 09:36:04,754 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.391318 seconds
2025-02-18 09:36:04,754 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.394844 seconds
2025-02-18 09:36:04,755 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.477118 seconds
2025-02-18 09:36:04,756 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.403899 seconds
2025-02-18 09:36:04,756 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.406065 seconds
2025-02-18 09:36:04,757 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.478497 seconds
2025-02-18 09:36:04,758 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.416685 seconds
2025-02-18 09:36:04,986 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:04,992 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:04,996 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:04,999 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,013 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:05,014 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,015 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:05,018 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:05,019 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:05,020 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,022 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,022 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,023 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:05,024 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,025 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,026 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,032 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,033 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,039 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:05,044 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:05,046 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,047 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:05,054 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:05,057 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:05,059 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,060 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:05,062 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:05,064 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:05,066 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:05,067 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:05,069 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:05,070 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:05,073 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:05,074 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,079 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:05,080 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:05,082 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:05,111 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:05,129 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,319 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:05,324 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,330 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:05,333 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,337 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,343 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,386 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,392 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:05,395 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:05,420 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:06,176 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:06,194 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:06,198 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:06,203 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:06,206 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:06,215 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:06,229 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:06,250 [Thread-15 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:06,491 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739900164194] Error in handle_query: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:36:06,497 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739900164194] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:36:06,498 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739900164192] Error handling request: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:36:06,502 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739900164192] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:36:06,503 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:36:09,509 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900169509] Received GET request for path: /?query=something%20my%20daughter%20can%20wear%20at%20college%20in%20northern%20california%2C%20in%20the%20spring&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:36:09,509 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900169509] Received parameters: {'query': ['something my daughter can wear at college in northern california, in the spring'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:36:09,510 [Thread-16 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900169509] Processing query with handler: BaseNLWebHandler
2025-02-18 09:36:09,510 [Thread-16 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900169510] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:36:10,401 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.460808 seconds
2025-02-18 09:36:10,418 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.451094 seconds
2025-02-18 09:36:10,423 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.486217 seconds
2025-02-18 09:36:10,423 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.383031 seconds
2025-02-18 09:36:10,424 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.471864 seconds
2025-02-18 09:36:10,425 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.443563 seconds
2025-02-18 09:36:10,425 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.499804 seconds
2025-02-18 09:36:10,426 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.480824 seconds
2025-02-18 09:36:10,700 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,702 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:10,706 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,710 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:10,712 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,715 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,715 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,716 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,718 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,719 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,720 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,721 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,723 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,727 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,731 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,731 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,733 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:10,741 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,744 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,745 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,747 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,751 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:10,753 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,756 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,758 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,760 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,765 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,768 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,770 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:10,772 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:10,773 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,779 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:10,781 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:10,783 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:10,787 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:10,806 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:10,829 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:10,994 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,038 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:11,042 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:11,064 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:11,068 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,071 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,074 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,165 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,338 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:11,847 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,862 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,883 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:11,889 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,892 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,896 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,899 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,906 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,912 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,915 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,917 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,925 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:11,930 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:12,511 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:12,864 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:12,866 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:12,885 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:12,899 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:12,903 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:12,915 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:12,919 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:12,924 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:12,927 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:12,935 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:12,958 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:12,999 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:13,330 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:13,876 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:13,880 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:13,920 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:13,924 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:14,089 [Thread-16 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:14,187 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739900169510] Error in handle_query: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:36:14,193 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739900169510] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:36:14,194 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739900169509] Error handling request: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:36:14,198 [Thread-16 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739900169509] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:36:14,199 [Thread-16 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:36:17,204 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900177204] Received GET request for path: /?query=something%20my%20daughter%20can%20wear%20at%20college%20in%20northern%20california%2C%20in%20the%20spring&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:36:17,205 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900177204] Received parameters: {'query': ['something my daughter can wear at college in northern california, in the spring'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:36:17,206 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900177204] Processing query with handler: BaseNLWebHandler
2025-02-18 09:36:17,207 [Thread-17 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900177207] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:36:17,674 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.450123 seconds
2025-02-18 09:36:17,700 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.466132 seconds
2025-02-18 09:36:17,701 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.482350 seconds
2025-02-18 09:36:17,702 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.415201 seconds
2025-02-18 09:36:17,703 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.455414 seconds
2025-02-18 09:36:17,704 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.484264 seconds
2025-02-18 09:36:17,705 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.459675 seconds
2025-02-18 09:36:17,705 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.451847 seconds
2025-02-18 09:36:17,706 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.433785 seconds
2025-02-18 09:36:17,707 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.390915 seconds
2025-02-18 09:36:17,922 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:17,927 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:17,944 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:17,950 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:17,959 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:17,973 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:17,975 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:17,979 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:17,983 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:17,993 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:17,997 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:17,998 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,000 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:18,004 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:18,007 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,017 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:18,020 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,021 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,027 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,033 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,035 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,040 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:18,042 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,044 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:18,045 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:18,046 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:18,048 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:18,050 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:18,057 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,062 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:18,064 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:18,068 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,077 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,081 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:18,083 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:18,085 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:18,113 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,216 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:18,257 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:18,286 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:18,290 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:18,300 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,321 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,336 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,341 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,350 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:18,516 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:18,540 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:18,861 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:19,135 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:19,189 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:19,206 [Thread-17 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:19,478 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739900177207] Error in handle_query: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:36:19,481 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739900177207] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:36:19,482 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739900177204] Error handling request: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:36:19,485 [Thread-17 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739900177204] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1605, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:36:19,485 [Thread-17 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:36:33,618 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-18 09:36:34,517 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900194517] Received GET request for path: /?query=something%20my%20daughter%20can%20wear%20at%20college%20in%20northern%20california%2C%20in%20the%20spring&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:36:34,518 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900194517] Received parameters: {'query': ['something my daughter can wear at college in northern california, in the spring'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:36:34,522 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900194517] Processing query with handler: BaseNLWebHandler
2025-02-18 09:36:34,522 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900194522] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:36:35,448 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:35,456 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:35,457 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:35,460 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:35,465 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:35,467 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:35,469 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:35,470 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:35,471 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:35,473 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:35,475 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:35,477 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:35,481 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:35,483 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:35,484 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:35,489 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:35,500 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:35,502 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:35,503 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:35,506 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:35,507 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:35,508 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:35,509 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:36:35,522 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:35,524 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:35,526 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:35,527 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:35,528 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:35,530 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:35,531 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:35,592 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 4.000000 seconds
2025-02-18 09:36:35,736 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:35,831 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:36,612 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:36:36,624 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:36:36,639 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:36:36,643 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:36:36,649 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:36:36,653 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:36:36,683 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:36:37,628 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:37,632 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:37,646 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:36:37,649 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:37,652 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:37,656 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:37,664 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:37,667 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:37,671 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:37,673 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:37,675 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:37,746 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:38,022 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:38,641 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:38,655 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:38,664 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:38,694 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:38,697 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:38,845 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:39,699 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:39,758 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:40,701 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:40,721 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:41,015 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:36:41,953 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:42,674 [Thread-6 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:43,762 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739900194522] Error in handle_query: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:36:43,776 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739900194522] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:36:43,777 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739900194517] Error handling request: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}
2025-02-18 09:36:43,782 [Thread-6 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739900194517] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 209, in get_structured_completion_async
    response = await client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/resources/messages/messages.py", line 2051, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
    ...<24 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1848, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1542, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1628, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1675, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/guha/mahi/v1/lib/python3.13/site-packages/anthropic/_base_client.py", line 1643, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.RateLimitError: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 167, in getRankedAnswers
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 81, in rankItem
    ranking = await mllm.get_structured_completion_async(prompt, ans_struc, self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/guha/nlweb/code/strv2/mllm.py", line 273, in get_structured_completion_async
    raise ValueError(f"Error getting completion: {e}")
ValueError: Error getting completion: Error code: 429 - {'type': 'error', 'error': {'type': 'rate_limit_error', 'message': 'This request would exceed your organization’s rate limit of 80,000 input tokens per minute. For details, refer to: https://docs.anthropic.com/en/api/rate-limits; see the response headers for current usage. Please reduce the prompt length or the maximum tokens requested, or try again later. You may also contact sales at https://www.anthropic.com/contact-sales to discuss your options for a rate limit increase.'}}

2025-02-18 09:36:43,783 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:36:46,788 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900206788] Received GET request for path: /?query=something%20my%20daughter%20can%20wear%20at%20college%20in%20northern%20california%2C%20in%20the%20spring&site=backcountry&model=claude-3-5-sonnet-latest&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:36:46,789 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900206788] Received parameters: {'query': ['something my daughter can wear at college in northern california, in the spring'], 'site': ['backcountry'], 'model': ['claude-3-5-sonnet-latest'], 'prev': ['[]']}
2025-02-18 09:36:46,790 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900206788] Processing query with handler: BaseNLWebHandler
2025-02-18 09:36:46,790 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900206790] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:36:47,483 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.416293 seconds
2025-02-18 09:36:47,501 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 0.479740 seconds
2025-02-18 09:36:47,742 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,748 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:47,756 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,757 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:47,761 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,763 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,767 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:47,768 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,784 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,786 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:47,790 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:47,791 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:47,812 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:47,816 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:47,819 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,821 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:47,823 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:47,826 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,840 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:47,841 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:47,848 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,857 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,880 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:47,893 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,897 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:47,909 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:47,912 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,917 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,919 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,923 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:47,925 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,927 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,929 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 1.000000 seconds
2025-02-18 09:36:47,937 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 3.000000 seconds
2025-02-18 09:36:47,944 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:47,957 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:47,960 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:47,963 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 7.000000 seconds
2025-02-18 09:36:47,966 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 10.000000 seconds
2025-02-18 09:36:47,969 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:47,971 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:48,035 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:48,083 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:48,120 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:48,126 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:48,237 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 2.000000 seconds
2025-02-18 09:36:48,896 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:48,908 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:48,921 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:48,931 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:48,935 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:49,009 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:49,017 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:49,022 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:49,027 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:49,035 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:49,038 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 5.000000 seconds
2025-02-18 09:36:49,073 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:49,101 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:49,105 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:49,118 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:49,137 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:49,183 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 6.000000 seconds
2025-02-18 09:36:49,910 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:49,933 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:49,936 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:49,957 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:49,971 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:49,976 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:49,993 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:50,003 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:50,021 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:50,092 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:50,097 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 9.000000 seconds
2025-02-18 09:36:50,107 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:50,441 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:50,934 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:50,978 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:50,989 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:51,042 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:36:51,073 [Thread-7 (process_request_thread)] INFO [anthropic._base_client._retry_request:1671] Retrying request to /v1/messages in 8.000000 seconds
2025-02-18 09:37:10,617 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-18 09:37:32,808 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900252808] Received GET request for path: /html/str_chat.html
2025-02-18 09:37:32,864 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900252864] Received GET request for path: /favicon.ico
2025-02-18 09:37:47,330 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900267330] Received GET request for path: /?query=something%20my%20daughter%20can%20wear%20at%20college%20in%20northern%20california%2C%20in%20spring&site=backcountry&model=gpt-4o&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 09:37:47,331 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900267330] Received parameters: {'query': ['something my daughter can wear at college in northern california, in spring'], 'site': ['backcountry'], 'model': ['gpt-4o'], 'prev': ['[]']}
2025-02-18 09:37:47,333 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900267330] Processing query with handler: BaseNLWebHandler
2025-02-18 09:37:47,334 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900267334] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:37:57,305 [Thread-6 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739900267334] Query handling completed successfully
2025-02-18 09:37:57,315 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:39:29,528 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900369528] Received GET request for path: /html/backcountry.html
2025-02-18 09:39:29,537 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900369537] Received GET request for path: /html/BackCountryTop.png
2025-02-18 09:39:30,191 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900370191] Received GET request for path: /favicon.ico
2025-02-18 09:39:39,521 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900379521] Received GET request for path: /?query=Something%20my%20daughter%20can%20wear%20at%20college%20in%20northern%20california%2C%20in%20spring&site=backcountry&num=16&model=gpt-4o&prev=
2025-02-18 09:39:39,522 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900379521] Received parameters: {'query': ['Something my daughter can wear at college in northern california, in spring'], 'site': ['backcountry'], 'num': ['16'], 'model': ['gpt-4o']}
2025-02-18 09:39:39,524 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900379521] Processing query with handler: BaseNLWebHandler
2025-02-18 09:39:39,525 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900379525] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:39:40,539 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.389403 seconds
2025-02-18 09:39:48,169 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739900379525] Query handling completed successfully
2025-02-18 09:39:48,180 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:40:00,378 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900400378] Received GET request for path: /?query=outer%20wear%20for%20winter%20in%20Yosemite&site=backcountry&num=16&model=gpt-4o&prev=
2025-02-18 09:40:00,380 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900400378] Received parameters: {'query': ['outer wear for winter in Yosemite'], 'site': ['backcountry'], 'num': ['16'], 'model': ['gpt-4o']}
2025-02-18 09:40:00,380 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900400378] Processing query with handler: BaseNLWebHandler
2025-02-18 09:40:00,381 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900400381] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:40:00,821 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.456226 seconds
2025-02-18 09:40:05,884 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739900400381] Query handling completed successfully
2025-02-18 09:40:05,895 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:40:14,737 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900414736] Received GET request for path: /?query=outer%20wear%20for%20winter%20in%20while%20hiking%20in%20the%20cascades&site=backcountry&num=16&model=gpt-4o&prev=
2025-02-18 09:40:14,740 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900414736] Received parameters: {'query': ['outer wear for winter in while hiking in the cascades'], 'site': ['backcountry'], 'num': ['16'], 'model': ['gpt-4o']}
2025-02-18 09:40:14,741 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900414736] Processing query with handler: BaseNLWebHandler
2025-02-18 09:40:14,741 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900414741] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:40:15,189 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.423179 seconds
2025-02-18 09:40:19,471 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739900414741] Query handling completed successfully
2025-02-18 09:40:19,481 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:40:30,187 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:40:41,369 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900441369] Received GET request for path: /?query=outer%20wear%20for%20hiking%20in%20the%20cascades%20in%20december&site=backcountry&num=16&model=gpt-4o&prev=
2025-02-18 09:40:41,370 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900441369] Received parameters: {'query': ['outer wear for hiking in the cascades in december'], 'site': ['backcountry'], 'num': ['16'], 'model': ['gpt-4o']}
2025-02-18 09:40:41,370 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900441369] Processing query with handler: BaseNLWebHandler
2025-02-18 09:40:41,371 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900441371] Starting query handling for site: backcountry, query_id: 
2025-02-18 09:40:41,902 [Thread-11 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.483765 seconds
2025-02-18 09:40:48,974 [Thread-11 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739900441371] Query handling completed successfully
2025-02-18 09:40:48,981 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:45:31,521 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900731520] Received GET request for path: /html/bc_product.html
2025-02-18 09:45:31,534 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900731534] Received GET request for path: /html/bc_product_mid.png
2025-02-18 09:45:31,535 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900731535] Received GET request for path: /html/bc_product_bot.png
2025-02-18 09:45:31,539 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900731539] Received GET request for path: /html/bc_product_top.png
2025-02-18 09:45:31,561 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900731561] Received GET request for path: /favicon.ico
2025-02-18 09:45:32,339 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:45:32,339 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:45:43,729 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900743728] Received GET request for path: /?query=something%20like%20this%20from%20Patagonia&site=bc_product&num=12&prev=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-2-insulated-jacket-womens%231
2025-02-18 09:45:43,729 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900743728] Received parameters: {'query': ['something like this from Patagonia'], 'site': ['bc_product'], 'num': ['12'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-2-insulated-jacket-womens#1']}
2025-02-18 09:45:43,730 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900743728] Processing query with handler: BCProductHandler
2025-02-18 09:45:43,730 [Thread-15 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900743730] Starting query handling for site: bc_product, query_id: 
2025-02-18 09:45:44,190 [Thread-15 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.397802 seconds
2025-02-18 09:46:26,529 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900786529] Received GET request for path: /html/bc_product.html
2025-02-18 09:46:26,532 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:46:26,559 [Thread-17 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900786559] Received GET request for path: /favicon.ico
2025-02-18 09:46:31,546 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:46:50,605 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739900810605] Received GET request for path: /?query=similar%20items%20from%20Patagonia&site=bc_product&num=12&prev=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-2-insulated-jacket-womens%231
2025-02-18 09:46:50,608 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739900810605] Received parameters: {'query': ['similar items from Patagonia'], 'site': ['bc_product'], 'num': ['12'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-2-insulated-jacket-womens#1']}
2025-02-18 09:46:50,609 [Thread-18 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739900810605] Processing query with handler: BCProductHandler
2025-02-18 09:46:50,609 [Thread-18 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739900810609] Starting query handling for site: bc_product, query_id: 
2025-02-18 09:47:00,020 [Thread-18 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739900810609] Query handling completed successfully
2025-02-18 09:47:00,024 [Thread-18 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:50:44,323 [Thread-15 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.932044 seconds
2025-02-18 09:50:46,400 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.write_stream:215] Connection error while writing to stream: [Errno 32] Broken pipe
2025-02-18 09:50:46,400 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.handle_query:198] [query_1739900743730] Error in handle_query: [Errno 32] Broken pipe
2025-02-18 09:50:46,411 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.handle_query:199] [query_1739900743730] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 155, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 60, in analyzeQuery
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 46, in decontextualizeQuery
    await self.http_handler.write_stream(message)
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 211, in write_stream
    self.wfile.write(data.encode('utf-8'))
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/socketserver.py", line 840, in write
    self._sock.sendall(b)
    ~~~~~~~~~~~~~~~~~~^^^
BrokenPipeError: [Errno 32] Broken pipe

2025-02-18 09:50:46,412 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.do_GET:154] [req_1739900743728] Error handling request: [Errno 32] Broken pipe
2025-02-18 09:50:46,415 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.do_GET:155] [req_1739900743728] Traceback: Traceback (most recent call last):
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 146, in do_GET
    loop.run_until_complete(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        self.handle_query(site, query, prev, model, query_id, context_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 721, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 192, in handle_query
    await handler.getRankedAnswers()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 155, in getRankedAnswers
    await self.analyzeQuery()
  File "/Users/guha/nlweb/code/strv2/baseHandler.py", line 60, in analyzeQuery
    await asyncio.gather(*tasks)
  File "/Users/guha/nlweb/code/strv2/backcountry_product.py", line 46, in decontextualizeQuery
    await self.http_handler.write_stream(message)
  File "/Users/guha/nlweb/code/strv2/WebServerHandler.py", line 211, in write_stream
    self.wfile.write(data.encode('utf-8'))
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/socketserver.py", line 840, in write
    self._sock.sendall(b)
    ~~~~~~~~~~~~~~~~~~^^^
BrokenPipeError: [Errno 32] Broken pipe

2025-02-18 09:50:46,415 [Thread-15 (process_request_thread)] ERROR [StreamingHandler.do_GET:168] [req_1739900743728] Failed to send error response due to SSL/connection error: [Errno 32] Broken pipe
2025-02-18 09:50:46,416 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:51:09,982 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739901069982] Received GET request for path: /html/streaming.js
2025-02-18 09:51:11,440 [Thread-20 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739901071440] Received GET request for path: /favicon.ico
2025-02-18 09:57:36,897 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739901456897] Received GET request for path: /html/bc_product.html
2025-02-18 09:57:36,908 [Thread-17 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:57:36,921 [Thread-21 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739901456921] Received GET request for path: /html/bc_product_top.png
2025-02-18 09:57:36,922 [Thread-22 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739901456922] Received GET request for path: /html/bc_product_bot.png
2025-02-18 09:57:36,922 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739901456922] Received GET request for path: /html/bc_product_mid.png
2025-02-18 09:57:36,927 [Thread-23 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739901456927] Received GET request for path: /favicon.ico
2025-02-18 09:57:41,903 [Thread-21 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:57:41,905 [Thread-22 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 09:57:45,236 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739901465236] Received GET request for path: /?query=similar%20items%20from%20Patagonia&site=bc_product&num=12&model=gpt-4o&prev=&context_url=https%3A%2F%2Fwww.backcountry.com%2Fmountain-hardwear-firefall-2-insulated-jacket-womens%231
2025-02-18 09:57:45,236 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739901465236] Received parameters: {'query': ['similar items from Patagonia'], 'site': ['bc_product'], 'num': ['12'], 'model': ['gpt-4o'], 'context_url': ['https://www.backcountry.com/mountain-hardwear-firefall-2-insulated-jacket-womens#1']}
2025-02-18 09:57:45,238 [Thread-24 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739901465236] Processing query with handler: BCProductHandler
2025-02-18 09:57:45,238 [Thread-24 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739901465238] Starting query handling for site: bc_product, query_id: 
2025-02-18 09:57:45,661 [Thread-24 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.473495 seconds
2025-02-18 09:57:54,413 [Thread-24 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739901465238] Query handling completed successfully
2025-02-18 09:57:54,418 [Thread-24 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 10:41:35,939 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904095939] Received GET request for path: /html/serious_eats.html
2025-02-18 10:41:35,950 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904095950] Received GET request for path: /html/streaming.js
2025-02-18 10:41:36,229 [Thread-26 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904096228] Received GET request for path: /static/6.85.0/static/cache/eNqdlttu2zAMhl9oQbC-QbalRYEFK3q6l0XGZSOLAkW58Z5-THa42oWpK8sCP1H-Jf70tmpQituJoSWs26FluDzf67YIDgQ2AKr6520TWfDTdi0kCodrzHokQGFwhKfEH7uoNJMSVgeodZdDWiy47iAURVkPR84Vsx5CDiNONlqPHhPCiLcsd8VBRSFFvoenpSpO6znAoY0j5dGBHMsOnlBmlFcC5PXkCEX2-cgSnZpQqI8KD8KzJXQcg0VnJV2-Uz75tUk0431WW8LPlhAKecJJOpJc334fxRcC9y0tQhFvE7M46qK-BUHwb7YR3HRQmY7Ula6iKeoo91Iynlvt0ZHOXeq3YbpE9rDSBjKP6UFVoQsTKgkTHbWH5oK5S6T41vLJ2VSioAXOuBHMZhcoG5suKSyO_Q7vGPWuBfFcof52MRWHixZ9UUqOko1NTIq4eLGr9k4nq_QTnXnMGT7vCXzEjY9g0eErZzNKX40OdX-2DlDJGrqjRfIUKP-wbGIt6JkfmfXbdW79GidcPlg83_jXwnqO2WMEIVfr4dNDkDC5kwXFkWV5vqySjOF8sH27fkCapP9n_Re5P2Nsl7V_Adq4HRY.js
2025-02-18 10:41:36,229 [Thread-27 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904096229] Received GET request for path: /static/6.85.0/cache/eNqdU1FugzAMvdAiDrHfXcIkJvFmki4xpfT0M9B1jALqJiHFdt4zz3lJVQSEbNVCFMbqljHVpXrX77PDPLxUv0G60QkxCWExdUcspicJZhfdamDOEIkZTLE5Ma9RNrWnFDFKqSgK5ghcOWwwj_wpyOgOSNA0qggEDVP8MBn7TDKzFdVitriHOeiKl1kKXWfOdCgPxZ8GyXWME4jhOhg4UtyT86hrQPJBXgNEj29UBKPK3ireey2aeE61nlRAcBNrXLZwEc7ktZjijWK0sgi3OE3KrTKxL4yiI5tCPnanx8rBkH9hb8utO5EUR41GzWrX-T-Fj_T9339bk5GphNHOOTI26d2M8oSra-q-Tj96qy4UhGzDKt26WuPzgR6Gh71F6xrK9PIaxgvVjMdXkVrwE9xT88RsFnLqCvI9OOA48pSCccgwoFulX72uuxk.min.js
2025-02-18 10:41:51,778 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904111778] Received GET request for path: /html/backcountry.html
2025-02-18 10:41:51,792 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904111792] Received GET request for path: /html/BackCountryTop.png
2025-02-18 10:41:51,794 [Thread-29 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904111794] Received GET request for path: /html/BackCountryBottom.png
2025-02-18 10:41:51,838 [Thread-29 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904111838] Received GET request for path: /favicon.ico
2025-02-18 10:42:08,264 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904128264] Received GET request for path: /html/bc_product.html
2025-02-18 10:42:08,273 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904128273] Received GET request for path: /html/bc_product_top.png
2025-02-18 10:42:08,274 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904128274] Received GET request for path: /html/bc_product_mid.png
2025-02-18 10:42:08,276 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904128276] Received GET request for path: /html/bc_product_bot.png
2025-02-18 10:42:08,291 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904128291] Received GET request for path: /favicon.ico
2025-02-18 10:45:42,869 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904342869] Received GET request for path: /html/str_chat.html
2025-02-18 10:45:42,893 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904342893] Received GET request for path: /html/clear.jpeg
2025-02-18 10:45:42,893 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904342893] Received GET request for path: /html/debug.png
2025-02-18 10:45:42,905 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904342905] Received GET request for path: /favicon.ico
2025-02-18 10:46:00,453 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904360453] Received GET request for path: /html/nlwebsearch.html
2025-02-18 10:46:00,488 [Thread-28 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739904360488] Received GET request for path: /favicon.ico
2025-02-18 11:02:03,914 [Thread-32 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905323913] Received GET request for path: /?query=house%20for%203%20kids%20and%202%20dogs&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 11:02:03,917 [Thread-32 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739905323913] Received parameters: {'query': ['house for 3 kids and 2 dogs'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 11:02:03,921 [Thread-32 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739905323913] Processing query with handler: ZillowHandler
2025-02-18 11:02:03,925 [Thread-32 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739905323925] Starting query handling for site: zillow, query_id: 
2025-02-18 11:02:03,950 [Thread-32 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.400661 seconds
2025-02-18 11:02:05,073 [Thread-32 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: False
2025-02-18 11:02:05,073 [Thread-32 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739905323925] Query handling completed successfully
2025-02-18 11:02:05,078 [Thread-32 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:02:08,193 [Thread-33 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905328193] Received GET request for path: /?query=Palo%20Alto&site=zillow&model=gpt-4o-mini&prev=%5B%22house%20for%203%20kids%20and%202%20dogs%22%5D&item_to_remember=&context_url=
2025-02-18 11:02:08,195 [Thread-33 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739905328193] Received parameters: {'query': ['Palo Alto'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['["house for 3 kids and 2 dogs"]']}
2025-02-18 11:02:08,198 [Thread-33 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739905328193] Processing query with handler: ZillowHandler
2025-02-18 11:02:08,199 [Thread-33 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739905328199] Starting query handling for site: zillow, query_id: 
2025-02-18 11:02:08,214 [Thread-33 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.434996 seconds
2025-02-18 11:02:10,029 [Thread-33 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-18 11:02:11,017 [Thread-33 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-18 11:02:15,579 [Thread-33 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739905328199] Query handling completed successfully
2025-02-18 11:02:15,582 [Thread-33 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:09:28,302 [Thread-34 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905768301] Received GET request for path: /html/str_chat.html
2025-02-18 11:09:28,313 [Thread-20 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:09:28,320 [Thread-34 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905768320] Received GET request for path: /html/streaming.js
2025-02-18 11:09:28,325 [Thread-34 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905768325] Received GET request for path: /html/clear.jpeg
2025-02-18 11:09:28,325 [Thread-35 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905768325] Received GET request for path: /html/debug.png
2025-02-18 11:09:28,331 [Thread-35 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905768331] Received GET request for path: /favicon.ico
2025-02-18 11:09:28,578 [Thread-34 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:09:38,757 [Thread-36 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905778757] Received GET request for path: /?query=house%20for%203%20kids%20and%202%20dogs&site=imdb&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 11:09:38,759 [Thread-36 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739905778757] Received parameters: {'query': ['house for 3 kids and 2 dogs'], 'site': ['imdb'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 11:09:38,761 [Thread-36 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739905778757] Processing query with handler: Imdb2Handler
2025-02-18 11:09:38,761 [Thread-36 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739905778761] Starting query handling for site: imdb, query_id: 
2025-02-18 11:09:38,776 [Thread-36 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.423761 seconds
2025-02-18 11:09:39,975 [Thread-36 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Outdoor Gear
2025-02-18 11:09:41,391 [Thread-36 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:60] item_type in imdb2: Outdoor Gear
2025-02-18 11:09:48,477 [Thread-36 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739905778761] Query handling completed successfully
2025-02-18 11:09:48,482 [Thread-36 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:09:54,925 [Thread-37 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905794924] Received GET request for path: /?query=house%20for%203%20kids%20and%202%20dogs&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 11:09:54,925 [Thread-37 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739905794924] Received parameters: {'query': ['house for 3 kids and 2 dogs'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 11:09:54,926 [Thread-37 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739905794924] Processing query with handler: ZillowHandler
2025-02-18 11:09:54,927 [Thread-37 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739905794927] Starting query handling for site: zillow, query_id: 
2025-02-18 11:09:54,938 [Thread-37 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.404820 seconds
2025-02-18 11:09:56,036 [Thread-37 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: False
2025-02-18 11:09:56,038 [Thread-37 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739905794927] Query handling completed successfully
2025-02-18 11:09:56,041 [Thread-37 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:10:08,136 [Thread-38 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905808135] Received GET request for path: /?query=Palo%20Alto%20area&site=zillow&model=gpt-4o-mini&prev=%5B%22house%20for%203%20kids%20and%202%20dogs%22%5D&item_to_remember=&context_url=
2025-02-18 11:10:08,137 [Thread-38 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739905808135] Received parameters: {'query': ['Palo Alto area'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['["house for 3 kids and 2 dogs"]']}
2025-02-18 11:10:08,138 [Thread-38 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739905808135] Processing query with handler: ZillowHandler
2025-02-18 11:10:08,139 [Thread-38 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739905808139] Starting query handling for site: zillow, query_id: 
2025-02-18 11:10:08,148 [Thread-38 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.488628 seconds
2025-02-18 11:10:12,575 [Thread-38 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-18 11:10:13,776 [Thread-38 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-18 11:10:22,257 [Thread-38 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739905808139] Query handling completed successfully
2025-02-18 11:10:22,273 [Thread-38 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:11:07,895 [Thread-39 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905867895] Received GET request for path: /html/str_chat.html
2025-02-18 11:11:07,901 [Thread-35 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:11:07,908 [Thread-39 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905867908] Received GET request for path: /html/streaming.js
2025-02-18 11:11:07,912 [Thread-39 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905867912] Received GET request for path: /html/clear.jpeg
2025-02-18 11:11:07,914 [Thread-40 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905867914] Received GET request for path: /html/debug.png
2025-02-18 11:11:07,917 [Thread-40 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905867917] Received GET request for path: /favicon.ico
2025-02-18 11:11:08,061 [Thread-39 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:11:19,286 [Thread-41 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905879286] Received GET request for path: /?query=house%20for%202%20kids%20and%20a%20dog%2C%20with%20a%20pool&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 11:11:19,286 [Thread-41 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739905879286] Received parameters: {'query': ['house for 2 kids and a dog, with a pool'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 11:11:19,288 [Thread-41 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739905879286] Processing query with handler: ZillowHandler
2025-02-18 11:11:19,289 [Thread-41 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739905879289] Starting query handling for site: zillow, query_id: 
2025-02-18 11:11:19,297 [Thread-41 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.459636 seconds
2025-02-18 11:11:20,634 [Thread-41 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: False
2025-02-18 11:11:20,636 [Thread-41 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739905879289] Query handling completed successfully
2025-02-18 11:11:20,639 [Thread-41 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:11:24,485 [Thread-42 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905884485] Received GET request for path: /?query=Palo%20Alto&site=zillow&model=gpt-4o-mini&prev=%5B%22house%20for%202%20kids%20and%20a%20dog%2C%20with%20a%20pool%22%5D&item_to_remember=&context_url=
2025-02-18 11:11:24,486 [Thread-42 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739905884485] Received parameters: {'query': ['Palo Alto'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['["house for 2 kids and a dog, with a pool"]']}
2025-02-18 11:11:24,487 [Thread-42 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739905884485] Processing query with handler: ZillowHandler
2025-02-18 11:11:24,488 [Thread-42 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739905884488] Starting query handling for site: zillow, query_id: 
2025-02-18 11:11:24,504 [Thread-42 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.421345 seconds
2025-02-18 11:11:25,509 [Thread-42 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-18 11:11:26,572 [Thread-42 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-18 11:11:34,214 [Thread-42 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739905884488] Query handling completed successfully
2025-02-18 11:11:34,226 [Thread-42 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:12:21,783 [Thread-43 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905941783] Received GET request for path: /html/str_chat.html
2025-02-18 11:12:21,791 [Thread-40 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:12:21,799 [Thread-43 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905941799] Received GET request for path: /html/streaming.js
2025-02-18 11:12:21,804 [Thread-43 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905941804] Received GET request for path: /html/clear.jpeg
2025-02-18 11:12:21,805 [Thread-44 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905941805] Received GET request for path: /html/debug.png
2025-02-18 11:12:21,808 [Thread-44 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905941808] Received GET request for path: /favicon.ico
2025-02-18 11:12:23,605 [Thread-43 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:12:32,992 [Thread-45 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905952992] Received GET request for path: /?query=house%20for%202%20kids%20and%203%20dogs&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 11:12:32,994 [Thread-45 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739905952992] Received parameters: {'query': ['house for 2 kids and 3 dogs'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 11:12:32,995 [Thread-45 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739905952992] Processing query with handler: ZillowHandler
2025-02-18 11:12:32,995 [Thread-45 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739905952995] Starting query handling for site: zillow, query_id: 
2025-02-18 11:12:33,004 [Thread-45 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.497151 seconds
2025-02-18 11:12:34,233 [Thread-45 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: False
2025-02-18 11:12:34,233 [Thread-45 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739905952995] Query handling completed successfully
2025-02-18 11:12:34,238 [Thread-45 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:12:45,152 [Thread-46 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739905965152] Received GET request for path: /?query=Palo%20Alto%20or%20Mountain%20View&site=zillow&model=gpt-4o-mini&prev=%5B%22house%20for%202%20kids%20and%203%20dogs%22%5D&item_to_remember=&context_url=
2025-02-18 11:12:45,152 [Thread-46 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739905965152] Received parameters: {'query': ['Palo Alto or Mountain View'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['["house for 2 kids and 3 dogs"]']}
2025-02-18 11:12:45,153 [Thread-46 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739905965152] Processing query with handler: ZillowHandler
2025-02-18 11:12:45,154 [Thread-46 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739905965154] Starting query handling for site: zillow, query_id: 
2025-02-18 11:12:45,162 [Thread-46 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.429159 seconds
2025-02-18 11:12:46,514 [Thread-46 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-18 11:12:47,475 [Thread-46 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-18 11:12:52,972 [Thread-46 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739905965154] Query handling completed successfully
2025-02-18 11:12:52,987 [Thread-46 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:13:26,743 [Thread-47 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739906006743] Received GET request for path: /html/str_chat.html
2025-02-18 11:13:26,751 [Thread-44 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:13:26,758 [Thread-47 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739906006758] Received GET request for path: /html/streaming.js
2025-02-18 11:13:26,763 [Thread-47 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739906006762] Received GET request for path: /html/clear.jpeg
2025-02-18 11:13:26,763 [Thread-48 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739906006763] Received GET request for path: /html/debug.png
2025-02-18 11:13:26,767 [Thread-48 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739906006767] Received GET request for path: /favicon.ico
2025-02-18 11:13:28,617 [Thread-47 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 11:13:40,259 [Thread-49 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739906020259] Received GET request for path: /?query=house%20in%20Palo%20Alto%20for%202%20kids%20and%20a%20dog&site=zillow&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 11:13:40,259 [Thread-49 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739906020259] Received parameters: {'query': ['house in Palo Alto for 2 kids and a dog'], 'site': ['zillow'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 11:13:40,260 [Thread-49 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739906020259] Processing query with handler: ZillowHandler
2025-02-18 11:13:40,262 [Thread-49 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739906020262] Starting query handling for site: zillow, query_id: 
2025-02-18 11:13:40,271 [Thread-49 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.451451 seconds
2025-02-18 11:13:41,452 [Thread-49 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-18 11:13:42,771 [Thread-49 (process_request_thread)] INFO [StreamingHandler.analyzeQuery:35] location_known in zillow: True
2025-02-18 11:13:48,734 [Thread-49 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739906020262] Query handling completed successfully
2025-02-18 11:13:48,754 [Thread-49 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 12:01:24,638 [MainThread] INFO [root.__init__:67] ThreadedHTTPServer initialized
2025-02-18 12:01:24,789 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739908884788] Received GET request for path: /html/serious_eats.html
2025-02-18 12:01:24,806 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739908884806] Received GET request for path: /html/streaming.js
2025-02-18 12:01:24,899 [Thread-5 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739908884898] Received GET request for path: /static/6.85.0/static/cache/eNqdlttu2zAMhl9oQbC-QbalRYEFK3q6l0XGZSOLAkW58Z5-THa42oWpK8sCP1H-Jf70tmpQituJoSWs26FluDzf67YIDgQ2AKr6520TWfDTdi0kCodrzHokQGFwhKfEH7uoNJMSVgeodZdDWiy47iAURVkPR84Vsx5CDiNONlqPHhPCiLcsd8VBRSFFvoenpSpO6znAoY0j5dGBHMsOnlBmlFcC5PXkCEX2-cgSnZpQqI8KD8KzJXQcg0VnJV2-Uz75tUk0431WW8LPlhAKecJJOpJc334fxRcC9y0tQhFvE7M46qK-BUHwb7YR3HRQmY7Ula6iKeoo91Iynlvt0ZHOXeq3YbpE9rDSBjKP6UFVoQsTKgkTHbWH5oK5S6T41vLJ2VSioAXOuBHMZhcoG5suKSyO_Q7vGPWuBfFcof52MRWHixZ9UUqOko1NTIq4eLGr9k4nq_QTnXnMGT7vCXzEjY9g0eErZzNKX40OdX-2DlDJGrqjRfIUKP-wbGIt6JkfmfXbdW79GidcPlg83_jXwnqO2WMEIVfr4dNDkDC5kwXFkWV5vqySjOF8sH27fkCapP9n_Re5P2Nsl7V_Adq4HRY.js
2025-02-18 12:01:24,899 [Thread-6 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739908884899] Received GET request for path: /static/6.85.0/cache/eNqdU1FugzAMvdAiDrHfXcIkJvFmki4xpfT0M9B1jALqJiHFdt4zz3lJVQSEbNVCFMbqljHVpXrX77PDPLxUv0G60QkxCWExdUcspicJZhfdamDOEIkZTLE5Ma9RNrWnFDFKqSgK5ghcOWwwj_wpyOgOSNA0qggEDVP8MBn7TDKzFdVitriHOeiKl1kKXWfOdCgPxZ8GyXWME4jhOhg4UtyT86hrQPJBXgNEj29UBKPK3ireey2aeE61nlRAcBNrXLZwEc7ktZjijWK0sgi3OE3KrTKxL4yiI5tCPnanx8rBkH9hb8utO5EUR41GzWrX-T-Fj_T9339bk5GphNHOOTI26d2M8oSra-q-Tj96qy4UhGzDKt26WuPzgR6Gh71F6xrK9PIaxgvVjMdXkVrwE9xT88RsFnLqCvI9OOA48pSCccgwoFulX72uuxk.min.js
2025-02-18 12:01:40,533 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739908900533] Received GET request for path: /?query=spicy%20crunchy%20snacks%20that%20would%20be%20good%20as%20appetizers&site=seriouseats&model=gpt-4o-mini&prev=%5B%5D&item_to_remember=&context_url=
2025-02-18 12:01:40,535 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739908900533] Received parameters: {'query': ['spicy crunchy snacks that would be good as appetizers'], 'site': ['seriouseats'], 'model': ['gpt-4o-mini'], 'prev': ['[]']}
2025-02-18 12:01:40,537 [Thread-7 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739908900533] Processing query with handler: RecipeHandler
2025-02-18 12:01:40,538 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739908900538] Starting query handling for site: seriouseats, query_id: 
2025-02-18 12:01:45,426 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739908905426] Received GET request for path: /html/info.png
2025-02-18 12:01:47,591 [Thread-7 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739908900538] Query handling completed successfully
2025-02-18 12:01:47,603 [Thread-7 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 12:03:48,944 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739909028943] Received GET request for path: /?query=summer%20wear%20for%20palo%20alto&site=backcountry&num=16&model=gpt-4o&prev=
2025-02-18 12:03:48,947 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739909028943] Received parameters: {'query': ['summer wear for palo alto'], 'site': ['backcountry'], 'num': ['16'], 'model': ['gpt-4o']}
2025-02-18 12:03:48,949 [Thread-8 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739909028943] Processing query with handler: BaseNLWebHandler
2025-02-18 12:03:48,950 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739909028949] Starting query handling for site: backcountry, query_id: 
2025-02-18 12:03:50,063 [Thread-8 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.394730 seconds
2025-02-18 12:03:58,033 [Thread-8 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739909028949] Query handling completed successfully
2025-02-18 12:03:58,041 [Thread-8 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 12:04:07,547 [Thread-6 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 12:04:07,547 [Thread-5 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 12:04:22,865 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739909062865] Received GET request for path: /?query=womens%20summer%20wear%20for%20palo%20alto&site=backcountry&num=16&model=gpt-4o&prev=
2025-02-18 12:04:22,865 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739909062865] Received parameters: {'query': ['womens summer wear for palo alto'], 'site': ['backcountry'], 'num': ['16'], 'model': ['gpt-4o']}
2025-02-18 12:04:22,866 [Thread-9 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739909062865] Processing query with handler: BaseNLWebHandler
2025-02-18 12:04:22,866 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739909062866] Starting query handling for site: backcountry, query_id: 
2025-02-18 12:04:23,548 [Thread-9 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.405881 seconds
2025-02-18 12:04:28,095 [Thread-9 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739909062866] Query handling completed successfully
2025-02-18 12:04:28,112 [Thread-9 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 12:04:40,099 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739909080099] Received GET request for path: /?query=teenage%20boy%20summer%20wear%20for%20palo%20alto&site=backcountry&num=16&model=gpt-4o&prev=
2025-02-18 12:04:40,101 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:125] [req_1739909080099] Received parameters: {'query': ['teenage boy summer wear for palo alto'], 'site': ['backcountry'], 'num': ['16'], 'model': ['gpt-4o']}
2025-02-18 12:04:40,102 [Thread-10 (process_request_thread)] INFO [StreamingHandler.do_GET:145] [req_1739909080099] Processing query with handler: BaseNLWebHandler
2025-02-18 12:04:40,102 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:183] [query_1739909080102] Starting query handling for site: backcountry, query_id: 
2025-02-18 12:04:40,720 [Thread-10 (process_request_thread)] INFO [openai._base_client._retry_request:1666] Retrying request to /chat/completions in 0.410755 seconds
2025-02-18 12:04:47,265 [Thread-10 (process_request_thread)] INFO [StreamingHandler.handle_query:196] [query_1739909080102] Query handling completed successfully
2025-02-18 12:04:47,273 [Thread-10 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 12:13:15,419 [Thread-11 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739909595419] Received GET request for path: /static/6.85.0/static/cache/eNqdlttu2zAMhl9oQbC-QbalRYEFK3q6l0XGZSOLAkW58Z5-THa42oWpK8sCP1H-Jf70tmpQituJoSWs26FluDzf67YIDgQ2AKr6520TWfDTdi0kCodrzHokQGFwhKfEH7uoNJMSVgeodZdDWiy47iAURVkPR84Vsx5CDiNONlqPHhPCiLcsd8VBRSFFvoenpSpO6znAoY0j5dGBHMsOnlBmlFcC5PXkCEX2-cgSnZpQqI8KD8KzJXQcg0VnJV2-Uz75tUk0431WW8LPlhAKecJJOpJc334fxRcC9y0tQhFvE7M46qK-BUHwb7YR3HRQmY7Ula6iKeoo91Iynlvt0ZHOXeq3YbpE9rDSBjKP6UFVoQsTKgkTHbWH5oK5S6T41vLJ2VSioAXOuBHMZhcoG5suKSyO_Q7vGPWuBfFcof52MRWHixZ9UUqOko1NTIq4eLGr9k4nq_QTnXnMGT7vCXzEjY9g0eErZzNKX40OdX-2DlDJGrqjRfIUKP-wbGIt6JkfmfXbdW79GidcPlg83_jXwnqO2WMEIVfr4dNDkDC5kwXFkWV5vqySjOF8sH27fkCapP9n_Re5P2Nsl7V_Adq4HRY.js
2025-02-18 12:13:15,420 [Thread-12 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739909595420] Received GET request for path: /static/6.85.0/cache/eNqdU1FugzAMvdAiDrHfXcIkJvFmki4xpfT0M9B1jALqJiHFdt4zz3lJVQSEbNVCFMbqljHVpXrX77PDPLxUv0G60QkxCWExdUcspicJZhfdamDOEIkZTLE5Ma9RNrWnFDFKqSgK5ghcOWwwj_wpyOgOSNA0qggEDVP8MBn7TDKzFdVitriHOeiKl1kKXWfOdCgPxZ8GyXWME4jhOhg4UtyT86hrQPJBXgNEj29UBKPK3ireey2aeE61nlRAcBNrXLZwEc7ktZjijWK0sgi3OE3KrTKxL4yiI5tCPnanx8rBkH9hb8utO5EUR41GzWrX-T-Fj_T9339bk5GphNHOOTI26d2M8oSra-q-Tj96qy4UhGzDKt26WuPzgR6Gh71F6xrK9PIaxgvVjMdXkVrwE9xT88RsFnLqCvI9OOA48pSCccgwoFulX72uuxk.min.js
2025-02-18 12:13:20,708 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739909600708] Received GET request for path: /html/backcountry.html
2025-02-18 12:13:20,717 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739909600717] Received GET request for path: /html/BackCountryTop.png
2025-02-18 12:13:20,733 [Thread-13 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739909600733] Received GET request for path: /favicon.ico
2025-02-18 12:13:48,904 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739909628904] Received GET request for path: /html/streaming.js
2025-02-18 12:13:48,929 [Thread-14 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739909628929] Received GET request for path: /favicon.ico
2025-02-18 12:13:54,663 [Thread-15 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739909634663] Received GET request for path: /favicon.ico
2025-02-18 12:15:37,570 [Thread-11 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 12:15:37,573 [Thread-12 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:23,587 [Thread-16 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:23,589 [Thread-17 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:23,592 [Thread-18 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:23,594 [Thread-19 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:23,595 [Thread-20 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:23,596 [Thread-21 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:23,596 [Thread-22 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:23,597 [Thread-23 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:27,258 [Thread-24 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:27,260 [Thread-25 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:27,264 [Thread-26 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:27,265 [Thread-27 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:27,265 [Thread-28 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:00:27,267 [Thread-29 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:05:44,159 [Thread-13 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:05:44,163 [Thread-14 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 16:05:44,168 [Thread-15 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-18 18:43:42,321 [Thread-30 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739933022321] Received GET request for path: /html/streaming.js
2025-02-18 18:49:03,041 [Thread-30 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-19 07:51:07,901 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739980267901] Received GET request for path: /html/str_chat.html
2025-02-19 07:51:07,918 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739980267918] Received GET request for path: /html/streaming.js
2025-02-19 07:51:07,923 [Thread-31 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739980267923] Received GET request for path: /html/clear.jpeg
2025-02-19 07:51:07,923 [Thread-32 (process_request_thread)] INFO [StreamingHandler.do_GET:104] [req_1739980267923] Received GET request for path: /html/debug.png
2025-02-19 07:51:10,322 [Thread-32 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
2025-02-19 07:51:10,322 [Thread-31 (process_request_thread)] INFO [StreamingHandler.__init__:78] StreamingHandler initialized with directory: /Users/guha/nlweb/code/strv2
